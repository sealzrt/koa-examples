{"version":3,"sources":["views/order/order.less","public/images/common/modal-rabbit.png","views/components/empty-page.less","components/loading/loading.less","views/product/product.less","views/payment/payment.less","public/images/product/base.png","views/product/product-list.less","public/images/product/gift.png","public/images/product/advanced.png","public/images/product/excellent.png","public/images/loading.gif","public/images/common/photo.png","public/images/common-loading.gif","public/js/flexible.js","config/app-config.ts","constants/common.ts","constants/order.ts","constants/events.ts","utils/monitor.ts","utils/local-store.ts","utils/tools.ts","views/components/empty-page.tsx","components/error-boundary/index.js","components/hooks/useInterval.ts","components/hooks/useCountDown.ts","components/hooks/useStopBodyScroll.ts","components/hooks/useCurrentValue.ts","utils/message.tsx","utils/wechat-utils.ts","utils/request-utils.ts","config/share-config.ts","service/wechat-service.ts","components/hooks/useWechatSdk.tsx","components/hooks/useCheckWechatAuth.ts","components/hooks/useSimpleCountDown.ts","components/hooks/useVisibilityChange.ts","components/hooks/useViewEvent.ts","components/modal/msToast.tsx","views/product/count-down.tsx","views/components/course-pack-icon.tsx","views/product/product-detail.tsx","views/payment/hooks/useAliPay.ts","views/payment/hooks/useUrlPay.ts","views/payment/hooks/useUnionPay.ts","views/payment/hooks/useQrCodePay.ts","components/modal/modal.tsx","service/product-service.ts","views/order/model.ts","views/payment/hooks/useCmblifePay.tsx","views/payment/payment-method-item.tsx","views/payment/payment-method.tsx","views/payment/hooks/useWechatPay.ts","views/payment/payment-button.tsx","components/loading/index.tsx","components/user/user-info.tsx","views/product/product.tsx","views/product/product-list-item.tsx","views/product/product-list.tsx","views/payment/qrcode-pay.tsx","service/order-service.ts","views/order/count-down.tsx","views/order/order-payment.tsx","views/order/list-item.tsx","views/order/list.tsx","views/order/details.tsx","views/payment/union-pay/model.ts","views/payment/union-pay/smscode-button.tsx","views/payment/union-pay/use-polling-order.ts","views/payment/union-pay/sms-code.tsx","views/payment/union-pay/bank-card.tsx","views/payment/union-pay/index.tsx","views/payment/result.tsx","views/agreement/agreement.tsx","router/index.tsx","App.tsx","index.tsx","views/payment/union-pay/union-pay.less","components/modal/modal.less","components/user/user-info.less","views/order/order-payment.less","views/payment/qrcode-pay.less","views/payment/result.less"],"names":["module","exports","box","boxPaddingBm","order","title","footer","content","name","tip","package","hr_dotted","hr_solid","row","favourablePrice","promotion","ptname","pattern","price","finishOrder","paymentTime","guide","superOrder","orderDetail","timeline","timeline_item","timeline_item_tail","timeline_item_head","timeline_item_hard_inner","timeline_item_content","timeline_item_last","orderInfo","payroll","protocol","popup_mask","poput_warp","paydetail","switch-account","agreement","agreement-detail","empty","describe","button","loading","imgBox","product","coupon","elevenTip","payBar","payTip","payTime","pay","mask","noInterest","select","check","noCheck","stage","total","rate","selectStage","Wechat","WechatMP","WechatQR","Alipay","AlipayQR","AlipayWap","AlipayHB","CmblifeFQ","CCB_BLANK_FQ","GNETPG_FQ","UNIONPAY_BOC_FQ","UNIONPAY_ABOC_FQ","UNIONPAY_HXB_FQ","UNIONPAY_SPDB_FQ","UNIONPAY_CMBC_FQ","boxUp","modal-content","expireTime","toggle","buy","advanced","switch","rights","item","desc","subject","showRights","window","document","docEl","documentElement","dpr","devicePixelRatio","setRemUnit","rem","clientWidth","style","fontSize","addEventListener","e","persisted","fakeBody","createElement","testElement","border","appendChild","offsetHeight","classList","add","removeChild","concat","location","host","ACCOUNT_TYPE","PAYMENT_NAME_TEXT","PAYMENT_NAME","PAYMENT_CHANNEL","PAYMENT_TYPE","ERROR_CODE","ORDER_PAY_STATUS","PRODUCT_TYPE","PAYMENT","ORDER_STATUS","appConfig","_objectSpread","basename","process","env","cookie","userIdKey","userTokenKey","wechatTokenKey","mainOpenIdKey","domain","expiresDays","apiDomain","mobileDomain","resources","websiteDomain","monitorUrl","commonAuthUrl","loginUrl","payResultPath","payInfoCallbackUrl","elevenActivityUrl","ORDER_ERROR_CODE","PAYMENT_TEXT","DEFAULT","WECHAT","ALIPAY","FREE","SUB","WECHATMP","WECHATQR","ALIPAYQR","ALIPAYWAP","BANK","APPLEPAYQR","ALIPAYHB","CMBLIFEFQ","ORDER_STATUS_TEXT","FINISH","UNPAID","REFUND","CLOSE","UNION_BANK_CARD","SMS_CODE","EVENT_CODE","VIEW_PRODUCT_LIST","VIEW_PRODUCT_DETAIL","VIEW_ORDER_LIST","VIEW_ORDER_DETAIL","VIEW_AGREEMENT_DETAIL__ORDER","VIEW_AGREEMENT_DETAIL__PREVIEW","VIEW_QRCODE_PAY","VIEW_UNION_PAY","CLICK_PRODUCT_DETAIL","CLICK_PAYMENT__PRODUCT_DETAIL","CLICK_PAYMENT__ORDER_DETAIL","CLICK_PAYMENT__ORDER_LIST","PAYMENT_SUCCESS__PRODUCT_DETAIL","PAYMENT_SUCCESS__ORDER_DETAIL","PAYMENT_SUCCESS__ORDER_LIST","PAYMENT_FAIL__PRODUCT_DETAIL","PAYMENT_FAIL__ORDER_DETAIL","PAYMENT_FAIL__ORDER_LIST","PAYMENT_RESULT_ERROR","PAYMENT_PAGE","PRODUCT_DETAIL","ORDER_DETAIL","ORDER_LIST","logger","logHelper","eventName","showLog","monitor","login","userId","logout","log","options","info","errCode","eventCode","account","localStore","message","error","set","key","value","store","JSON","stringify","get","getToken","_appConfig$cookie2","userStoreToken","userCookieToken","jsCookies","userToken","expires","getWechatToken","_appConfig$cookie3","storeToken","cookieToken","wechatToken","getUserId","_appConfig$cookie5","storeUserId","cookieUserId","isPlainObject","Object","prototype","toString","call","isWeChat","userAgent","agent","navigator","test","isWap","isIOS","match","isAndroid","indexOf","encryptAccount","replace","formatDiffTime","diffTime","hour","Math","floor","leaveSecond","minute","formatMoney","money","num","result","cent","substr","length","slice","convertPennyToDollar","penny","arguments","undefined","toFixed","dollar","dollars","split","dollarInt","dollarFloat","throttle","action","delay","last","current","Number","Date","_len","args","Array","_key","apply","debounce","timer","_len2","_key2","clearTimeout","setTimeout","getLoginUrl","encodeURIComponent","href","convertPenny","isPromise","promise","then","getFullPath","path","getPathWithBasename","noop","getEventCodeByPath","url","getPaymentPage","getEventCodeByPaymentPage","success","EmptyPage","_ref","_ref$iconUrl","iconUrl","rabbit","_ref$describe","react_default","a","className","styles","src","alt","isArray","map","index","onClick","renderButtons","ErrorBoundary","state","hasError","this","components_empty_page","props","children","Component","useInterval","callback","callbackRef","useRef","useEffect","setInterval","clearInterval","TIME_OVER","getDiffTime","currentTime","endTime","dayjs","end","isNaN","valueOf","diff","useCountDown","onFinish","_useState","useState","_useState2","slicedToArray","setDiffTime","_useState3","_useState4","active","setActive","_useState5","_useState6","isInit","setIsInit","outTime","useVisibilityChange","inOutdiff","useStopBodyScroll","status","scrollTop","body","cssText","top","String","position","parseInt","useCurrentValue","toast_default","offline","showLoading","closeLoading","hide","wechatStatus","ready","wechatConfig","wechatSign","shareStatus","shareOptions","config","debug","appId","timestamp","nonceStr","signature","jsApiList","wx","wechatReady","wechatError","configShare","wechat_utils_objectSpread","link","type","dataUrl","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","showOrHideMenuShare","res","showShare","showMenuItems","menuList","hideMenuItems","_ref2","imgUrl","cancel","_ref3","_ref4","_ref5","successCode","withCredentials","getAccount","perfRule","headersHandle","headers","X-USER-TOKEN","request","RequestUtils","fetchUtils","params","post","data","postJson","imgUrlEnvConfig","development","default","dev","staging","production","shareConfig","entryUrl","getWechatSignature","tools","requestUtils","useWechatSdk","_options$account","MAIN","_options$shareStatus","_options$shareOptions","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","wechatUtils","wechatService","sent","t0","stop","init","NODE_ENV","defaultOptions","support","getAuthUrl","queryString","search","from","isappinstalled","objectWithoutProperties","returnUrl","pathname","useCheckWechatAuth","useLayoutEffect","openIdKey","authUrl","useSimpleCountDown","count","reset","setStatus","useCallback","prevDiff","outCallback","inCallback","onChangeEvent","hidden","removeEventListener","useViewEvent","messageInstance","CountDown","countDownTime","CoursePackIcon","baseIcon","YEAR_COURSE","TRAIN_RISE_BASE_COURSE","INTERNAL_RISE_BASE_COURSE","TRAIN_COURSE","SEASON_COURSE","INTERNAL_COURSE","gift","UPGRADE_BIG_COURSE","TWO_YEARS_COURSE","UNOBSTRUCTED_LEARNING365","UPGRADE_365_TO_TWO_YEAR_COURSE","UPGRADE_THREE_YEAR_COURSE","THREE_YEARS_COURSE","UPGRADE_TRAIN_TO_HEGEMONY_COURSE","excellentIcon","ProductDetail","couponElement","handleJumpToEleven","studentId","coupons","couponName","deductibleAmount","activityInfo","packageElement","activityAndCourse","courseList","course","code","unit","internalCourseElement","productType","originalPrice","course_pack_icon","shouldPrice","useAliPay","paymentInfo","selectMethod","paymentName","form","div","innerHTML","decodeURIComponent","forms","getElementsByTagName","alipayForm","find","submit","useUrlPay","payUrl","useUnionPay","orderNo","toLowerCase","stageCount","useQrCodePay","productId","NoPortalModal","closeText","okText","visible","closeVisible","okVisible","onClose","onOk","onToastClose","modalVisible","setVisible","closeDisabled","setCloseDisabled","okDisabled","setOkDisabled","Fragment","modal_Title","modal_Footer","Modal","esm_extends","modal_Portal","modal_NoPortalModal","Title","Footer","_ref4$closeText","_ref4$okText","_ref4$closeVisible","_ref4$okVisible","_ref4$closeDisabled","_ref4$okDisabled","buttons","push","Portal","_useState7","container","ReactDOM","createPortal","duration","prefixCls","notice","iconType","modal","fail","_classnames","destroy","Notification","newInstance","transitionName","classnames","defineProperty","notification","getMessageInstance","contentwrap","react","role","aria-live","closable","msToast","_props$duration","assign","ACTION_TYPE","getProductDetail","flagTime","createTime","classGroup","processOrderDetail","getPaymentMethod","handlePaymentMethod","payment","paymentMethodList","paymentText","orderStages","stageType","toConsumableArray","paymentList","forEach","createOrder","trackInOut","getPaymentInfo","callbackUrl","payInfo","payResultUrl","getPayResultUrl","getQRCodePaymentInfo","Promise","all","paymentMethod","product_service_objectSpread","paymentPrice","_x","getWechatPaymentInfo","packages","paySign","signType","timeStamp","queryOrderStatus","unionPay","_getChannelAndType","channel","WAP","INSTALLMENT","QRCODE","MP","CMBLIFE","CCB_BLANK","GNETPG","UNIONPAY_BOC","UNIONPAY_ABOC","UNIONPAY_HXB","UNIONPAY_SPDB","UNIONPAY_CMBC","Error","getChannelAndType","InitOrderState","OrderContext","createContext","reducer","_action$payload","payload","orderList","UPDATE_ORDER_INFO","UPDATE_ORDER_STATUS","model_objectSpread","UPDATE_ORDER_LIST","useCmblifePay","dispatch","useContext","MsToast","handleClose","handleOk","ProductService","React","memo","selected","onSelected","handleClickStage","selectClass","classNames","stageElement","stageClass","bind","eachAmount","totalAmount","interestRate","noInterestElement","nextProps","prevProps","initState","selectedName","method","stageInfo","payment_method_objectSpread","PaymentMethod","versionId","couponId","onTipMessage","animationClass","setAnimationClass","_useReducer","useReducer","_useReducer2","handleClick","selectPayment","_msg","productService","msg","t1","LOGIN_REQUIRED","BIZ_ORDER_PRODUCT_VERSION_CHANGE","BIZ_COUPON_VERSION_MISMATCHING","BIZ_ORDER_NOT_EXIST","BIZ_ORDER_IS_PAID","BIZ_ORDER_IS_PAID_SUB","BIZ_ORDER_IS_REFUND","BIZ_ORDER_EXPIRYTIME_OVER","BIZ_ORDER_IS_CLOSE","BIZ_ORDER_IS_SUB","BIZ_ORDER_NO_USER_ID_NOT_MATCH","BIZ_ORDER_STATUS_IS_ERROR","handleSelect","methodList","payment_method_item","useWechatPay","wechatPayOptions","onReloadData","chooseWXPay","errMsg","IActionType","modalKey","tipMsg","payment_button_objectSpread","close","wechatPay","tipMessage","tipType","payFlagTimer","payFlag","PaymentButton","disabled","_props$buttonText","buttonText","handleTipMessage","handleError","handleWechatPay","finish","handleShowPaymentMethod","_callee2","_context2","modalElement","payment_method","modal_Modal","Loading","loadingImg","handleChangeAccount","UserInfo","studentName","phone","photo","defaultPhoto","change","nickName","id","defaultShareOptions","withRouter","setProduct","isError","updateError","loadData","loading_Loading","countDownElement","expiredTime","count_down","now","user_info_UserInfo","product_detail","payment_button","ProductListItem","initValue","show","setShow","expireUnit","classHour","elements","rightFormats","right","val","renderRights","deductibleAmountStr","ProductList","setData","setNow","list","productInfos","listItems","product_list_item","QrCodePay","setPaymentInfo","setDataUrl","parse","orderStatus","BIZ_ORDER_NOT_PAID","BIZ_ORDER_ALREADY_PAID","statusText","canvas","imgDataUrl","toDataURL","imgElement","headerElement","headerClass","wechat","alipay","qrBox","lib_default","level","getOrderList","sonOrder","giveCourseList","processOrder","order_service_objectSpread","orderName","getOrderById","agreementConfirm","protocolStatus","OrderPayment","_ref$isFixed","isFixed","onCountDownFinish","clsPayTime","order_count_down","clsPaybar","payBarFixed","clsPay","payContent","UnPaidOrder","_ref$isPayFixed","isPayFixed","renderPgitem","t","activityList","activityName","renderActivity","orderPrice","actualPrice","renderAlready","order_order_payment","handleJumpDetail","FinishOrder","SuperOrder","baseStatus","orderListlen","p","classname","orderItem","setLoading","loadOrderList","_args","orderService","list_objectSpread","handleCountDownFinish","Provider","list_item_UnPaidOrder","list_item_SuperOrder","list_item_FinishOrder","paidTime","renderOrderList","PAGE_TYPE","updateLoading","_data","getStatus","details_objectSpread","BIZ_ORDER_INFO_ERROR","marginBottom","handleSwitchAccount","_callee3","_context3","confirm","dangerouslySetInnerHTML","__html","protocolHeader","protocolContent","_onOk","cls","details_OrderInfo","payInfos","payInfoList","agreeId","expiredTimeNum","renderOrderInfo","OrderInfo","payDetail","setPayDetail","expired","react_router_dom","to","details_PayDetail","showPayDetail","PayDetail","popupmask","_ref5$payInfos","pdclassName","subPayTime","subPayment","subActualPrice","unionPayInitState","pageType","Context","UPDATE_PHONE","UPDATE_BANK_NO","UPDATE_SMS_CODE","UPDATE_PAGE_TYPE","union_pay_model_objectSpread","SmsCodeButton","_ref$time","time","_useContext","bankNo","phoneNo","updateDisabled","ref","handleCountdownFinish","_useSimpleCountDown","_useSimpleCountDown2","countdownTime","updateCountdownActive","handleBtnClick","bankStr","text","button_default","usePollingOrder","_useState2$","updatePollingState","errorMessage","use_polling_order_objectSpread","smsCodePattern","verifySmsCode","smsCodeValue","UnionPay","smsCode","handleInputChange","handlePayClick","preventDefault","smsCodeContainer","list_default","input_item_default","placeholder","prefixListCls","maxLength","onChange","extra","smscode_button","btn","smsBtn","BANK_INPUT_MAX_LENGTH","bankPattern","verifyBankCard","handleForm","childNodes","$form","BankCard","handleBankChange","bankCardContainer","bankNoOfUrlParams","union_pay_objectSpread","contextValue","toUpperCase","bankContainer","bankName","bankIcon","bank_card","sms_code","Result","poll","setPoll","setOrderStatus","_useState8","isContinue","parentOrderNo","initialData","htmlContent","setState","qs","source","$iframe","$root","getElementById","minHeight","width","contentDocument","write","buildPreviewHtml","agreement_objectSpread","html","route","react_router","component","Product","OrderDetail","OrderList","Agreement","Monitor","App","script","onload","eruda","error_boundary_ErrorBoundary","router","render","src_App","modal-wrap","modal-header","modal-title","modal-operator","modal-operator-close","modal-operator-confirm","noTouch","disabled-payTime","disabled-pay"],"mappings":"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","file":"js/main.7aafa554.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--WYFlI\",\"boxPaddingBm\":\"boxPaddingBm--2srb7\",\"order\":\"order--2DgWJ\",\"title\":\"title--1TZ8e\",\"footer\":\"footer--3FT13\",\"content\":\"content--1_Hnm\",\"name\":\"name--U5KW3\",\"tip\":\"tip--2JJYS\",\"package\":\"package--2bBK3\",\"hr_dotted\":\"hr_dotted--3j-3G\",\"hr_solid\":\"hr_solid--3nESd\",\"row\":\"row--1eNAy\",\"favourablePrice\":\"favourablePrice--nTlST\",\"promotion\":\"promotion--2F8FX\",\"ptname\":\"ptname--2u3gz\",\"pattern\":\"pattern--cEGzW\",\"price\":\"price--29g5w\",\"finishOrder\":\"finishOrder--3a9u3\",\"paymentTime\":\"paymentTime--1xkcN\",\"guide\":\"guide--2RLda\",\"superOrder\":\"superOrder--oV-U_\",\"orderDetail\":\"orderDetail--2Y2CA\",\"timeline\":\"timeline--1UpAN\",\"timeline_item\":\"timeline_item--1-EOx\",\"timeline_item_tail\":\"timeline_item_tail--2-xGY\",\"timeline_item_head\":\"timeline_item_head--1z-Nc\",\"timeline_item_hard_inner\":\"timeline_item_hard_inner--2UmJ3\",\"timeline_item_content\":\"timeline_item_content--2MIzx\",\"timeline_item_last\":\"timeline_item_last--19b1v\",\"orderInfo\":\"orderInfo--3AjOv\",\"payroll\":\"payroll--3ScTi\",\"protocol\":\"protocol--2pQZo\",\"popup_mask\":\"popup_mask--t7J53\",\"poput_warp\":\"poput_warp--1v7V8\",\"paydetail\":\"paydetail--1onpR\",\"switch-account\":\"switch-account--3FNJ8\",\"agreement\":\"agreement--2A8-O\",\"agreement-detail\":\"agreement-detail--1GFhJ\"};","module.exports = \"https://img.mmears.cn/shop/img/modal-rabbit.aaefdd52.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty\":\"empty--2rFjk\",\"describe\":\"describe--3twUz\",\"button\":\"button--G1awy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--ExWSG\",\"loading\":\"loading--3GAxA\",\"imgBox\":\"imgBox--AY3qT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--4zkFy\",\"product\":\"product--2qr3J\",\"title\":\"title--2jqGs\",\"footer\":\"footer--24Qmm\",\"content\":\"content--nclt4\",\"name\":\"name--33MbN\",\"tip\":\"tip--3z-U2\",\"package\":\"package--2_nm1\",\"order\":\"order--2GlkI\",\"coupon\":\"coupon--3gox5\",\"elevenTip\":\"elevenTip--zD1rq\",\"payBar\":\"payBar--6e8AP\",\"payTip\":\"payTip--1I7zg\",\"payTime\":\"payTime--2pXc3\",\"pay\":\"pay--2G6Ty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"mask--Xu5__\",\"box\":\"box--26KPG\",\"content\":\"content--OftOH\",\"noInterest\":\"noInterest---4c3L\",\"select\":\"select--w5_kM\",\"check\":\"check--2yiXR\",\"noCheck\":\"noCheck--1BE1r\",\"stage\":\"stage--6GUvl\",\"total\":\"total--1875f\",\"rate\":\"rate--2PWiA\",\"selectStage\":\"selectStage--2yR2B\",\"Wechat\":\"Wechat--2pM8X\",\"WechatMP\":\"WechatMP--3zGth\",\"WechatQR\":\"WechatQR--3EDVz\",\"Alipay\":\"Alipay--33FOl\",\"AlipayQR\":\"AlipayQR--3rQ72\",\"AlipayWap\":\"AlipayWap--3aQT5\",\"AlipayHB\":\"AlipayHB--WoyUs\",\"CmblifeFQ\":\"CmblifeFQ--2JZKf\",\"CCB_BLANK_FQ\":\"CCB_BLANK_FQ--ZpJth\",\"GNETPG_FQ\":\"GNETPG_FQ--1RftA\",\"UNIONPAY_BOC_FQ\":\"UNIONPAY_BOC_FQ--tI9ul\",\"UNIONPAY_ABOC_FQ\":\"UNIONPAY_ABOC_FQ--kQqjK\",\"UNIONPAY_HXB_FQ\":\"UNIONPAY_HXB_FQ--26rYw\",\"UNIONPAY_SPDB_FQ\":\"UNIONPAY_SPDB_FQ--eopF0\",\"UNIONPAY_CMBC_FQ\":\"UNIONPAY_CMBC_FQ--2m8Or\",\"boxUp\":\"boxUp--1cbCe\",\"modal-content\":\"modal-content--2eBFE\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--Gl8lY\",\"product\":\"product--kUUGf\",\"title\":\"title--35x_l\",\"expireTime\":\"expireTime--2WA7l\",\"toggle\":\"toggle--26dBg\",\"elevenTip\":\"elevenTip--1zY8p\",\"buy\":\"buy--11Cz8\",\"advanced\":\"advanced--9tT8e\",\"switch\":\"switch--1K6EK\",\"rights\":\"rights--3hn-m\",\"item\":\"item--2SLpz\",\"desc\":\"desc--1oQUz\",\"subject\":\"subject--3U-01\",\"showRights\":\"showRights--2u23Q\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAWG0lEQVR4Xu2deXDcxZXHv/07Z0Yz0kiy0OiyJdnG4EPGB9gEAnISsiHB5HBMqnaTbFIhtYRcwFK7/+yu8W7VZlNhIccmS1LZ2ipyEZzsJvYSs+YSJAFiY2MMNrZlW7ItyZJ1WefM/K7eej2H5j6knzmq9ke5kGb6192/z++97vdev24xvI3XAOeLuGWtA5dWOLBXMLAVAK9nHAEwFuBAgLrHgClwPsUZpgA2xMFPSJBPgDknmKK82sjYyNv1GOytbPg8514pan+ASXyLw/n7GGNrOOfSQvrAGHM4569LjD3LHfaco8tPtzAWXkid5dx72QFyzlmfZd0kcfYZDv5JcF5VTgfLLSsxNgGwXzHGfxJSlBcYY7zcOsopf9kAdnOue03z8+C4H8DScjpVatlinWfAaTA8OKOq/7mcsWip9ZZTrlgf8tZFkpXrywuA1zGdv+Lcuh9gjeV0ptyypXeeD0hMeRCq9MMGIEu9FyKlpfcBQALazp07GXbswNFdYMN1XWzqZIBhA/DYmjUf1jge5kBbuTDmU76szsca6HFs3Pv5/doTQBfqhof5qmPb+Y4dEGo+H5Al9SEV3NGVO9hw3eGAqUpf1Hzax8bD4avCZrSa2v/81SsgMYZnR8fnwwMqA6plJb/Ug2PMsmFnlGhUFdQo+e9LFKeHlWUJqqLMaprWrcny78J25AdHa2ourAL4DpQPsijAJDyAdXVBGht/4SY9WPFTRZYb9AodE9EwZk1D9HGhAGtkGQrL36VZx8G046Th8zCGpR4NjIydIlcCoCLL0FUNuqpC1ZRpzqSv/ezo4Z+2nznjPL59u2igVGks2ioB3AmwPQcPyuGeyZsgsycqqvy6oihwE6CXMQRkOS8Ch3OM2nZMRFKuNk1FRYH7UsvmAqioCiRZ5o6Nr/z4iV//eBVgE0RXAAp4O3eyrpt3SIPjz1Rxk78uK0pDRdAPNwHSg9XKslD/fNeUbSPM0/FVyRJaNK2Y4CW/zwVQUmTIsgxZkoxZ09y46/jrx7du2GCTOpcCsaAEEsA7dkGa9p9S3hw8eZ/uU/9ZVlW4DdAvSfBJ+e1pi3OM2ekjH3X8So8GlZVuh2cCVFUFkBXoigxFtM9//usXX/gCAOu5zk57wQAfeOABaU/DbTIaoY4MX3jG49M3uw2QlLZGkQuOYeO2DTND+uoUGfWqWrL0iXEtPokkxkBbkeFR1CRAhbHosplL13/9qaeO3rF9u1WKFOaVwMTY96e9e9Ux1OgXBoZ7vX692m2AQUmCVkD6Io6DyYyJg2br5bpeUOVzkU0FyBQFjqIioM4BpCHkRjPSN2JGOx/Zt6+3lLGwIEBS3+G6XnVbg7fhW388cNpboTM3AWqMIVhgAuB5zJZmVUGwBLMlE2ICII1504zBr3uyAF5vRRFkePOCZXa+x+8fLqbGBQFu6eqSO4Ot/u3L65+89bGnN3n9HrgJsJjZMuM4oH+pl09iaNNLM1vyAZwBgyPLCHqyAW4yo6hmIHPqJcOjbSnmAhYEuPFHB5WffXrltx2Ouz/02NNwE6CPJKCA9NnxiSPTbFmqa/AWUPlCg6J4WIlh0OGo1LScAK8zI6hhDCpjUGT23UZN+3rROnMVoDGwxzC2OQ4ej1o2u/WX7gEsxWyZtG1EMiaOoCyhuQyzJZcEjjgOooyhWtdzAzQIIMSsrEiMK7K0rV5R/jsfxLwSOMD5EiNqHDZtJ2g4HG4CDEhSQSmiGZdm3tSLjIwrPXpBT6XYlBzlDvosG15FyQ+QJBAEkEFmjDySS15NXVvD2Ll8E1POdvui5m8t7txu2g7cBEgea3URs2XMsmBl9KpeUVBHdtsCrnOGAZOxsgDSzMzBdjfp6kdLBjhoWbeZtrOHxiG3AdKsS7NvviuX2ULll+la2WZLahs0JPSbJjRZLhugGDplaWtIUf4n17CQ9pkIuxvmUQdocxugzhiqipgto5aN9HkXWKypqCzR3831YsiPPhWNiijOfAFSKMzW1FWZywVZojBgGPc6HA/R7Oc2QPJ3aVzJd007Nmad9Hm3QpKE2bKQa9i0MGRZkNmCAJIrc1+jpj2c2pe0pxFheMM4Q5FktwGS/eaX8kdb6GVRtCXzItX1zNNsobpM7qA7YgipLhVgLZWVmJiwWMoLZ+AD05rWnmobpgHsM4y7wPHv1LCbAGkGrS0ycUzYNqIZZgsZ2o1aef5u5gvoMwxcsmODQikAN2XMwpkRIs7wpUZNeyTRThIg2X39htmdWAByE2ClJOWVokgkgpOnT2NsahKqqiLUshiBmhqQrC4vYLb09PfjjXPnYNg2mmprsX7pUmgZNiIFYM9EY8FetwDSQlW9pi5PuHhJgOdN82bm8K5EY24BJPmpzuO3moaBA68dRtRKN1oWt7djRSiUN0x/8uxZHOrtTVOvYEUFPnDNNSK2F9MgLuCFU8ZUNyRQVC6xzgZVfZ5+TALsN6wfc+5QLCzeAXcmkWpZFm5R5kWfHHvzGAYvXcr6TpIkfHjDelR4fVnfjY2P4+kjRyjamfXdyuZmrG1vF+PdJctCn5n+YtwCyJj0HyFNuTMJkEwXGOYgAyrdBEjrFfnMD2N2Fn88fAjIExBtCAaxpaMjbQGJcY69B/ZjIpJ7iZfcr09s3iSCpCeiUVgZjrR7ANmEqSoNZNKI19gfsbZy5uxOfaULVeFC/i5NKie7T+L8SOGUlls6OlAbDCbXQc4NDODF7u401c0Uw3WtrahtbMSFDOlzawxMTh5cuj3kUfYIgAOG+ZDD+b1uAiT7jf7lvEwLz7+yP8tgXlV/BUanpjA4G1v7Jil8/9q1IhpNNf3u5ZcxYcQmhbbqIGQykC9NpDXhVVV0rFuHGR5fo0z51i0JFKrL2MMhTb1PAOyLGocBrHUL4POj43nD9NRg37mzONnfn8X2cxvXo6O+Hj/440s4FR8bb13bQX4Upmdm8MKJE0L61oZCuPO6jXiu+xT+683jWfVcuWwZvNU1Wf60qwCB10K6dg0TKWamNZSZJbUQFT44PgE9j/Qp4PjD/v0IZ0ZbGMM/fugWeFQN4A6++dQzGM4x1pHk3XPze2E6HBcnJ/DNZ58Hy2ir0u/HilWrQWZM6lUuwExDOrUuygpzVKWe9ZvmLdzh+zJf43wBUhjoyKWpnJpL0jc5OooDJ45njWPLFtXiM5uuw5RhYM+hV3F8ZDTvWLexpRnvX7lSrKU88lwXhiORrPbWd3TA1D1pw0QpADcXMaTTIErsg6zfsL/Cuf09twD6JBmvZIxLibrJQjt6/E1cGM9O/djWsQZLGxqw+9VXcfzicO6xM+XTa9taccOyZThy+gyePXMmq3xLYwPqWhYjWqYdeG0ZAMHkr7LzhvE9xvEVNwB+8eoV8Mgy9o+nD+xJgI6NZ19+GU6GDVep67jvfZ04OnQRuw6SaVNwuVpURy7WX1y/GSGfF997tgsUBku9PJqGdevXY8p2krN4KRJIACnRJxFQLbTYzxn+jfUZ5j5wfosbAO9eeRWt8OcESEiGLw7hyKlTWar5yY41WNnchEdffBm9OQzrfOK4pqkJH1mzGge6u/HM6WwpXL96NWyvLzmZuA0QjD3F+qLGEQBr3AD45VVXC8nILYEcR44dw+hEunS2VFXh7vfegHHTwr/ufRJ2GZGXoM+Hz974Hhi2g1/8/g9JEyfxLIsbGlC3eDEicTV2HSDwOuuPGj0caL3cAGctEwf2709T3wpVxT033QhZ0zFhmvju/+4DLyNwWunx4LbrN4uXJs3O4Bd/OpCWwUBqvH79ekzG1dhtgAzopQjMMOd80eUEaHAHQ4NDONXbk2yG4N39ns0IBgIYjhqg/JffHTyIM+PZvnE+Fe5obkb70nZh0jR5dITHx/HYwUNpENetWgXHVyHU2HWAjI3QGBgB5/rlAkhRERrIe04cx1hcfZsqK/GF6zaiwuvFMMXrTEsEL1XLxKMv/SlLFXMBbAj48Ylrr0WvaWHCslCjqmj1emDOTOPxVw5hNG7aNIdCCC1ZItRYKiEiXc4kAsaiCwLoqdAxY4STD5xrDCRj1qEg2htviDSKTa0t2NDcIpiMmibGDFMY1WR4X6Fr8HGO57u7sf98P6ZMM4tdjdeDG5Yswab2Npw1LZyeDYsXoMsSQpqGFo+OaknC4XNncaivH46soHXFCkxatpjci62JlA1wISocDHgwHglj3IhFRzIBUpie1ncpA2GJV8dirw6dyZBJKi0LE6aFWdsGjfEkgZWqjEWUMaCo8CoSpiIRTFFUxXagyjKqPB74dA1R28GZSBS9kQgGI4bwOEg9yQat01Q06BoWaSoowH0haqAnHMYYBRdcBshIhfujxplcSeHFPBFVURCq9GEgPJMXIC0lUpi+QpZwhaahWlVAIS5aIpqxbEQdJxmuIjNHpXUTWUalqoisU/I0aBFKZO4BIIuO1qj7owbOR6MYNS1RT2IlhQx1Wj+pUhTUaIr4eca2MWiYmLwcAIGeeZsxAU1FdcCL/tncAFOzCyigSvksusSwWNNAy4w0aWTmvYjsKcZEOVJpNQ6QPhcAOce0baM7HBVSZ6S8gISuixch6pDE+jNBj5W9HGMgjszLkK4M+hHUNVT4PXkBZmYXkBSFVAW1CoUTCl8EgcrTP0YjP13x8FRPNCrMksy148wa6a6EP0Pt0T+3Z2FhSM/HlbuiphIeUrM8ACmcNZXhWpE0LKe0tBLctHx4aeXuvJE9sRR1nOMF3AYoXDkKJqCEYMKH4tlZmqbiiuoqqKqcEyAB2js8elmyC7qjUZjFxLcATbcBMgomDJUYzrolDtBPs2R1ZV6AZLDuGxlLewxKIm9dYHbBRdPERSt74b1U6aNyrgOkcBYFVKUSAqof/OXTCPi98OoqqoK5AVIwgQyazJ1KbmYXlAMss6ybACmgyiigSo0MRo3DvEhInwAGAz5ompIX4J0rV1AqWBpAN7ILzhsGJuLZBe8UgABea6aQvgBomA/xEhaVKgM+2hqVF2DmVi+yyygpslBCUTEgmdkFxcoX+t5NCZQYe7gxsag0WMKy5ocff0aocDkAG+Jmy3wfWmQXRIysHUrzrc9NgIxLtzclljVpYV01rQs8ZTd5pidSLkDKBVxW4ibAfEDGLQv9OdZ333aAjE3w1IX1mBoXTu0oF2CrphbMwi8Ggfzo7kg0a2my2H1vhQpTakdTamoHNXrBNG9GgeSifADPz85gIh5MSIyBr4xPYPECzZYh08TwAs2WyzULc4l1tmQmF1F625BhdvP4+QalqDCFs87OzmTtF+6bmYFWxibAzAelACwlRS7AZs4piC6NgaebcqW3UYsDhnEXy5NgmUsCLV3FaCSMiBVzr7Yvaxchpb7Z2YVoGi4YZpYruKAK4zeTW00BCk98m8Miv09suEns1qSlgaLxQIYvNedKsKQ2KMXXb1B4K3ZYBI1DtGBDIfMEQEVToXp9iFoc4twJFnPrJXL9hZ9LciOBNgfQJewkSpUV38Tc+9hn8e/pntznVxRglhLJSebAUBscnOpNfJb8jvoY60HsPxHaESuIi+uCWL+8CUGfR6ytFAbIB8KFUnzjUngvciSZf+TxZ+D3V4B5fHMREtqkmggOsBi2xBX7nADHmNKv4tni5edK0uPEyiXryhXnih16Ec8YmrtHfBZ/H4n3IF6U+JxecuLLWDhs7qLvYvWRX//BdcvRWFNZEKBULMmcKieTRjbMoxRkTc3SFwBra8Hkub29sRC5hA31ASzyKil7fnl61GXueYUUxiQw/ozixxTKeUe+xA1CzmLQxG2x31IlPAYpViaVGZWcjNp49eI0Jg07BjBem64o+OQNq9EpOzkX1hmd+FHKNgdqlDba2BkbbT62+0V4KgPxh4+pqC7L+JvrmtHkX9g2BDfGt3LqmDZs/Mv+PoyEjTTAVzXX4b4rQzkBKqVutEl0ZMA0f2PZzkcTO5U+9dSrkLVYPI8yRen1b22pxNdW0aaAd9+159wkvntsTIwrQlY5F+su37nxKtTSTs34XjkaF5nEftukqh/L9ZR5k1Bos6GVstnw088fiw9k8fGfMXy21Y+vXk1b895915PnJ/APb0wkh4MYROAbm5ajzaumbTaUNXVtY7mbDRPbXRHf7vqXvz8uJoDE+EU/hZwwfvVny0Rj77brnhfO4OWIFp9IElIIfOPadizx6eKZFMa4rMjbGuez3ZUAbjx4UPn51au/zR3n7vtfOYMRg8KlhC4Gcnx0FBt8Dv56cxuWVHlLOPrm7cc8NGPg0df78MveKdQ3NQr15XxuI873Ny1DRfwUD9pw3bKQDddbuiB3Bnv9dyyvf/JXvSObnhy4lLTpaAy0DRM93afgZKx/vP2Yivegpb0N3gpvzGaM6+/qah++flWjWKSnLf89gwPv29LWlp29mVJ9Xt0jCaQzE6LDuvrn17WHrvH79v7TG30rZi0nZqKIeYTBiEQxOjICU/jDC1flfDW449ZxKIqKYE0NfAEfLTQnDWuaLO5f2YDlAQ9UWXpzyI1DJ+7YtUua9q9Txmqgf7a+qr2SsSce7R1pJM9kzhCbO7VKgBWzdGxEjtnMKUji4JMvUJSP/5YYxQsKTwZePufbJDyQ2O0pRnTCIox3mWy/Occn+SG2tVSjs76S4PX1i2NPqnof307JZIUPcCwogTt3gu257aBsjqqaZybi+dw1LSvrNf2x3f0TjefDRlwK41sZRDsx7yPpnMQ/SqiIyDGIG79zXONdSFi8RUUw4d0kZDLFp0m4h3FfLuFMiiki+YLm2iOQtbqMrU1V6KjyxuDNRrfe09V/7I7tqxZ28E7MNOLsDkCa3ntKmay0NdVk+q0NgdYtocDPBmfNK3tmDURE7l06OCF38Q4L1y1jFyZRzM5LSIheUYJZMppLvdMEO6YuSa9DOAGShGavirYKTaSUSEw6cWx69uOPnJjqAXrdOfopdvgYWNfNkKLDL6mOX1K9tqLd2Lqo7uMtix5l4BtJm7M7W3wQfztLEHCyvERiZiz3Zv8f+ic/9ei4NWRoQ5Zrh48lpDBx/F1gqlYGZhTAVEKq13f/6qYHPLJ8Z77jQMuB5M4kUXqLcYDc5OyHPzrW+3eHzo7PGu2aVe4ZgkWnzfQDGLuki3V1UtWxSXmmqkIKVOjSd9Y0b61UlO8DPFh699NLvtXwqHUJ7NKUZd395aPjvwleet0Je2+1OzvhlHuKZVGAiUdNnCVIZ6d2dXVJU4EAC3s8bMk5nf39DS0tIZ09xDjfOh+Ibx3A+OMy7BmMRu77anf32cDUFI+dpXqM79ixQ3Sl2Myb+owlA0yoc+rNpNr0+9Fdu8T/v3n77R9RmfRtcF7WIbRvHUD0WOD3/O3u3U+s2r6dY+dOJKCVC67YlDcfQRL3iHiiad7FOS/5GOTLD5COQWYP2qr6iNunnJclgeVQpeWBivhB3ImFqnz3X0aA4iDu8DvxIO5SYdLYOWhZN3E6Cp4723nKrvhS6yinHAcmJSbtchj/SfO7+Sj4XA/9/3+MoBxRKKFszj+HwXmI0Z/BYMyf8ecwpjn9WQzGBt9Jfw7j/wBb9/yuE7VsXgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"https://img.mmears.cn/shop/img/loading.b730c0f6.gif\";","module.exports = \"https://img.mmears.cn/shop/img/photo.accabd53.png\";","module.exports = \"https://img.mmears.cn/shop/img/common-loading.0803e41c.gif\";","(function flexible(window, document) {\n  let docEl = document.documentElement;\n  let dpr = window.devicePixelRatio || 1;\n\n  // set 1rem = viewWidth / 10\n  function setRemUnit() {\n    let cw = docEl.clientWidth > 750 ? 750 : docEl.clientWidth;\n    let rem = cw / 10;\n    docEl.style.fontSize = rem + 'px';\n  }\n\n  setRemUnit();\n\n  // reset rem unit on page resize\n  window.addEventListener('resize', setRemUnit);\n  window.addEventListener('pageshow', function(e) {\n    if (e.persisted) {\n      setRemUnit();\n    }\n  });\n\n  // detect 0.5px supports\n  if (dpr >= 2) {\n    let fakeBody = document.createElement('body');\n    let testElement = document.createElement('div');\n    testElement.style.border = '.5px solid transparent';\n    fakeBody.appendChild(testElement);\n    docEl.appendChild(fakeBody);\n    if (testElement.offsetHeight === 1) {\n      docEl.classList.add('hairlines');\n    }\n    docEl.removeChild(fakeBody);\n  }\n})(window, document);\n","const defaultConfig = {\n  env: 'development', // 本地开发环境\n  // 存储用户状态的cookie\n  cookie: {\n    userIdKey: 'userId', // 学生登录id\n    userTokenKey: 'passToken', // 学生登录Token\n    wechatTokenKey: 'wxToken', // 微信token\n    mainOpenIdKey: 'mainOpenId', // 主微信公众号授权的openId\n    domain: '',\n    expiresDays: 3650 // 过期时间默认10年\n  },\n  // 接口域名配置\n  domain: {\n    apiDomain: 'https://apistaging.mmears.com', // 新接口域名\n    mobileDomain: 'https://staging.mmears.com' // 移动端域名\n  },\n  // 资源配置\n  resources: {\n    websiteDomain: '', // 前端站点domain\n    monitorUrl: 'https://shence.mmears.com/sa?project=default', // 前端监控, 神策埋点配置\n    commonAuthUrl: 'https://dev.mmears.com/user/auth', // 统一授权地址\n    loginUrl: `${window.location.protocol}//${window.location.host}/`, // 本地开发环境登录地址不可用, 空地址\n    payResultPath: '/pay/result', // 支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n    payInfoCallbackUrl: '/order', // 获取支付信息时传递的callbackUrl参数, 用来在老支付结果页的二次跳转\n    elevenActivityUrl: 'https://dev.mmears.com/fe-activity/eleven' // 跳转到双十一优惠活动\n  }\n};\n\ntype IConfig = typeof defaultConfig;\n\ntype IAppConfig = { basename: string } & IConfig;\n\ninterface IAllConfig {\n  dev: IConfig;\n  staging: IConfig;\n  preview: IConfig;\n  production: IConfig;\n}\n\nconst config: IAllConfig = {\n  // 开发集成环境\n  dev: {\n    env: 'dev',\n    // 存储用户状态的cookie\n    cookie: {\n      userIdKey: 'userId', // 学生登录id\n      userTokenKey: 'passToken', // 学生登录Token\n      wechatTokenKey: 'wxToken', // 微信token\n      mainOpenIdKey: 'mainOpenId', // 主微信公众号授权的openId\n      domain: '.dev.mmears.com',\n      expiresDays: 3650 // 过期时间默认10年\n    },\n    // 域名配置\n    domain: {\n      apiDomain: 'https://apistaging.mmears.com', // 新接口域名\n      mobileDomain: 'https://staging.mmears.com' // 移动端域名\n    },\n    // 资源配置\n    resources: {\n      websiteDomain: '', // 前端站点domain\n      monitorUrl: 'https://shence.mmears.com/sa?project=default', // 前端监控, 神策埋点配置\n      commonAuthUrl: 'https://staging.mmears.com/user/auth', // 统一授权地址\n      loginUrl: 'https://staging.mmears.com/user/login', // 登录地址\n      payResultPath: '/pay/result', // 支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n      payInfoCallbackUrl: 'https://staging.mmears.com/user/home', // 获取支付信息时传递的callbackUrl参数, 用来在老支付结果页的二次跳转\n      elevenActivityUrl: 'https://dev.mmears.com/fe-activity/eleven' // 跳转到双十一优惠活动\n    }\n  },\n  // 测试环境\n  staging: {\n    env: 'staging',\n    // 存储用户状态的cookie\n    cookie: {\n      userIdKey: 'userId', // 学生登录id\n      userTokenKey: 'passToken', // 学生登录Token\n      wechatTokenKey: 'wxToken', // 微信token\n      mainOpenIdKey: 'mainOpenId', // 主微信公众号授权的openId\n      domain: '.staging.mmears.com',\n      expiresDays: 3650 // 过期时间默认10年\n    },\n    // 域名配置\n    domain: {\n      apiDomain: 'https://apistaging.mmears.com', // 新接口域名\n      mobileDomain: 'https://staging.mmears.com' // 移动端域名\n    },\n    // 资源配置\n    resources: {\n      websiteDomain: 'https://staging.mmears.com', // 前端站点domain\n      monitorUrl: 'https://shence.mmears.com/sa?project=default', // 前端监控, 神策埋点配置\n      commonAuthUrl: 'https://staging.mmears.com/user/auth', // 统一授权地址\n      loginUrl: 'https://staging.mmears.com/user/login', // 登录地址\n      payResultPath: '/pay/result', // 切换支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n      payInfoCallbackUrl: 'https://staging.mmears.com/user/home', // 获取支付信息时传递的callbackUrl参数, 用来在老支付结果页的二次跳转\n      elevenActivityUrl: 'https://staging.mmears.com/fe-activity/eleven' // 跳转到双十一优惠活动\n    }\n  },\n  // 预发布环境\n  preview: {\n    env: 'preview',\n    // 存储用户状态的cookie\n    cookie: {\n      userIdKey: 'userId', // 学生登录id\n      userTokenKey: 'passToken', // 学生登录Token\n      wechatTokenKey: 'wxToken', // 微信token\n      mainOpenIdKey: 'mainOpenId', // 主微信公众号授权的openId\n      domain: '.staging.mmears.com',\n      expiresDays: 3650 // 过期时间默认10年\n    },\n    // 域名配置\n    domain: {\n      apiDomain: 'https://apistaging.mmears.com', // 新接口域名\n      mobileDomain: 'https://staging.mmears.com' // 移动端域名\n    },\n    // 资源配置\n    resources: {\n      websiteDomain: 'https://staging.mmears.com', // 前端站点domain\n      monitorUrl: 'https://shence.mmears.com/sa?project=default', // 前端监控, 神策埋点配置\n      commonAuthUrl: 'https://staging.mmears.com/user/auth', // 统一授权地址\n      loginUrl: 'https://staging.mmears.com/user/login', // 登录地址\n      payResultPath: '/pay/result', // 切换支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n      payInfoCallbackUrl: 'https://staging.mmears.com/user/home', // 获取支付信息时传递的callbackUrl参数, 用来在老支付结果页的二次跳转\n      elevenActivityUrl: 'https://dev.mmears.com/fe-activity/eleven' // 跳转到双十一优惠活动\n    }\n  },\n  // 生产环境\n  production: {\n    env: 'production',\n    // 存储用户状态的cookie\n    cookie: {\n      userIdKey: 'userId', // 学生登录id\n      userTokenKey: 'passToken', // 学生登录Token\n      wechatTokenKey: 'wxToken', // 微信token\n      mainOpenIdKey: 'mainOpenId', // 主微信公众号授权的openId\n      domain: '.mobile.mmears.com',\n      expiresDays: 3650 // 过期时间默认10年\n    },\n    // 域名配置\n    domain: {\n      apiDomain: 'https://api.mmears.com', // 新接口域名\n      mobileDomain: 'https://mobile.mmears.com' // 移动端域名\n    },\n    // 资源配置\n    resources: {\n      websiteDomain: 'https://mobile.mmears.com', // 前端站点domain\n      monitorUrl: 'https://shence.mmears.com/sa?project=production', // 前端监控, 神策埋点配置\n      commonAuthUrl: 'https://mobile.mmears.com/user/auth', // 统一授权地址\n      loginUrl: 'https://mobile.mmears.com/user/login', // 登录地址\n      payResultPath: '/pay/result', // 切换支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n      payInfoCallbackUrl: 'https://mobile.mmears.com/user/home', // 获取支付信息时传递的callbackUrl参数, 用来在老支付结果页的二次跳转\n      elevenActivityUrl: 'https://mobile.mmears.com/fe-activity/eleven' // 跳转到双十一优惠活动\n    }\n  }\n};\n\n// 根据环境变量 配置环境参数, 默认是本地开发环境\nconst env = process.env.NODE_ENV;\nconsole.log('环境变量', env);\nlet envConfig: IConfig = defaultConfig;\nswitch (env) {\n  case 'dev':\n    envConfig = config.dev;\n    break;\n  case 'staging':\n    envConfig = config.staging;\n    break;\n  case 'production':\n    envConfig = config.production;\n    break;\n}\n\nconst appConfig: IAppConfig = {\n  basename: process.env.PUBLIC_URL || '', // 前端项目的二级目录\n  ...envConfig\n};\nexport default appConfig;\n","/**\n * 微信公众号类型\n */\nexport enum ACCOUNT_TYPE {\n  /**\n   * H5主公众号, 测试环境使用 \"魔力好家长公众号\", 生产环境使用 \"魔力耳朵公众号\"\n   */\n  MAIN = 'MAIN',\n  /**\n   * H5活动的公众号, 测试环境使用 \"魔力好家长公众号\", 生产环境使用 \"21天训练营公众号\"\n   */\n  ACTIVITY = 'ACTIVITY'\n}\n\n/**\n * 支付方式名称\n */\nexport enum PAYMENT_NAME_TEXT {\n  /**\n   * 微信支付\n   */\n  Wechat = '微信',\n\n  /**\n   * 支付宝\n   */\n  Alipay = '支付宝',\n\n  /**\n   * 免费\n   */\n  Free = '免费',\n\n  /**\n   * 微信公众号平台支付\n   */\n  WechatMP = '微信',\n\n  /**\n   * 微信扫码支付\n   */\n  WechatQR = '微信',\n\n  /**\n   * 支付宝二维码\n   */\n  AlipayQR = '支付宝',\n\n  /**\n   * 支付宝wap\n   */\n  AlipayWap = '支付宝',\n\n  /**\n   * 对公转账\n   */\n  Bank = '对公转账',\n\n  /**\n   * 苹果支付\n   */\n  ApplePayQR = 'Apple Pay',\n\n  /**\n   * 花呗分期\n   */\n  AlipayHB = '花呗分期',\n\n  /**\n   * 招商银行信用卡分期\n   */\n  CmblifeFQ = '招商银行信用卡分期',\n\n  /**\n   * 建设银行信用卡分期\n   */\n  CCB_BLANK_FQ = '建设银行信用卡分期',\n\n  /**\n   * 广发银行信用卡分期\n   */\n  GNETPG_FQ = '广发银行信用卡分期',\n\n  /**\n   * 中国银行信用卡分期\n   */\n  UNIONPAY_BOC_FQ = '中国银行信用卡分期',\n\n  /**\n   * 农业银行信用卡分期\n   */\n  UNIONPAY_ABOC_FQ = '农业银行信用卡分期',\n\n  /**\n   * 华夏银行信用卡分期\n   */\n  UNIONPAY_HXB_FQ = '华夏银行信用卡分期',\n\n  /**\n   * 浦发银行信用卡分期\n   */\n  UNIONPAY_SPDB_FQ = '浦发银行信用卡分期',\n\n  /**\n   * 民生银行信用卡分期\n   */\n  UNIONPAY_CMBC_FQ = '民生银行信用卡分期'\n}\n\n/**\n * 支付方式\n */\nexport enum PAYMENT_NAME {\n  // /**\n  //  * 默认, 这个无效\n  //  */\n  // Default = 'Default',\n\n  /**\n   * 微信支付\n   */\n  Wechat = 'Wechat',\n\n  /**\n   * 支付宝\n   */\n  Alipay = 'Alipay',\n\n  /**\n   * 免费\n   */\n  Free = 'Free',\n\n  /**\n   * 微信公众号平台支付\n   */\n  WechatMP = 'WechatMP',\n\n  /**\n   * 微信扫码支付\n   */\n  WechatQR = 'WechatQR',\n\n  /**\n   * 支付宝二维码\n   */\n  AlipayQR = 'AlipayQR',\n\n  /**\n   * 支付宝wap\n   */\n  AlipayWap = 'AlipayWap',\n\n  /**\n   * 对公转账\n   */\n  Bank = 'Bank',\n\n  /**\n   * 苹果支付\n   */\n  ApplePayQR = 'ApplePayQR',\n\n  /**\n   * 花呗分期\n   */\n  AlipayHB = 'AlipayHB',\n\n  /**\n   * 招商分期\n   */\n  CmblifeFQ = 'CmblifeFQ',\n\n  /**\n   * 建设银行信用卡分期\n   */\n  CCB_BLANK_FQ = 'CCB_BLANK_FQ',\n\n  /**\n   * 广发银行分期\n   */\n  GNETPG_FQ = 'GNETPG_FQ',\n\n  /**\n   * 中国银行, 联合支付\n   */\n  UNIONPAY_BOC_FQ = 'UNIONPAY_BOC_FQ',\n\n  /**\n   * 中国农业银行, 联合支付\n   */\n  UNIONPAY_ABOC_FQ = 'UNIONPAY_ABOC_FQ',\n\n  /**\n   * 华夏银行, 联合支付\n   */\n  UNIONPAY_HXB_FQ = 'UNIONPAY_HXB_FQ',\n\n  /**\n   * 浦发银行, 联合支付\n   */\n  UNIONPAY_SPDB_FQ = 'UNIONPAY_SPDB_FQ',\n\n  /**\n   * 中国民生银行, 联合支付\n   */\n  UNIONPAY_CMBC_FQ = 'UNIONPAY_CMBC_FQ'\n}\n\n/**\n * 支付方式--渠道\n */\nexport enum PAYMENT_CHANNEL {\n  /**\n   * 微信支付, 包括微信公众号支付, 微信二维码支付\n   */\n  WECHAT = 'WECHAT',\n  /**\n   * 支付宝支付, 包括: 支付宝wap, 支付宝二维码支付, 花呗分期\n   */\n  ALIPAY = 'ALIPAY',\n  /**\n   * 招商银行信用卡分期\n   */\n  CMBLIFE = 'CMBLIFE',\n  /**\n   * 建设银行信用卡分期\n   */\n  CCB_BLANK = 'CCB_BLANK',\n  /**\n   * 广发银行信用卡分期\n   */\n  GNETPG = 'GNETPG',\n  /**\n   * 中国银行信用卡分期\n   */\n  UNIONPAY_BOC = 'UNIONPAY_BOC',\n  /**\n   * 农业银行信用卡分期\n   */\n  UNIONPAY_ABOC = 'UNIONPAY_ABOC',\n  /**\n   * 华夏银行信用卡分期\n   */\n  UNIONPAY_HXB = 'UNIONPAY_HXB',\n  /**\n   * 浦发银行信用卡分期\n   */\n  UNIONPAY_SPDB = 'UNIONPAY_SPDB',\n  /**\n   * 民生银行信用卡分期\n   */\n  UNIONPAY_CMBC = 'UNIONPAY_CMBC'\n}\n\n/**\n * 支付方式--类型\n */\nexport enum PAYMENT_TYPE {\n  /**\n   * H5支付\n   */\n  WAP = 'WAP',\n\n  /**\n   * 微信公众号支付\n   */\n  MP = 'MP',\n\n  /**\n   * 二维码支付\n   */\n  QRCODE = 'QRCODE',\n\n  /**\n   * 分期支付\n   */\n  INSTALLMENT = 'INSTALLMENT'\n}\n\n/**\n * 错误码\n */\nexport enum ERROR_CODE {\n  LOGIN_REQUIRED = 'LOGIN_REQUIRED', // 用户未登录\n  BIZ_ORDER_PRODUCT_VERSION_CHANGE = 'BIZ_ORDER_PRODUCT_VERSION_CHANGE', // 商品信息变动，点击确定重新加载\n  BIZ_COUPON_VERSION_MISMATCHING = 'BIZ_COUPON_VERSION_MISMATCHING', // 优惠券发生变动, 点击确定重新加载\n  BIZ_ORDER_NOT_PAID = 'BIZ_ORDER_NOT_PAID', // 订单未支付\n  BIZ_ORDER_IS_PAID = 'BIZ_ORDER_IS_PAID', // 订单已支付\n  BIZ_ORDER_IS_PAID_SUB = 'BIZ_ORDER_IS_PAID_SUB', // 子订单已支付\n  BIZ_ORDER_EXPIRYTIME_OVER = 'BIZ_ORDER_EXPIRYTIME_OVER', // 订单已过期, (支付时间已过)\n  BIZ_ORDER_IS_CLOSE = 'BIZ_ORDER_IS_CLOSE', // 订单已关闭\n  BIZ_ORDER_NO_USER_ID_NOT_MATCH = 'BIZ_ORDER_NO_USER_ID_NOT_MATCH', // 订单与用户下单ID不匹配\n  BIZ_ORDER_NOT_EXIST = 'BIZ_ORDER_NOT_EXIST', // 订单不存在\n  BIZ_ORDER_IS_REFUND = 'BIZ_ORDER_IS_REFUND', // 订单已经退单\n  BIZ_ORDER_IS_SUB = 'BIZ_ORDER_IS_SUB', // 订单状态改为分次支付\n  BIZ_ORDER_STATUS_IS_ERROR = 'BIZ_ORDER_STATUS_IS_ERROR', // 订单状态异常\n\n  BIZ_SUB_ORDER_IS_WRONG = 'BIZ_SUB_ORDER_IS_WRONG', // 分次支付顺序有问题\n  BIZ_SUB_NOT_SUPPORT_INSTALLMENTS = 'BIZ_SUB_NOT_SUPPORT_INSTALLMENTS', // 分次支付不支持分期\n  BIZ_TRAIN_COURSE_AUTH = 'BIZ_TRAIN_COURSE_AUTH', // 体验课时包只限非付费学员购买\n  BIZ_PGID_IS_NOT_NULL = 'BIZ_PGID_IS_NOT_NULL' // 升舱包需要基于基础包购买\n}\n\n/**\n * 查询订单订单支付状态\n */\nexport enum ORDER_PAY_STATUS {\n  /**\n   * success: 订单已支付\n   */\n  BIZ_ORDER_ALREADY_PAID = 'BIZ_ORDER_ALREADY_PAID',\n  /**\n   * error: 用户未登录\n   */\n  LOGIN_REQUIRED = 'LOGIN_REQUIRED',\n  /**\n   * error: 订单未支付\n   */\n  BIZ_ORDER_NOT_PAID = 'BIZ_ORDER_NOT_PAID'\n  // /**\n  //  * error: 订单不合法\n  //  */\n  // BIZ_ORDER_NO_ERROR = 'BIZ_ORDER_NO_ERROR',\n  // /**\n  //  * error: 订单与用户下单ID不匹配\n  //  */\n  // BIZ_ORDER_NO_USER_ID_NOT_MATCH = 'BIZ_ORDER_NO_USER_ID_NOT_MATCH',\n  // /**\n  //  * error: 订单不存在\n  //  */\n  // BIZ_ORDER_NOT_EXIST = 'BIZ_ORDER_NOT_EXIST',\n  // /**\n  //  * error: IO错误\n  //  */\n  // BIZ_PAY_IO_ERROR = 'BIZ_PAY_IO_ERROR',\n  // /**\n  //  * error: 支付URL编码错误\n  //  */\n  // BIZ_PAY_URL_ENCODE_ERROR = 'BIZ_PAY_URL_ENCODE_ERROR',\n  // /**\n  //  * error: 数据错误\n  //  */\n  // BIZ_PAY_DB_ERROR = 'BIZ_PAY_DB_ERROR',\n  // /**\n  //  * error: 支付方式错误\n  //  */\n  // BIZ_PAY_CHANNEL_TYPE_ERROR = 'BIZ_PAY_CHANNEL_TYPE_ERROR',\n  // /**\n  //  * error: 查询订单错误\n  //  */\n  // BIZ_QUERY_ORDER_ERROR = 'BIZ_QUERY_ORDER_ERROR',\n  // /**\n  //  * error: 分期支付转换错误\n  //  */\n  // BIZ_PAY_UNION_TRANS_ERROR = 'BIZ_PAY_UNION_TRANS_ERROR',\n  // /**\n  //  * error: 支付渠道和银行单号不匹配\n  //  */\n  // BIZ_PAY_UNION_BANK_NOT_MATCH = 'BIZ_PAY_UNION_BANK_NOT_MATCH'\n}\n\n/**\n * 课程包类型\n */\nexport enum PRODUCT_TYPE {\n  /**\n   * 1999体验课时包\n   */\n  TRAIN_COURSE = 'TRAIN_COURSE',\n  /**\n   * 体验升基础 升舱包\n   */\n  TRAIN_RISE_BASE_COURSE = 'TRAIN_RISE_BASE_COURSE',\n  /**\n   * 3999内购课时包\n   */\n  INTERNAL_COURSE = 'INTERNAL_COURSE',\n  /**\n   * 3999内购升基础\n   */\n  INTERNAL_RISE_BASE_COURSE = 'INTERNAL_RISE_BASE_COURSE',\n  /**\n   * 基础课时包\n   */\n  YEAR_COURSE = 'YEAR_COURSE',\n  /**\n   * 基础升进阶 升舱包\n   */\n  UPGRADE_BIG_COURSE = 'UPGRADE_BIG_COURSE',\n  /**\n   * 进阶课时包\n   */\n  TWO_YEARS_COURSE = 'TWO_YEARS_COURSE',\n  /**\n   * 进阶升学霸 升舱包\n   */\n  UPGRADE_THREE_YEAR_COURSE = 'UPGRADE_THREE_YEAR_COURSE',\n  /**\n   * 学霸课时包\n   */\n  THREE_YEARS_COURSE = 'THREE_YEARS_COURSE',\n  /**\n   * 季度包\n   */\n  SEASON_COURSE = 'SEASON_COURSE',\n  /**\n   * 365畅学包\n   */\n  UNOBSTRUCTED_LEARNING365 = 'UNOBSTRUCTED_LEARNING365',\n  /**\n   * 畅学包升舱大课时专属优惠\n   */\n  UPGRADE_365_TO_TWO_YEAR_COURSE = 'UPGRADE_365_TO_TWO_YEAR_COURSE',\n  /**\n   * 体验升学霸 升舱包\n   */\n  UPGRADE_TRAIN_TO_HEGEMONY_COURSE = 'UPGRADE_TRAIN_TO_HEGEMONY_COURSE'\n}\n","/**\n * 支付方式\n */\nexport enum PAYMENT {\n  DEFAULT = 'DEFAULT',\n  WECHAT = 'WECHAT', // 微信(后台创建)\n  ALIPAY = 'ALIPAY', // 支付宝(后台创建)\n  FREE = 'FREE', // 免费\n  SUB = 'SUB', // 分次支付\n  WECHATMP = 'WECHATMP', // 微信MP\n  WECHATQR = 'WECHATQR', // 微信二维码\n  ALIPAYQR = 'ALIPAYQR', // 支付宝二维码\n  ALIPAYWAP = 'ALIPAYWAP', // \"支付宝Wap\n  BANK = 'BANK', // 对公转账\n  APPLEPAYQR = 'APPLEPAYQR', // ApplePayQR\n  ALIPAYHB = 'ALIPAYHB', // 花呗分期\n  CMBLIFEFQ = 'CMBLIFEFQ', // 招商分期\n  CCB_BLANK_FQ = 'CCB_BLANK_FQ', // 建设银行信用卡分期\n  GNETPG_FQ = 'GNETPG_FQ', // 广发银行信用分期\n  UNIONPAY_BOC_FQ = 'UNIONPAY_BOC_FQ', // 中国银行信用卡分期\n  UNIONPAY_ABOC_FQ = 'UNIONPAY_ABOC_FQ', // 中国农业银行信用卡分期\n  UNIONPAY_HXB_FQ = 'UNIONPAY_HXB_FQ', // 华夏银行信用卡分期\n  UNIONPAY_SPDB_FQ = 'UNIONPAY_SPDB_FQ', // 浦发银行信用卡分期\n  UNIONPAY_CMBC_FQ = 'UNIONPAY_CMBC_FQ' // 中国民生银行信用卡分期\");\n}\n\n/**\n * 订单状态\n */\nexport enum ORDER_STATUS {\n  /**\n   * 已完成\n   */\n  FINISH = 'FINISH',\n  /**\n   * 待付款\n   */\n  UNPAID = 'UNPAID',\n  /**\n   * 已退款\n   */\n  REFUND = 'REFUND',\n  /**\n   * 订单关闭\n   */\n  CLOSE = 'CLOSE'\n  // /**\n  //  * 待付尾款\n  //  */\n  // TAILMONEY = 'TAILMONEY',\n  // /**\n  //  * 支付\n  //  */\n  // PAID = 'PAID',\n  // /**\n  //  * 过期\n  //  */\n  // EXPIRED = 'EXPIRED',\n  // /**\n  //  * 更换\n  //  */\n  // REPLACE = 'REPLACE'\n}\n\n/**\n * 支付方式\n */\nexport const PAYMENT_TEXT = {\n  /**\n   * DEFAULT\n   */\n  DEFAULT: 'DEFAULT',\n  /**\n   * 微信(后台创建)\n   */\n  WECHAT: '微信',\n  /**\n   * 支付宝(后台创建)\n   */\n  ALIPAY: '支付宝',\n  /**\n   * 免费\n   */\n  FREE: '免费',\n  /**\n   * 分次支付\n   */\n  SUB: '分次支付',\n  /**\n   *  微信MP\n   */\n  WECHATMP: '微信MP',\n  /**\n   * 微信二维码\n   */\n  WECHATQR: '微信二维码',\n  /**\n   * 支付宝二维码\n   */\n  ALIPAYQR: '支付宝二维码',\n  /**\n   * 支付宝Wap\n   */\n  ALIPAYWAP: '支付宝Wap',\n  /**\n   * 对公转账\n   */\n  BANK: '对公转账',\n  /**\n   * APPLEPAYQR\n   */\n  APPLEPAYQR: 'APPLEPAYQR',\n  /**\n   * 花呗分期\n   */\n  ALIPAYHB: '花呗分期',\n  /**\n   * 招商分期\n   */\n  CMBLIFEFQ: '招商分期',\n  /**\n   * 建设银行信用卡分期\n   */\n  CCB_BLANK_FQ: '建设银行信用卡分期',\n  /**\n   * 广发银行信用分期\n   */\n  GNETPG_FQ: '广发银行信用分期',\n  /**\n   * 中国银行信用卡分期\n   */\n  UNIONPAY_BOC_FQ: '中国银行信用卡分期',\n  /**\n   * 中国农业银行信用卡分期\n   */\n  UNIONPAY_ABOC_FQ: '中国农业银行信用卡分期',\n  /**\n   * 华夏银行信用卡分期\n   */\n  UNIONPAY_HXB_FQ: '华夏银行信用卡分期',\n  /**\n   * 浦发银行信用卡分期\n   */\n  UNIONPAY_SPDB_FQ: '浦发银行信用卡分期',\n  /**\n   * 中国民生银行信用卡分期\n   */\n  UNIONPAY_CMBC_FQ: '中国民生银行信用卡分期'\n};\n\n/**\n * 订单状态\n */\nexport const ORDER_STATUS_TEXT = {\n  /**\n   * 已完成\n   */\n  FINISH: '已完成',\n  /**\n   * 待付款\n   */\n  UNPAID: '待付款',\n  /**\n   * 已退款\n   */\n  REFUND: '已退款',\n  /**\n   * 订单关闭\n   */\n  CLOSE: '订单关闭'\n  // /**\n  //  * 待付尾款\n  //  */\n  // TAILMONEY: '待付尾款',\n  // /**\n  //  * 支付\n  //  */\n  // PAID: '支付',\n  // /**\n  //  * 过期\n  //  */\n  // EXPIRED: '过期',\n  // /**\n  //  * 更换\n  //  */\n  // REPLACE: '更换'\n};\n\n/**\n * 联合支付-银行卡 相关枚举\n */\nexport const UNION_BANK_CARD = {\n  /**\n   * 卡号最大长度*\n   * 根据ISO标准，银行卡长度一般在13-19位，国际上也有12位的。银联标准卡卡长度一般是在16-19位，\n   *\n   */\n  MAX_LENGTH: 19,\n  /**\n   * 卡号最小长度\n   */\n  MIN_LENGTH: 13\n};\n\n/**\n * 验证码 相关枚举\n */\nexport const SMS_CODE = {\n  /**\n   * 长度 6 位\n   */\n  LENGTH: 6,\n  /**\n   * 倒计时时间为60s\n   */\n  TIME: 60\n};\n\n/**\n * 订单错误码\n */\nexport enum ORDER_ERROR_CODE {\n  /**\n   * 用户未登录，请登录后重试\n   */\n  LOGIN_REQUIRED = 'LOGIN_REQUIRED',\n  /**\n   * 订单与用户下单ID不匹配\n   */\n  BIZ_ORDER_NO_USER_ID_NOT_MATCH = 'BIZ_ORDER_NO_USER_ID_NOT_MATCH',\n  /**\n   * 订单不存在\n   */\n  BIZ_ORDER_NOT_EXIST = 'BIZ_ORDER_NOT_EXIST',\n  /**\n   * 订单信息错误\n   */\n  BIZ_ORDER_INFO_ERROR = 'BIZ_ORDER_INFO_ERROR'\n}\n","/**\n * 事件编码\n */\nexport const EVENT_CODE = {\n  // 浏览商品列表页\n  VIEW_PRODUCT_LIST: 'VIEW_PRODUCT_LIST',\n  // 浏览商品详情页\n  VIEW_PRODUCT_DETAIL: 'VIEW_PRODUCT_DETAIL',\n  // 浏览订单列表页\n  VIEW_ORDER_LIST: 'VIEW_ORDER_LIST',\n  // 浏览订单详情页\n  VIEW_ORDER_DETAIL: 'VIEW_ORDER_DETAIL',\n  // 浏览协议详情页  从订单进入\n  VIEW_AGREEMENT_DETAIL__ORDER: 'VIEW_AGREEMENT_DETAIL__ORDER',\n  // 浏览协议详情页  从后台预览进入\n  VIEW_AGREEMENT_DETAIL__PREVIEW: 'VIEW_AGREEMENT_DETAIL__PREVIEW',\n\n  // 浏览二维码支付页面\n  VIEW_QRCODE_PAY: 'VIEW_QRCODE_PAY',\n  // 浏览银联支付页面\n  VIEW_UNION_PAY: 'VIEW_UNION_PAY',\n\n  // 在商品列表页点击BUTTON 浏览商品详情页\n  CLICK_PRODUCT_DETAIL: 'CLICK_PRODUCT_DETAIL',\n\n  // 点击支付按钮\n  CLICK_PAYMENT__PRODUCT_DETAIL: 'CLICK_PAYMENT__PRODUCT_DETAIL',\n  CLICK_PAYMENT__ORDER_DETAIL: 'CLICK_PAYMENT__ORDER_DETAIL',\n  CLICK_PAYMENT__ORDER_LIST: 'CLICK_PAYMENT__ORDER_LIST',\n\n  // 支付成功, 需要在点击支付按钮的时候, 在 localStore 记录 'PRODUCT_DETAIL' | 'ORDER_DETAIL' |  'ORDER_LIST'\n  PAYMENT_SUCCESS__PRODUCT_DETAIL: 'PAYMENT_SUCCESS__PRODUCT_DETAIL',\n  PAYMENT_SUCCESS__ORDER_DETAIL: 'PAYMENT_SUCCESS__ORDER_DETAIL',\n  PAYMENT_SUCCESS__ORDER_LIST: 'PAYMENT_SUCCESS__ORDER_LIST',\n\n  // 支付失败, 需要在点击支付按钮的时候, 在 localStore 记录 'PRODUCT_DETAIL' | 'ORDER_DETAIL' |  'ORDER_LIST'\n  PAYMENT_FAIL__PRODUCT_DETAIL: 'PAYMENT_FAIL__PRODUCT_DETAIL',\n  PAYMENT_FAIL__ORDER_DETAIL: 'PAYMENT_FAIL__ORDER_DETAIL',\n  PAYMENT_FAIL__ORDER_LIST: 'PAYMENT_FAIL__ORDER_LIST',\n\n  // 支付结果页 发生错误\n  PAYMENT_RESULT_ERROR: 'PAYMENT_RESULT_ERROR'\n};\n\n/**\n * 支付页面\n */\nexport const PAYMENT_PAGE = {\n  PRODUCT_DETAIL: 'PRODUCT_DETAIL',\n  ORDER_DETAIL: 'ORDER_DETAIL',\n  ORDER_LIST: 'ORDER_LIST'\n};\n","import logHelper from '@mmears/log';\n\nimport * as localStore from './local-store';\n\nconst logger = logHelper({\n  eventName: 'shop_log',\n  showLog: false\n});\n\ninterface ILogOptions {\n  /**\n   * 错误码, 没有错误码默认 'OK'\n   */\n  errCode?: string;\n  /**\n   * 事件编码\n   */\n  eventCode?: string;\n  /**\n   * message\n   */\n  message: string;\n  /**\n   * 账号\n   */\n  account?: string;\n}\n\n/**\n * 前端监控, 日志上报\n */\nconst monitor = {\n  /**\n   * 在登录和注册成功后，调用方法来标识真实用户\n   * @param userId\n   */\n  login(userId: string) {\n    logger.login(userId);\n  },\n  /**\n   * 使用 logout 切换到之前的匿名id\n   */\n  logout() {\n    logger.logout();\n  },\n  /**\n   * 记录普通日志\n   * @param options 选项信息\n   */\n  log: (options: ILogOptions) => {\n    logger.info({\n      errCode: options.errCode || 'OK',\n      eventCode: options.eventCode || '',\n      account:\n        localStore.getUserId() || (localStore.getWechatToken() && '微信授权登录') || '未登录',\n      message: options.message\n    });\n  },\n  /**\n   * 记录错误日志\n   * @param options 选项信息\n   */\n  error: (options: ILogOptions) => {\n    logger.info({\n      errCode: options.errCode || 'ERROR',\n      eventCode: options.eventCode || '',\n      account:\n        localStore.getUserId() || (localStore.getWechatToken() && '微信授权登录') || '未登录',\n      message: options.message\n    });\n    console.error(options);\n  }\n};\n\nexport default monitor;\n","import store from 'store';\nimport jsCookies from 'js-cookie';\nimport monitor from '@/utils/monitor';\n\nimport appConfig from '../config/app-config';\n\n/**\n * 设置本地数据, localStorage\n * @param key store存储的key\n * @param value store存储的value\n */\nexport function set(key: string, value: string | number): void {\n  try {\n    store.set(key, value);\n  } catch (error) {\n    monitor.error({\n      message: `store设置失败：key=>${key},value=${value}。error=>${JSON.stringify(error)}`\n    });\n  }\n}\n\n/**\n * 获取本地数据\n * @param key store中获取的key\n */\nexport function get(key: string): string | number {\n  return store.get(key);\n}\n\n/**\n * 移除本地数据\n * @param key 要删除的key\n */\nexport function remove(key: string): void {\n  store.remove(key);\n}\n\n/**\n * 设置登录token\n * @param userId 用户id\n * @param token 登录token\n */\nexport function setToken(userId: string, token: string): void {\n  const { userIdKey, userTokenKey, expiresDays, domain } = appConfig.cookie;\n\n  set(userIdKey, userId);\n  set(userTokenKey, token);\n\n  jsCookies.set(userIdKey, userId, {\n    expires: expiresDays,\n    domain\n  });\n\n  jsCookies.set(userTokenKey, token, {\n    expires: expiresDays,\n    domain\n  });\n}\n\n/**\n * 获取登录token\n */\nexport function getToken(): string | undefined {\n  const { userIdKey, userTokenKey, expiresDays, domain } = appConfig.cookie;\n  const userId: string = store.get(userIdKey);\n  const userStoreToken: string = store.get(userTokenKey);\n  const userCookieToken: string | undefined = jsCookies.get(userTokenKey);\n\n  // 取用户登录token\n  const userToken: string | undefined = userStoreToken || userCookieToken;\n\n  // store里没有 则重写一次\n  if (userToken && !userStoreToken) {\n    set(userIdKey, userId);\n    set(userTokenKey, userToken);\n  }\n\n  // cookie里没有 则重写一次\n  if (userToken && !userCookieToken) {\n    jsCookies.set(userIdKey, userId, {\n      expires: expiresDays,\n      domain\n    });\n\n    jsCookies.set(userTokenKey, userToken, {\n      expires: expiresDays,\n      domain\n    });\n  }\n\n  return userToken;\n}\n\n/**\n * 获取微信公众号的token\n * PS: 根据微信公众号内的url里的参数code, 换取的微信公众号的Token\n */\nexport function getWechatToken(): string {\n  const { wechatTokenKey, expiresDays, domain } = appConfig.cookie;\n\n  const storeToken: string = store.get(wechatTokenKey);\n  const cookieToken: string = jsCookies.get(wechatTokenKey) || '';\n\n  // 微信授权 token\n  const wechatToken: string = storeToken || cookieToken;\n\n  // store里没有 则重写一次\n  if (wechatToken && !storeToken) {\n    set(wechatTokenKey, wechatToken);\n  }\n\n  // cookie里没有 则重写一次\n  if (wechatToken && !cookieToken) {\n    // 当cookie里不存在时, 重写一次\n    jsCookies.set(wechatTokenKey, wechatToken, {\n      expires: expiresDays,\n      domain\n    });\n  }\n\n  return wechatToken;\n}\n\n/**\n * 清空用户token登录状态token\n */\nexport function clearToken(): void {\n  const { userIdKey, userTokenKey, domain } = appConfig.cookie;\n  store.remove(userIdKey);\n  store.remove(userTokenKey);\n\n  jsCookies.remove(userIdKey);\n  jsCookies.remove(userTokenKey);\n\n  jsCookies.remove(userIdKey, { domain });\n  jsCookies.remove(userTokenKey, { domain });\n\n  jsCookies.remove(userIdKey, { domain: 'mmears.com' });\n  jsCookies.remove(userTokenKey, { domain: 'mmears.com' });\n\n  jsCookies.remove(userIdKey, { domain: '.mmears.com' });\n  jsCookies.remove(userTokenKey, { domain: '.mmears.com' });\n}\n\n/**\n * 获取当前登录用户的userId\n */\nexport const getUserId = () => {\n  const { userIdKey, expiresDays, domain } = appConfig.cookie;\n\n  const storeUserId = store.get(userIdKey);\n  const cookieUserId = jsCookies.get(userIdKey);\n\n  const userId = storeUserId || cookieUserId;\n\n  // store里没有 则重写一次\n  if (userId && !storeUserId) {\n    set(userIdKey, userId);\n  }\n\n  // cookie里没有 则重写一次\n  if (userId && !cookieUserId) {\n    jsCookies.set(userIdKey, userId, {\n      expires: expiresDays,\n      domain\n    });\n  }\n\n  return userId;\n};\n","import appConfig from '@/config/app-config';\nimport { EVENT_CODE, PAYMENT_PAGE } from '@/constants';\nimport * as localStore from '@/utils/local-store';\n\n/**\n * 检查是否是简单对象\n * @param value 需要检查的对象\n * @returns boolean\n */\nexport function isPlainObject(value: any): boolean {\n  return Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * 判断是否是微信浏览器\n * @param userAgent userAgent\n * @returns boolean\n */\nexport function isWeChat(userAgent?: string): boolean {\n  let agent = userAgent ? userAgent : window.navigator.userAgent;\n  return /micromessenger/i.test(agent);\n}\n\n/**\n * 是否是wap\n */\nexport const isWap = () => {\n  return /iphone|android|mobile|windows ce|miui|ipad|ipod|vivobrowser/i.test(navigator.userAgent);\n};\n\n/**\n * 判断是否是IOS系统\n * @param userAgent 服务端渲染时,传递客户端浏览器的UA标识\n * @returns boolean\n */\nexport function isIOS(userAgent?: string): boolean {\n  let agent = userAgent ? userAgent : window.navigator.userAgent;\n  return !!agent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n}\n\n/**\n * 判断是否是安卓\n * @param userAgent 服务端渲染时,传递客户端浏览器的UA标识\n * @returns boolean\n */\nexport function isAndroid(userAgent?: string): boolean {\n  let agent = userAgent ? userAgent : window.navigator.userAgent;\n  return agent.indexOf('Android') > -1 || agent.indexOf('Adr') > -1;\n}\n\n/**\n * 加密手机号\n * @param account 手机号码\n */\nexport function encryptAccount(account: string): string {\n  const phoneReg = /^1[0-9]\\d{9}$/;\n  if (account) {\n    if (phoneReg.test(account)) {\n      return account.replace(/^(\\d{3})\\d{4}(\\d{4})$/, '$1****$2');\n    }\n  }\n  return account;\n}\n\n/**\n * 60进制\n */\nconst TIME_UNIT = 60;\n\n/**\n * 格式化剩余时间\n * @param diffTime 剩余时间, 单位:秒\n */\nexport const formatDiffTime = (diffTime: number) => {\n  const hour = Math.floor(diffTime / (TIME_UNIT * TIME_UNIT));\n  let leaveSecond = diffTime - hour * TIME_UNIT * TIME_UNIT;\n  const minute = Math.floor(leaveSecond / TIME_UNIT);\n  leaveSecond = leaveSecond - minute * TIME_UNIT;\n\n  const hourVal = hour > 0 ? `${hour}小时` : '';\n  const minuteVal = minute > 0 ? `${minute}分钟` : '';\n  const secondVal = leaveSecond >= 10 ? `${leaveSecond}秒` : `0${leaveSecond}秒`;\n\n  return hourVal + minuteVal + secondVal;\n};\n\n/**\n * 转换金额\n * @param money 金额\n */\nexport const formatMoney = (money: number | string): number | string => {\n  if (money === 'NaN') {\n    return 0;\n  }\n\n  let num = (money || 0).toString();\n  let result = '';\n  let cent = '';\n  let place = -3;\n  if (/\\.\\d{2}/.test(num)) {\n    cent = num.substr(num.indexOf('.'));\n    num = num.substr(0, num.indexOf('.'));\n    if (cent === '.00') {\n      cent = '';\n    }\n  }\n  while (num.length > 3 && !/^-\\d{3}$/.test(num)) {\n    result = ',' + num.slice(place) + result;\n    num = num.slice(0, num.length - 3);\n  }\n\n  if (num) {\n    result = num + result;\n  }\n  result += cent;\n  return result;\n};\n\n/**\n * 金额分转元\n * 并处理小数点后两位\n * @param penny 金额分\n */\nexport const convertPennyToDollar = (penny: number | string = 0): number | string => {\n  if (penny === 0) {\n    return penny.toFixed(2);\n  }\n  if (typeof penny !== 'number' || !penny) {\n    return penny;\n  }\n  let dollar: number | string = (penny * 0.01).toFixed(2);\n\n  const dollars = dollar.split('.');\n  const dollarInt = formatMoney(dollars[0]);\n  const dollarFloat = dollars[1];\n\n  dollar = `${dollarInt}.${dollarFloat}`;\n\n  return dollar;\n};\n\n/**\n * 简单函数节流\n * @param action 函数\n * @param delay 延迟, 单位毫秒\n */\nexport const throttle = function(action: () => void, delay: number) {\n  let last = 0;\n  return (...args: []) => {\n    let current = Number(new Date());\n    if (current - last > delay) {\n      action.apply(null, args);\n      last = current;\n    }\n  };\n};\n\n/**\n * 简单函数防抖\n * @param action 函数\n * @param delay 延迟, 单位毫秒\n */\nexport const debounce = function(action: () => void, delay = 300) {\n  let timer: NodeJS.Timeout;\n  return (...args: []) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      action.apply(null, args);\n    }, delay);\n  };\n};\n\n/**\n * 获取登录地址, 并把当前url添加到参数callback\n */\nexport const getLoginUrl = () => {\n  const redirectUrl = `${appConfig.resources.loginUrl}?callback=${encodeURIComponent(\n    window.location.href\n  )}`;\n  return redirectUrl;\n};\n\nconst MONEY_CONVERT_UNIT = 0.01;\n\n/**\n * 转换分为元\n * @param penny 分\n */\nexport const convertPenny = (penny: number): string => {\n  const money = penny * MONEY_CONVERT_UNIT;\n  return money.toFixed(2);\n};\n\n/**\n * 是否是promise对象\n * @param promise 判断的对象\n */\nexport const isPromise = (promise: any) => {\n  return !!promise && typeof promise.then === 'function';\n};\n\n/**\n * 返回完整路径 包括域名和二级目录\n * @param path 路径\n */\nexport const getFullPath = (path: string) => {\n  let fullPath = appConfig.resources.websiteDomain + appConfig.basename + path;\n  return fullPath;\n};\n\n/*\n * 返回二级目录路径\n * @param path 路径\n */\nexport const getPathWithBasename = (path: string) => {\n  let basePath = appConfig.basename + path;\n  return basePath;\n};\n\n/**\n * 空函数\n */\nexport const noop = () => {\n  console.log('空函数');\n};\n\n/**\n * 根据url获取事件编码\n */\nexport function getEventCodeByPath(): string {\n  const url = window.location.href;\n  if (/\\/product\\/\\d+/i.test(url)) {\n    return EVENT_CODE.CLICK_PAYMENT__PRODUCT_DETAIL;\n  } else if (/\\/order\\/\\d+/i.test(url)) {\n    return EVENT_CODE.CLICK_PAYMENT__ORDER_DETAIL;\n  } else {\n    return EVENT_CODE.CLICK_PAYMENT__ORDER_LIST;\n  }\n}\n\n/**\n * 根据url获取支付页面\n */\nexport function getPaymentPage(): string {\n  const url = window.location.href;\n  if (/\\/product\\/\\d+/i.test(url)) {\n    return PAYMENT_PAGE.PRODUCT_DETAIL;\n  } else if (/\\/order\\/\\d+/i.test(url)) {\n    return PAYMENT_PAGE.ORDER_DETAIL;\n  } else {\n    return PAYMENT_PAGE.ORDER_LIST;\n  }\n}\n\n/**\n * 根据支付页面点击支付时 存储的变量, 返回事件编码\n * @param success 支付是否成功\n */\nexport function getEventCodeByPaymentPage(success: boolean): string {\n  const paymentPage = localStore.get('PAYMENT_PAGE');\n  let eventCode = '';\n\n  switch (paymentPage) {\n    case PAYMENT_PAGE.PRODUCT_DETAIL:\n      eventCode = success\n        ? EVENT_CODE.PAYMENT_SUCCESS__PRODUCT_DETAIL\n        : EVENT_CODE.PAYMENT_FAIL__PRODUCT_DETAIL;\n      break;\n    case PAYMENT_PAGE.ORDER_DETAIL:\n      eventCode = success\n        ? EVENT_CODE.PAYMENT_SUCCESS__ORDER_DETAIL\n        : EVENT_CODE.PAYMENT_FAIL__ORDER_DETAIL;\n      break;\n    case PAYMENT_PAGE.ORDER_LIST:\n      eventCode = success\n        ? EVENT_CODE.PAYMENT_SUCCESS__ORDER_LIST\n        : EVENT_CODE.PAYMENT_FAIL__ORDER_LIST;\n      break;\n  }\n\n  return eventCode;\n}\n","import React, { FC, ReactNode, isValidElement, ReactElement } from 'react';\n\nimport rabbit from '@/public/images/common/modal-rabbit.png';\nimport styles from './empty-page.less';\n\ninterface IEmptyProps {\n  iconUrl?: string;\n  describe?: string | ReactNode;\n  action?: IActionItem[];\n}\n\ninterface IActionItem {\n  title: string;\n  onClick: () => void;\n}\n\nconst renderButtons = (action?: IActionItem[]) => {\n  if (!action) {\n    return null;\n  }\n  if (!Array.isArray(action)) {\n    return null;\n  }\n  if (!action.length) {\n    return null;\n  }\n  return action.map((item: IActionItem, index: number) => (\n    <a key={index} onClick={item.onClick} className={styles.button}>\n      {item.title || '按钮'}\n    </a>\n  ));\n};\n\nconst EmptyPage: FC<IEmptyProps> = ({ iconUrl = rabbit, describe = '暂无数据～', action }) => {\n  return (\n    <div className={styles.empty}>\n      <img src={iconUrl} alt=\"魔力兔子\" />\n      <div className={styles.describe}>{describe}</div>\n      {renderButtons(action)}\n    </div>\n  );\n};\n\nexport default EmptyPage;\n","import React, { Component } from 'react';\nimport EmptyPage from '@/views/components/empty-page';\nimport monitor from '@/utils/monitor';\n\nexport default class ErrorBoundary extends Component {\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    console.error(error);\n    return { hasError: true };\n  }\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch(error, info) {\n    // 推荐写法，这里写上报日志的逻辑\n    // 不适用this.setState\n    monitor.log({ message: JSON.stringify(error) });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <EmptyPage describe=\"页面渲染发生错误, 请刷新重试!\" />;\n    }\n\n    return this.props.children;\n  }\n}\n","import { useRef, useEffect } from 'react';\n\ntype ICallback = () => void;\n\n/**\n * 使用 setInterval 执行回调\n * @param callback 回调函数\n * @param delay 间隔时间, 单位毫秒\n */\nfunction useInterval(callback: () => void, delay: number | null) {\n  const callbackRef = useRef<ICallback>();\n\n  useEffect(() => {\n    // 保存最新的回调函数\n    callbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (delay === null) {\n      return;\n    }\n\n    const timer = setInterval(() => {\n      // 调用最新的回调函数\n      callbackRef.current && callbackRef.current();\n    }, delay);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [delay]);\n}\n\nexport default useInterval;\n","import { useEffect, useState } from 'react';\nimport dayjs from 'dayjs';\n\nimport { useInterval, useVisibilityChange } from '../../components/hooks';\n\n/**\n * 倒计时结束\n */\nconst TIME_OVER = 0;\n\n/**\n * 获取时间差\n */\nfunction getDiffTime(currentTime: string | dayjs.Dayjs, endTime: string | dayjs.Dayjs) {\n  const current = dayjs(currentTime);\n  const end = dayjs(endTime);\n\n  // 1. 时间无效 返回0\n  if (isNaN(current.valueOf()) || isNaN(end.valueOf())) {\n    return 0;\n  }\n  // 2. 如果当前时间大于等于结束时间\n  // console.log('useCountDown >>> 初始化, 开始计算时间差...', current, end, current.valueOf(), end.valueOf());\n  if (current.valueOf() >= end.valueOf()) {\n    return 0;\n  }\n  // 3. 最后返回时间差, 单位秒\n  const diff = end.diff(current, 'second');\n  return diff;\n}\n\n/**\n * 使用倒计时\n * @param currentTime 当前时间, 一般是服务器时间\n * @param endTime 结束时间\n * @param onFinish 倒计时结束时的回调\n */\nfunction useCountDown(currentTime: string, endTime: string, onFinish?: () => void): number {\n  /**\n   * 计算时间差\n   */\n  const [diffTime, setDiffTime] = useState<number>(() => {\n    return getDiffTime(currentTime, endTime);\n  });\n\n  /**\n   * 倒计时状态, 用来关闭定时器\n   * 时间无效 或者 开始时间等于结束时间, 不开启定时器\n   */\n  const [active, setActive] = useState<boolean>(() => {\n    const diff = getDiffTime(currentTime, endTime);\n    return diff > 0 ? true : false;\n  });\n\n  /**\n   * 用来处理在第一次加载之后, currentTime 或者 endTime 发生改变的标记\n   */\n  const [isInit, setIsInit] = useState<boolean>(true);\n\n  // 记录页面加载时间\n  let outTime = dayjs();\n\n  /**\n   * 处理切换前后台, 倒计时 减去 时间差\n   */\n  const setInTime = () => {\n    const inOutdiff = getDiffTime(outTime, dayjs());\n    let diff = diffTime - inOutdiff;\n    if (diff < 0) {\n      diff = 0;\n    }\n\n    setDiffTime(diff);\n  };\n\n  /**\n   * 处理页面切换后台事件\n   */\n  useVisibilityChange(undefined, setInTime);\n\n  /**\n   * 组件第一次加载之后, 如果 currentTime 或者 endTime 发生改变, 则更新时间差\n   */\n  useEffect(() => {\n    // 第一次加载 不处理\n    if (isInit) {\n      setIsInit(false);\n    } else {\n      const diff = getDiffTime(currentTime, endTime);\n      setDiffTime(diff);\n    }\n  }, [currentTime, endTime]);\n\n  /**\n   * 使用定时器, 开启倒计时\n   */\n  useInterval(\n    () => {\n      // 倒计时, 这里可以访问到最新的 state\n      if (diffTime > 0) {\n        setDiffTime(diffTime - 1);\n        return;\n      }\n\n      setDiffTime(0);\n    },\n    active ? 1000 : null\n  );\n\n  /**\n   * 倒计时结束时, 关闭定时器, 执行回调\n   */\n  useEffect(() => {\n    // 如果倒计时已激活, 并且时间差小于等于0\n    if (active && diffTime <= TIME_OVER) {\n      // 关闭倒计时\n      setActive(false);\n      // 执行回调\n      console.log('useCountDown >>> 倒计时结束, 执行回调...');\n      onFinish && onFinish();\n    }\n  }, [diffTime]);\n\n  return diffTime;\n}\n\nexport default useCountDown;\n","import { useEffect } from 'react';\n\n/**\n * 阻止滚动穿透\n */\nfunction useStopBodyScroll(status: Boolean = true) {\n  /**\n   * 副作用, 滚动页面穿透\n   */\n  useEffect(() => {\n    if (!status) {\n      return;\n    }\n    // 记录滚动条纵坐标\n    let scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    document.body.style.cssText += 'position:fixed;width:100%;top:-' + scrollTop + 'px;';\n\n    return () => {\n      let top = String(scrollTop);\n      document.body.style.position = '';\n      document.body.scrollTop = document.documentElement.scrollTop = parseInt(top, 10);\n      document.body.style.top = '';\n    };\n  }, [status]);\n}\n\nexport default useStopBodyScroll;\n","import { useEffect, useRef } from 'react';\n\n/**\n * useCurrentValue 可以产生一个值，其最新值永远与入参同步\n * @param value 值\n */\nfunction useCurrentValue<T>(value: T) {\n  const ref = useRef<T>(value);\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref;\n}\n\nexport default useCurrentValue;\n","import { Toast } from 'antd-mobile';\n\nimport monitor from './monitor';\n\n/**\n * 设置为0, 需要手动关闭\n */\nconst loadingDuration = 0;\n\n/**\n * 默认持续时间\n */\nconst duration = 1.5;\n\nconst message = {\n  /**\n   *  消息\n   */\n  info: (content: string, callback?: () => void) => {\n    Toast.info(content, duration, callback);\n  },\n  /**\n   *  成功信息\n   */\n  success: (content: string, callback?: () => void) => {\n    Toast.success(content, duration, callback);\n  },\n  /**\n   *  错误信息\n   */\n  error: (content: string, callback?: () => void) => {\n    Toast.info(content, duration, callback);\n  },\n  /**\n   *  离线信息\n   */\n  offline: (content: string, callback?: () => void) => {\n    Toast.offline(content, duration, callback);\n  },\n  /**\n   *  打开Loading, 打开之后需要手动关闭\n   */\n  showLoading: (content = '加载中...') => {\n    try {\n      Toast.loading(content, loadingDuration);\n    } catch (error) {\n      monitor.error({\n        message: `showLoading >>> error, ${JSON.stringify(error)}`\n      });\n    }\n  },\n  /**\n   *  关闭Loading\n   */\n  closeLoading: () => {\n    try {\n      Toast.hide();\n    } catch (error) {\n      monitor.error({\n        message: `closeLoading >>> error, ${JSON.stringify(error)}`\n      });\n    }\n  }\n};\n\nexport default message;\n","import wx from 'weixin-js-sdk';\n\nimport monitor from '@/utils/monitor';\nimport message from '@/utils/message';\nimport { IShareOptions, IShareStatus, IWechatPayOptions, IWechatSign } from '@/types/wechat';\n\n// const debugStatus = appConfig.env === 'production' ? false : true;\nconst debugStatus = false;\n\n/**\n * 微信验证状态\n */\nexport const wechatStatus = {\n  /**\n   * config信息验证是否完成\n   */\n  ready: false,\n  /**\n   * config信息验证错误信息\n   */\n  error: ''\n};\n\n/**\n * 根据微信签名, 通过config接口注入权限验证配置\n * 所有需要使用JS-SDK的页面必须先注入配置信息，否则将无法调用\n * @param wechatSign 微信JS-SDK 签名信息\n * @param shareStatus 分享状态\n * @param shareOptions 分享配置\n */\nexport const wechatConfig = (\n  wechatSign: IWechatSign,\n  shareStatus: IShareStatus,\n  shareOptions: IShareOptions = {}\n) => {\n  const config = {\n    debug: debugStatus, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n    appId: wechatSign.appId, // 必填，公众号的唯一标识\n    timestamp: wechatSign.timestamp, // 必填，生成签名的时间戳\n    nonceStr: wechatSign.nonceStr, // 必填，生成签名的随机串\n    signature: wechatSign.signature, // 必填，签名\n    jsApiList: [\n      'chooseWXPay',\n      'chooseImage',\n      'onMenuShareTimeline',\n      'onMenuShareAppMessage',\n      'onMenuShareQQ',\n      'onMenuShareWeibo',\n      'onMenuShareQZone',\n      'hideMenuItems',\n      'showMenuItems',\n      'hideOptionMenu'\n    ] // 必填，需要使用的JS接口列表\n  };\n\n  wx.config(config);\n  wechatReady(shareStatus, shareOptions);\n  wechatError();\n};\n\n/**\n * 微信, 通过ready接口处理成功验证\n * @param shareStatus 分享状态\n * @param shareOptions 分享配置\n */\nconst wechatReady = (shareStatus: IShareStatus, shareOptions: IShareOptions) => {\n  wx.ready(() => {\n    console.log('微信 js-sdk 配置成功');\n    // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，\n    // config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。\n    // 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\n    wechatStatus.ready = true;\n    wechatStatus.error = '';\n\n    // 配置\n    configShare(shareStatus, shareOptions);\n  });\n};\n\n/**\n * 配置分享\n */\nexport const configShare = (shareStatus: IShareStatus, shareOptions: IShareOptions) => {\n  let defaultLink = window.location.href;\n  let options: IShareOptions = {\n    title: '分享标题', // 分享标题\n    desc: '分享描述', // 分享描述\n    link: defaultLink, // 默认分享链接\n    type: 'link', // 分享类型,music、video或link，不填默认为link\n    dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\n    ...shareOptions\n  };\n\n  console.log('微信分享设置', '分享设置: ' + shareStatus, options);\n\n  onMenuShareTimeline(options);\n  onMenuShareAppMessage(options);\n  onMenuShareQQ(options);\n  onMenuShareWeibo(options);\n  onMenuShareQZone(options);\n\n  // 展示分享 或 隐藏分享\n  if (shareStatus === true || shareStatus === false) {\n    showOrHideMenuShare(shareStatus);\n  }\n};\n\n/**\n * 微信, 通过error接口处理失败验证\n */\nconst wechatError = () => {\n  wx.error((res: any) => {\n    console.error('微信 js-sdk 配置失败');\n    // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\n    wechatStatus.ready = false;\n    wechatStatus.error = JSON.stringify(res);\n  });\n};\n\n/**\n * 微信公众号支付\n */\nexport const chooseWXPay = (options: IWechatPayOptions) => {\n  // 检测微信JS-SDK是否配置成功\n  if (!wechatStatus.ready) {\n    message.error('微信JS-SDK配置失败, 请您刷新页面重试');\n    return;\n  }\n\n  wx.chooseWXPay({\n    appId: options.appId,\n    timestamp: options.timestamp,\n    nonceStr: options.nonceStr,\n    package: options.package,\n    signType: options.signType,\n    paySign: options.paySign,\n    success(res: { errMsg: string }) {\n      console.log('chooseWXPay >>> success', res);\n      if (res.errMsg === 'chooseWXPay:ok') {\n        options.success && options.success();\n      } else {\n        options.fail && options.fail({ msg: res.errMsg });\n      }\n    },\n    cancel() {\n      options.cancel && options.cancel();\n    },\n    fail(res: any) {\n      console.log('chooseWXPay >>> fail', res);\n      // 添加支付错误埋点\n      monitor.log({\n        message: 'wx.chooseWXPay.fail. ' + JSON.stringify(res)\n      });\n      options.fail && options.fail({ msg: (res && res.errMsg) || '支付失败' });\n    }\n  });\n};\n\n/**\n * 微信选择图片\n * @param count 图片数量\n * @param callback 回调\n */\nexport const chooseImage = ({ count = 1, callback }: any) => {\n  if (!wechatStatus.ready) {\n    console.error('微信>>>签名失败');\n    return;\n  }\n  wx.chooseImage({\n    count, // 默认9\n    sizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\n    sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n    success: (res: any) => {\n      callback && callback(res.localIds);\n    }\n  });\n};\n\n/**\n * 展示分享 或 屏蔽分享\n */\nexport const showOrHideMenuShare = (showShare: boolean) => {\n  if (showShare) {\n    wx.showMenuItems({\n      menuList: [\n        'menuItem:share:appMessage',\n        'menuItem:share:timeline',\n        'menuItem:share:qq',\n        'menuItem:share:weiboApp',\n        'menuItem:share:facebook',\n        'menuItem:share:QZone',\n        'menuItem:favorite',\n        'menuItem:openWithQQBrowser',\n        'menuItem:openWithSafari'\n      ]\n    });\n  } else {\n    wx.hideMenuItems({\n      menuList: [\n        'menuItem:share:appMessage',\n        'menuItem:share:timeline',\n        'menuItem:share:qq',\n        'menuItem:share:weiboApp',\n        'menuItem:share:facebook',\n        'menuItem:share:QZone',\n        'menuItem:favorite',\n        'menuItem:openWithQQBrowser',\n        'menuItem:openWithSafari'\n      ] // 要隐藏的菜单项，只能隐藏“传播类”和“保护类”按钮，所有menu项见附录3\n    });\n  }\n};\n\n/**\n * 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口\n */\nconst onMenuShareTimeline = ({ title, link, imgUrl }: any) => {\n  wx.onMenuShareTimeline({\n    title, // 分享标题\n    link, // 分享链接\n    imgUrl, // 分享图标\n    success: () => {\n      // 用户确认分享后执行的回调函数\n    },\n    cancel: () => {\n      // 用户取消分享后执行的回调函数\n    }\n  });\n};\n\n/**\n * 获取“分享给朋友”按钮点击状态及自定义分享内容接口\n */\nconst onMenuShareAppMessage = (options: any) => {\n  const { title, desc, link, imgUrl, type, dataUrl } = options;\n  wx.onMenuShareAppMessage({\n    title, // 分享标题\n    desc, // 分享描述\n    link,\n    imgUrl, // 分享图标\n    type, // 分享类型,music、video或link，不填默认为link\n    dataUrl, // 如果type是music或video，则要提供数据链接，默认为空\n    success: () => {\n      // 用户确认分享后执行的回调函数\n    },\n    cancel: () => {\n      // 用户取消分享后执行的回调函数\n    }\n  });\n};\n\n/**\n * 获取“分享到QQ”按钮点击状态及自定义分享内容接口\n */\nconst onMenuShareQQ = ({ title, desc, link, imgUrl }: any) => {\n  wx.onMenuShareQQ({\n    title,\n    desc,\n    link,\n    imgUrl,\n    success: () => {\n      // 用户确认分享后执行的回调函数\n    },\n    cancel: () => {\n      // 用户取消分享后执行的回调函数\n    }\n  });\n};\n\n/**\n * 获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口\n */\nconst onMenuShareWeibo = ({ title, desc, link, imgUrl }: any) => {\n  wx.onMenuShareWeibo({\n    title,\n    desc,\n    link,\n    imgUrl,\n    success: () => {\n      // 用户确认分享后执行的回调函数\n    },\n    cancel: () => {\n      // 用户取消分享后执行的回调函数\n    }\n  });\n};\n\n/**\n * 分享到QQ空间\n */\nconst onMenuShareQZone = ({ title, desc, link, imgUrl }: any) => {\n  wx.onMenuShareQZone({\n    title,\n    desc,\n    link,\n    imgUrl,\n    success: () => {\n      // 用户确认分享后执行的回调函数\n    },\n    cancel: () => {\n      // 用户取消分享后执行的回调函数\n    }\n  });\n};\n\n// /**\n//  * 检查微信JS接口权限\n//  */\n// export const checkJsApi = () => {\n//     wx.checkJsApi({\n//         jsApiList: [\n//             'chooseImage',\n//             'chooseWXPay',\n//             'onMenuShareTimeline',\n//             'onMenuShareAppMessage',\n//             'onMenuShareQQ',\n//             'onMenuShareWeibo',\n//             'onMenuShareQZone'\n//         ], // 需要检测的JS接口列表，所有JS接口列表见附录2,\n//         success: function (res) {\n//             console.log('checkJsApi', checkJsApi);\n//             // message.info(JSON.stringify(res));\n//         }\n//     });\n// };\n\n/**\n * 延迟, 单位毫秒\n * @param delay 毫秒\n * @returns Promise<any>\n */\nexport function getDelay(delay: number): any {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, delay);\n  });\n}\n","import RequestUtils, {\n  IAnyValueObject,\n  IRequestConfig,\n  IRequestGlobalConfig\n} from '@mmears/request';\nimport logHelper from '@mmears/log';\n\nimport * as localStore from '@/utils/local-store';\n\n/**\n * 日志对象\n */\nconst logger = logHelper({\n  eventName: 'shop_log',\n  showLog: false,\n  getAccount: () => {\n    return localStore.getUserId() || '';\n  }\n});\n\n/**\n * 请求工具 的 配置对象\n */\nconst config: IRequestGlobalConfig = {\n  /**\n   * 接口响应成功的编码, 默认是 'OK'\n   */\n  successCode: 'OK',\n  /**\n   * 是否携带cookie\n   */\n  withCredentials: true,\n  logger,\n  perfRule: 'all', // 接口性能 记录日志的规则\n  /**\n   * 处理自定义请求头\n   */\n  headersHandle: () => {\n    const headers = {\n      'X-USER-TOKEN': localStore.getToken() // 登录会话token\n    };\n\n    if (process.env.NODE_ENV === 'development') {\n      headers[\n        'X-USER-TOKEN'\n      ] = `AJxReiDwBnQSYUaOkH5bw2pXR7ibiBoYCA9BMsDfKug4hOCPR6AP1btf5c5Blc1VV9EIync6ubaob1H3l98eLwQ9Zmrcq4761n1C7TaLE37GtIZHXN68sDHt5rGGdm6sJzTmvjb7b3fQCUTKbxI0dA`;\n    }\n\n    // 为了同步 小程序与H5的登录状态, 如果本地有wxToken, 则必须携带\n    const wechatToken = localStore.getWechatToken();\n    if (wechatToken) {\n      // @ts-ignore\n      headers['X-WECHAT-TOKEN'] = wechatToken;\n    }\n\n    return headers;\n  }\n};\n\n/**\n * 请求实例\n */\nconst request = new RequestUtils(config);\n\n/**\n * 异步获取或提交数据的方法\n * @returns {*}\n */\nconst fetchUtils = {\n  /**\n   * 获取数据\n   * @param url url\n   * @param params queryString 参数\n   * @param config 选项\n   */\n  get(url: string, params?: IAnyValueObject, config?: IRequestConfig) {\n    return request.get(url, params, config);\n  },\n  /**\n   * 提交数据\n   * @param url url\n   * @param data 请求数据\n   * @param config 选项\n   */\n  post(url: string, data?: any, config?: IRequestConfig) {\n    return request.post(url, data, config);\n  },\n  /**\n   * 提交数据\n   * @param url url\n   * @param data 请求数据\n   * @param config 选项\n   */\n  postJson(url: string, data?: any, config?: IRequestConfig) {\n    return request.postJson(url, data, config);\n  }\n};\n\nexport default fetchUtils;\n","import { IShareOptions } from '../types/wechat';\n\nconst NODE_ENV: string = process.env.NODE_ENV || '';\nconst PUBLIC_URL: string = process.env.PUBLIC_URL || '';\n\ninterface EnvImage {\n  default: string;\n}\n\ninterface ImgUrlEnvConfig {\n  development: EnvImage;\n  dev: EnvImage;\n  staging: EnvImage;\n  production: EnvImage;\n\n  [propName: string]: EnvImage;\n}\n\ninterface IShareConfig {\n  default: IShareOptions;\n}\n\nconst imgUrlEnvConfig: ImgUrlEnvConfig = {\n  development: {\n    default: `${PUBLIC_URL}/static/img/logo.png`\n  },\n  dev: {\n    default: `https://dev.mmears.com${PUBLIC_URL}/static/img/logo.png?v=20190812`\n  },\n  staging: {\n    default: `https://img-staging.mmears.cn/shop/img/logo.png`\n  },\n  production: {\n    default: `https://img.mmears.cn/shop/img/logo.png`\n  }\n};\n\nconst imgUrlConfig: EnvImage = imgUrlEnvConfig[NODE_ENV] || imgUrlEnvConfig['development'];\n\nconst shareConfig: IShareConfig = {\n  // 默认分享配置\n  default: {\n    title: '魔力耳朵丨4-12岁在线少儿英语小班课', // 分享标题\n    desc: '北美外教在线直播授课，让孩子轻松爱上说英语', // 分享描述\n    link: '',\n    imgUrl: imgUrlConfig['default'],\n    type: 'link', // 分享类型, music、video或link，不填默认为link\n    dataUrl: ''\n  }\n};\n\nexport default shareConfig;\n","import { requestUtils, tools } from '../utils';\nimport { appConfig } from '../config';\n\nconst { apiDomain } = appConfig.domain;\n\n// 落地时的 路径+查询参数, 为了解决IOS SPA 分享bug\nlet entryUrl = window.location.href;\n\n/**\n * 根据当前URL的路径和参数, 获取微信签名\n */\nexport const getWechatSignature = (account: string): Promise<any> => {\n  const url = `${apiDomain}/wechat/mp/jsapi/signature`;\n  const data = {\n    account,\n    /**\n     * !!! url参数必须传递当前页面的完整url\n     */\n    url: tools.isIOS() ? entryUrl : window.location.href\n  };\n  return requestUtils.get(url, data).then((res) => res.data);\n};\n","import { useEffect } from 'react';\n\nimport { IShareOptions, IShareStatus } from '../../types/wechat';\nimport { ACCOUNT_TYPE } from '../../constants';\nimport * as tools from '../../utils/tools';\nimport * as wechatUtils from '../../utils/wechat-utils';\nimport * as wechatService from '../../service/wechat-service';\nimport monitor from '@/utils/monitor';\n\nconst env = process.env.NODE_ENV;\n\nexport interface IUseWechatSdkProps {\n  /**\n   * 公众号账号, 默认使用主公众号\n   */\n  account?: ACCOUNT_TYPE;\n  /**\n   * 分享状态\n   */\n  shareStatus?: IShareStatus;\n  /**\n   * 分享配置信息\n   */\n  shareOptions?: IShareOptions;\n}\n\n/**\n * 设置微信JS-SDK\n * @param options 选项\n */\nconst useWechatSdk = (options: IUseWechatSdkProps = {}) => {\n  const { account = ACCOUNT_TYPE.MAIN, shareStatus = 'ignore', shareOptions = {} } = options;\n  const { title, link } = shareOptions;\n\n  /**\n   * 副作用, 设置微信JS-SDK\n   * 依赖: 分享状态, 分享标题, 分享链接, 如果一致, 则不重复执行\n   */\n  useEffect(() => {\n    const init = async () => {\n      // 本地开发环境和集成开发环境 不执行\n      if (env === 'development' || env === 'dev') {\n        console.log('useWechatSdk >>> 本地开发环境和集成开发环境 不执行');\n        return;\n      }\n\n      // 非微信浏览器环境, 不配置微信JS-SDK\n      if (!tools.isWeChat()) {\n        console.log('useWechatSdk >>> 非微信浏览器环境, 不配置微信JS-SDK');\n        return;\n      }\n\n      const ready = wechatUtils.wechatStatus.ready;\n\n      /**\n       * 未配置过JS-SDK\n       * || tools.isAndroid()   或者  是安卓系统\n       */\n      if (!ready) {\n        try {\n          const wechatSign = await wechatService.getWechatSignature(account);\n          wechatUtils.wechatConfig(wechatSign, shareStatus, shareOptions);\n        } catch (error) {\n          monitor.error({\n            message: `useWechat >> 获取微信签名数据失败, ${JSON.stringify(error)}`\n          });\n        }\n      } else {\n        wechatUtils.configShare(shareStatus, shareOptions);\n      }\n    };\n\n    init();\n  }, [shareStatus, title, link]);\n};\n\nexport default useWechatSdk;\n","import { useLayoutEffect } from 'react';\nimport * as queryString from 'query-string';\n\nimport { ACCOUNT_TYPE } from '@/constants';\nimport * as tools from '@/utils/tools';\nimport { appConfig } from '@/config';\nimport * as localStore from '@/utils/local-store';\n\n// 环境变量\nconst NODE_ENV = process.env.NODE_ENV;\n\n/**\n * 参数\n */\ninterface IUseCheckWechatAuthOptions {\n  account?: ACCOUNT_TYPE;\n  support?: 'wechat' | 'all';\n}\n\n/**\n * url参数\n */\ninterface IUrlParam {\n  from?: string;\n  isappinstalled?: string;\n\n  [propName: string]: any;\n}\n\nconst defaultOptions: IUseCheckWechatAuthOptions = {\n  account: ACCOUNT_TYPE.MAIN,\n  support: 'wechat'\n};\n\n/**\n * 获取授权地址\n */\nconst getAuthUrl = (account: string) => {\n  // tslint:disable-next-line\n  let { from, isappinstalled, ...params } = queryString.parse(window.location.search) as IUrlParam;\n\n  // 当前URL地址\n  let search = queryString.stringify(params);\n  if (search) {\n    search = `?${search}`;\n  }\n  const returnUrl = `${location.protocol}//${location.host}${location.pathname}${search}`;\n\n  // 统一授权地址\n  // 需要两个参数: account 使用哪个微信公众号, returnUrl 前端应用地址\n  params = {};\n  params.account = account;\n  params.returnUrl = encodeURIComponent(returnUrl);\n\n  const authUrl = `${appConfig.resources.commonAuthUrl}?${queryString.stringify(params)}`;\n  return authUrl;\n};\n\n/**\n * 检查用户的微信授权\n * @param options 参数\n */\nfunction useCheckWechatAuth(options = defaultOptions) {\n  useLayoutEffect(() => {\n    // 本地开发环境和集成开发环境, 没有微信公众号, 跳过检查\n    if (NODE_ENV === 'development' || NODE_ENV === 'dev') {\n      console.log('useCheckWechatAuth >>> 本地开发环境和集成开发环境, 没有微信公众号, 跳过检查');\n      return;\n    }\n\n    const account = options.account || ACCOUNT_TYPE.MAIN;\n    const support = options.support || 'wechat';\n\n    /**\n     * 不是微信浏览器 并且 支持在其他浏览器里打开, 跳过检查\n     */\n    if (!tools.isWeChat() && support === 'all') {\n      console.log('useCheckWechatAuth >>> 不是微信浏览器 并且 支持在其他浏览器里打开, 跳过检查');\n      return;\n    }\n\n    let openIdKey;\n    switch (account) {\n      case ACCOUNT_TYPE.MAIN:\n        // 主公众号\n        openIdKey = appConfig.cookie.mainOpenIdKey;\n        break;\n      default:\n        openIdKey = appConfig.cookie.mainOpenIdKey;\n        break;\n    }\n\n    const openId = localStore.get(openIdKey) || '';\n\n    // 如果已经授权过, 则不需要重复授权\n    if (openId) {\n      console.log('useCheckWechatAuth >>> 如果已经授权过, 则不需要重复授权');\n      return;\n    }\n\n    const authUrl = getAuthUrl(account);\n    window.location.replace(authUrl);\n  }, []);\n}\n\nexport default useCheckWechatAuth;\n","import { useCallback, useEffect, useState } from 'react';\n\n/**\n * 设置状态\n */\ntype ISetStatus = (status: boolean) => void;\n\n/**\n * 简单倒计时, 默认关闭\n * @param count 倒计时初始值, 这个值不需要动\n * @param onFinish 回调\n * @param reset 倒计时结束时 是否重置\n */\nfunction useSimpleCountDown(\n  count: number,\n  onFinish?: () => void,\n  reset = true\n): [number, ISetStatus] {\n  // 倒计时\n  const [diffTime, setDiffTime] = useState(count);\n  /**\n   * 倒计时状态, 用来关闭定时器\n   */\n  const [active, setActive] = useState<boolean>(false);\n\n  /**\n   * 设置状态\n   */\n  const setStatus = useCallback((status: boolean) => {\n    // 重置数值\n    if (status || reset) {\n      setDiffTime(count);\n    }\n    // 设置状态\n    setActive(status);\n  }, []);\n\n  /**\n   * 开启或关闭定时器\n   */\n  useEffect(() => {\n    if (!active) {\n      return;\n    }\n\n    const timer = setInterval(() => {\n      setDiffTime((prevDiff) => {\n        if (prevDiff > 0) {\n          return prevDiff - 1;\n        }\n\n        setStatus(false);\n        onFinish && onFinish();\n        return 0;\n      });\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [active]);\n\n  return [diffTime, setStatus];\n}\n\nexport default useSimpleCountDown;\n","import { useEffect } from 'react';\n\n/**\n * 处理页面切换后台事件\n * @param outCallback 进入后台回调\n * @param inCallback 进入页面回调\n */\nfunction useVisibilityChange(outCallback?: () => void, inCallback?: () => void) {\n  useEffect(() => {\n    const onChangeEvent = () => {\n      if (document.hidden) {\n        // 进入后台\n        outCallback && outCallback();\n      } else {\n        // 进入页面\n        inCallback && inCallback();\n      }\n    };\n\n    document.addEventListener('visibilitychange', onChangeEvent);\n    return () => {\n      document.removeEventListener('visibilitychange', onChangeEvent);\n    };\n  }, []);\n}\n\nexport default useVisibilityChange;\n","import { useEffect } from 'react';\n\nimport monitor from '@/utils/monitor';\n\ninterface IUseViewEventOptions {\n  eventCode?: string;\n  message: string;\n}\n\n/**\n * 埋点: 记录用户浏览页面\n */\nfunction useViewEvent({ eventCode, message }: IUseViewEventOptions) {\n  /**\n   * 添加浏览事件\n   */\n  useEffect(() => {\n    monitor.log({\n      eventCode,\n      message\n    });\n  }, []);\n}\n\nexport default useViewEvent;\n","import classnames from 'classnames';\nimport * as React from 'react';\nimport Notification from 'rmc-notification';\nimport { NoPortalModal } from './modal';\n\nconst SHORT = 3;\n\ninterface IToastConfig {\n  duration: number;\n  mask: boolean;\n}\n\nconst config: IToastConfig = {\n  duration: SHORT,\n  mask: true\n};\n\nlet messageInstance: any;\nconst prefixCls = 'ms-toast';\n\nfunction getMessageInstance(mask: boolean, callback: (notification: any) => void) {\n  if (messageInstance) {\n    messageInstance.destroy();\n    messageInstance = null;\n  }\n  (Notification as any).newInstance(\n    {\n      prefixCls,\n      style: {}, // clear rmc-notification default style\n      transitionName: 'am-fade',\n      className: classnames({\n        [`${prefixCls}-mask`]: mask,\n        [`${prefixCls}-nomask`]: !mask\n      })\n    },\n    (notification: any) => callback && callback(notification)\n  );\n}\n\nfunction notice(\n  content: React.ReactNode,\n  type: string,\n  duration = config.duration,\n  onClose: (() => void) | undefined,\n  mask = config.mask\n) {\n  const iconTypes: { [key: string]: string } = {\n    info: '',\n    modal: 'modal',\n    success: 'success',\n    fail: 'fail',\n    offline: 'dislike',\n    loading: 'loading'\n  };\n  const iconType = iconTypes[type];\n\n  getMessageInstance(mask, (notification) => {\n    messageInstance = notification;\n\n    let contentwrap: React.ReactNode;\n    switch (iconType) {\n      case 'modal':\n        contentwrap = content;\n        break;\n      case 'success':\n      case 'fail':\n      case 'dislike':\n      case 'loading':\n        contentwrap = (\n          <div\n            className={`${prefixCls}-text ${prefixCls}-text-icon`}\n            role=\"alert\"\n            aria-live=\"assertive\"\n          >\n            {/* <Icon type={iconType} size=\"lg\" /> */}\n            <div className={`${prefixCls}-text-info`}>{content}</div>\n          </div>\n        );\n        break;\n      default:\n        contentwrap = (\n          <div className={`${prefixCls}-text`} role=\"alert\" aria-live=\"assertive\">\n            <div>{content}</div>\n          </div>\n        );\n        break;\n    }\n    notification.notice({\n      duration,\n      style: {},\n      content: contentwrap,\n      closable: false,\n      onClose() {\n        if (onClose) {\n          onClose();\n        }\n        notification.destroy();\n        notification = null;\n        messageInstance = null;\n      }\n    });\n  });\n}\n\nexport default {\n  SHORT,\n  LONG: 8,\n  show(content: React.ReactNode, duration?: number, mask?: boolean) {\n    return notice(content, 'info', duration, () => {}, mask);\n  },\n  info(content: React.ReactNode, duration?: number, onClose?: () => void, mask?: boolean) {\n    return notice(content, 'info', duration, onClose, mask);\n  },\n  success(content: React.ReactNode, duration?: number, onClose?: () => void, mask?: boolean) {\n    return notice(content, 'success', duration, onClose, mask);\n  },\n  fail(content: React.ReactNode, duration?: number, onClose?: () => void, mask?: boolean) {\n    return notice(content, 'fail', duration, onClose, mask);\n  },\n  offline(content: React.ReactNode, duration?: number, onClose?: () => void, mask?: boolean) {\n    return notice(content, 'offline', duration, onClose, mask);\n  },\n  loading(content: React.ReactNode, duration?: number, onClose?: () => void, mask?: boolean) {\n    return notice(content, 'loading', duration, onClose, mask);\n  },\n  hide() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  },\n  config(conf: Partial<IToastConfig> = {}) {\n    const { duration = SHORT, mask } = conf;\n    config.duration = duration;\n    if (mask === false) {\n      config.mask = false;\n    }\n  },\n  modal(props: ModalProps) {\n    const { content, duration = 0, ...rem } = props;\n    const toastClose = () => {\n      if (messageInstance) {\n        messageInstance.destroy();\n        messageInstance = null;\n      }\n    };\n    const modal = (\n      <NoPortalModal visible={true} onToastClose={toastClose} {...rem}>\n        {content}\n      </NoPortalModal>\n    );\n    return notice(modal, 'modal', duration, () => {});\n  }\n};\n\ninterface ModalProps {\n  className?: string;\n  content: React.ReactNode;\n  title?: React.ReactNode | string;\n  footer?: React.ReactNode | string;\n  closeText?: string;\n  okText?: string;\n  closeVisible?: boolean;\n  okVisible?: boolean;\n  duration?: number;\n  onClose?: () => void;\n  onOk?: () => void;\n}\n","import React, { FC } from 'react';\n\nimport { formatDiffTime } from '@/utils/tools';\nimport { useCountDown } from '@/components/hooks';\nimport styles from './product.less';\n\ninterface ICountDownProps {\n  currentTime: string;\n  endTime: string;\n  onFinish?: () => void;\n}\n\n/**\n * 倒计时组件\n */\nconst CountDown: FC<ICountDownProps> = ({ currentTime, endTime, onFinish }) => {\n  const countDownTime = useCountDown(currentTime, endTime, onFinish);\n  return <div className={styles.payTime}>{formatDiffTime(countDownTime)}</div>;\n};\n\nexport default CountDown;\n","import React, { FC } from 'react';\n\nimport { PRODUCT_TYPE } from '@/constants/common';\nimport baseIcon from '@/public/images/product/base.png';\nimport gift from '@/public/images/product/gift.png';\nimport advanced from '@/public/images/product/advanced.png';\nimport excellentIcon from '@/public/images/product/excellent.png';\n\ninterface ICoursePackIconProps {\n  type?: PRODUCT_TYPE;\n}\n\n/**\n * 根据课程包类型展示icon\n * @param type 课程包类型\n */\nconst CoursePackIcon: FC<ICoursePackIconProps> = (props) => {\n  const { type } = props;\n  let iconUrl = baseIcon; // 基础课时包icon\n  switch (type) {\n    case PRODUCT_TYPE.YEAR_COURSE: // 基础课时包\n    case PRODUCT_TYPE.TRAIN_RISE_BASE_COURSE: // 体验升基础 升舱包\n    case PRODUCT_TYPE.INTERNAL_RISE_BASE_COURSE: // 3999内购课时包的 升舱包\n      iconUrl = baseIcon;\n      break;\n    case PRODUCT_TYPE.TRAIN_COURSE:\n    case PRODUCT_TYPE.SEASON_COURSE:\n    case PRODUCT_TYPE.INTERNAL_COURSE:\n      iconUrl = gift; // 体验课时包icon\n      break;\n    case PRODUCT_TYPE.UPGRADE_BIG_COURSE:\n    case PRODUCT_TYPE.TWO_YEARS_COURSE:\n    case PRODUCT_TYPE.UNOBSTRUCTED_LEARNING365:\n    case PRODUCT_TYPE.UPGRADE_365_TO_TWO_YEAR_COURSE:\n      iconUrl = advanced; // 进阶课时包icon\n      break;\n    case PRODUCT_TYPE.UPGRADE_THREE_YEAR_COURSE:\n    case PRODUCT_TYPE.THREE_YEARS_COURSE:\n    case PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE:\n      iconUrl = excellentIcon; // 学霸课时包icon\n      break;\n  }\n  return <img src={iconUrl} />;\n};\n\nexport default CoursePackIcon;\n","import React, { FC } from 'react';\n\nimport { IDetailProduct } from '@/types';\nimport styles from './product.less';\nimport CoursePackIcon from '@/views/components/course-pack-icon';\nimport { PRODUCT_TYPE } from '@/constants';\nimport { tools } from '@/utils';\nimport { appConfig } from '@/config';\n\n/**\n * 双十一优惠券活动路径\n */\nconst { elevenActivityUrl } = appConfig.resources;\n\n/**\n * 当前商品用户已下单, 订单有效并且未支付\n */\nconst UNPAID_STATUS = 'UNPAID';\n\ninterface IProductDetailProps {\n  product: IDetailProduct;\n}\n\n/**\n * 商品详情\n */\nconst ProductDetail: FC<IProductDetailProps> = ({ product }) => {\n  /**\n   * 优惠券\n   */\n  let couponElement = null;\n  if (product.coupons.length) {\n    couponElement = product.coupons.map((item, index) => {\n      return (\n        <div key={`detail-${index}`} className={styles.coupon}>\n          {item.couponName}:\n          {item.deductibleAmount ? (\n            <span>\n              <i>-</i>\n              <i>¥</i>\n              {tools.convertPenny(item.deductibleAmount)}\n            </span>\n          ) : (\n            <div className={styles.elevenTip} onClick={handleJumpToEleven}>\n              {item.activityInfo}\n            </div>\n          )}\n        </div>\n      );\n    });\n  }\n\n  /**\n   * 跳转到双十一活动页面\n   * from=order 双十一页面用来判断页面来源字段\n   * rf=家长id 进入双十一页面携带家长id区分老带新\n   */\n  function handleJumpToEleven(): void {\n    window.location.href = `${elevenActivityUrl}?from=order&rf=${Number(product.studentId) - 1}`;\n  }\n  /**\n   * 课程包信息\n   */\n  let packageElement = null;\n  const activityAndCourse = product.courseList;\n  if (Array.isArray(activityAndCourse) && activityAndCourse.length) {\n    const courseList = activityAndCourse.map((course) => {\n      return (\n        <p key={course.code}>\n          {course.name}\n          <span>\n            <i>x</i>\n            {course.count}\n            {course.unit}\n          </span>\n        </p>\n      );\n    });\n    packageElement = <div className={styles.package}>{courseList}</div>;\n  }\n\n  let internalCourseElement = null;\n  if (product.productType === PRODUCT_TYPE.INTERNAL_COURSE) {\n    // 3999 内购课时包\n    internalCourseElement = (\n      <div className={styles.tip}>此课时包为内部亲友购课专享，一经购课，不办理退费</div>\n    );\n  } else if (product.productType === PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE) {\n    // 【体验升学霸】升舱包\n    internalCourseElement = (\n      <div className={styles.tip}>双11特惠课时包(内部亲友),不可同享其他活动赠品</div>\n    );\n  }\n\n  return (\n    <div className={styles.product}>\n      <div className={styles.title}>\n        {product.name}\n        <span>{product.status === UNPAID_STATUS ? '待付款' : ''}</span>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.name}>\n          {product.name}\n          <span>\n            <i>¥</i>\n            {product.originalPrice}\n          </span>\n          <CoursePackIcon type={product.productType} />\n        </div>\n        {internalCourseElement}\n        {packageElement}\n        <hr />\n        <div className={styles.order}>\n          课程价格:\n          <span>\n            <i>¥</i>\n            {product.originalPrice}\n          </span>\n        </div>\n        {couponElement}\n      </div>\n      <div className={styles.footer}>\n        应付金额:<span>￥{product.shouldPrice}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n","import { useEffect } from 'react';\n\nimport { IPaymentInfo, ISelectMethod } from '@/types/payment';\nimport { PAYMENT_NAME } from '@/constants';\nimport message from '@/utils/message';\n\n/**\n * 支付宝H5支付, 包括: H5唤醒支付宝支付, H5花呗分期唤醒支付宝支付\n * 备注: 服务端 配置跳转结果页\n * @param selectMethod 选中的支付方式\n */\nconst useAliPay = (paymentInfo: IPaymentInfo, selectMethod: ISelectMethod | null) => {\n  useEffect(() => {\n    if (selectMethod === null) {\n      return;\n    }\n\n    // 支付宝H5支付, 包括: H5唤醒支付宝支付, H5花呗分期唤醒支付宝支付\n    if (\n      selectMethod.paymentName === PAYMENT_NAME.AlipayWap ||\n      selectMethod.paymentName === PAYMENT_NAME.AlipayHB\n    ) {\n      // 支付宝h5支付 form表单html\n      if (!paymentInfo || !paymentInfo.form) {\n        message.error('接口未返回支付宝表单');\n        return;\n      }\n      const div = document.createElement('div');\n      div.innerHTML = decodeURIComponent(paymentInfo.form);\n      document.body.appendChild(div);\n\n      // 查找支付宝form表单, 并提交\n      const forms = document.getElementsByTagName('form');\n      const alipayForm = Array.prototype.find.call(\n        forms,\n        (item: { name: string }) => item.name === 'punchout_form'\n      );\n      alipayForm && alipayForm.submit && alipayForm.submit();\n    }\n  }, [selectMethod]);\n};\n\nexport default useAliPay;\n","import { useEffect } from 'react';\n\nimport { IPaymentInfo, ISelectMethod } from '@/types/payment';\nimport { PAYMENT_NAME } from '@/constants';\n\n/**\n * url支付, 包括: 建设银行信用卡分期 和 广发银行信用卡分期\n * 通过URL跳转到银行的H5页面进行支付\n * 备注: 银行商户后台 配置跳转结果页\n * @param paymentInfo paymentInfo\n * @param selectMethod 选中的支付方式\n */\nconst useUrlPay = (paymentInfo: IPaymentInfo, selectMethod: ISelectMethod | null) => {\n  useEffect(() => {\n    if (selectMethod === null) {\n      return;\n    }\n    // 建设银行信用卡分期 或者 广发银行信用卡分期\n    // 建行支付成功后，回跳到商户的地址，由建行后台配置\n    if (\n      selectMethod.paymentName === PAYMENT_NAME.CCB_BLANK_FQ ||\n      selectMethod.paymentName === PAYMENT_NAME.GNETPG_FQ\n    ) {\n      window.location.href = paymentInfo.payUrl;\n    }\n  }, [selectMethod]);\n};\n\nexport default useUrlPay;\n","import { useEffect } from 'react';\n\nimport { ISelectMethod } from '@/types/payment';\nimport { PAYMENT_NAME } from '@/constants';\nimport { tools } from '@/utils';\n\n/**\n * 银联支付\n * 备注: 前端自己跳转支付结果页\n * @param selectMethod 选择的支付方式\n */\nconst useUnionPay = (selectMethod: ISelectMethod | null) => {\n  useEffect(() => {\n    if (selectMethod === null) {\n      return;\n    }\n\n    // 处理银联支付\n    if (\n      selectMethod.paymentName === PAYMENT_NAME.UNIONPAY_BOC_FQ || // xxxxxxxxx 中国银行信用卡分期\n      selectMethod.paymentName === PAYMENT_NAME.UNIONPAY_ABOC_FQ || // 农业银行信用卡分期\n      selectMethod.paymentName === PAYMENT_NAME.UNIONPAY_HXB_FQ || // xxxxxxxxx 华夏银行信用卡分期\n      selectMethod.paymentName === PAYMENT_NAME.UNIONPAY_SPDB_FQ || // 浦发银行信用卡分期\n      selectMethod.paymentName === PAYMENT_NAME.UNIONPAY_CMBC_FQ // 民生银行信用卡分期\n    ) {\n      const queryString =\n        `orderNo=${selectMethod.orderNo}` +\n        `&method=${selectMethod.paymentName.toLowerCase()}` +\n        `&stageCount=${selectMethod.stageCount}`;\n\n      const url = tools.getFullPath(`/pay/unionpay?${queryString}`);\n      console.log('银联支付, url', url);\n      window.location.href = url;\n    }\n  }, [selectMethod]);\n};\n\nexport default useUnionPay;\n","import { useEffect } from 'react';\n\nimport { ISelectMethod } from '@/types/payment';\nimport { PAYMENT_NAME } from '@/constants';\nimport { tools } from '@/utils';\n\n/**\n * PC环境下, 二维码支付, 包括: 支付宝二维码 | 微信二维码\n * 备注: 前端自己跳转支付结果页\n * @param selectMethod 选中的支付方式\n */\nconst useQrCodePay = (selectMethod: ISelectMethod | null) => {\n  useEffect(() => {\n    if (selectMethod === null) {\n      return;\n    }\n    // 微信二维码 || 支付宝二维码\n    if (\n      selectMethod.paymentName === PAYMENT_NAME.WechatQR ||\n      selectMethod.paymentName === PAYMENT_NAME.AlipayQR\n    ) {\n      const url =\n        `${tools.getFullPath('/pay/qrcode')}` +\n        `?productId=${selectMethod.productId}` +\n        `&orderNo=${selectMethod.orderNo || ''}` +\n        `&method=${selectMethod.paymentName.toLowerCase()}`;\n\n      window.location.href = url;\n    }\n  }, [selectMethod]);\n};\n\nexport default useQrCodePay;\n","import React, { FC, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as tools from '@/utils/tools';\nimport styles from './modal.less';\nimport rabbit from '@/public/images/common/modal-rabbit.png';\nimport useStopBodyScroll from '@/components/hooks/useStopBodyScroll';\ninterface ModalProps {\n  className?: string;\n  title?: React.ReactNode | string;\n  footer?: React.ReactNode | string;\n  closeText?: string;\n  okText?: string;\n  visible: boolean;\n  closeVisible?: boolean;\n  okVisible?: boolean;\n  onClose?: () => void | boolean | Promise<any>;\n  onOk?: () => void | boolean | Promise<any>;\n  onToastClose?: () => void;\n}\n\n/**\n * 基础Modal\n */\nexport const NoPortalModal: FC<ModalProps> = ({\n  className,\n  title,\n  footer,\n  closeText,\n  okText,\n  visible,\n  closeVisible,\n  okVisible,\n  onClose,\n  onOk,\n  onToastClose,\n  children\n}) => {\n  const [modalVisible, setVisible] = useState(visible);\n  const [closeDisabled, setCloseDisabled] = useState(false);\n  const [okDisabled, setOkDisabled] = useState(false);\n  useEffect(() => {\n    setVisible(visible);\n  }, [visible]);\n\n  /**\n   * 阻止滚动穿透\n   */\n  useStopBodyScroll(true);\n  /**\n   * 关闭modal事件\n   */\n  const handleClose = () => {\n    const result = onClose && onClose();\n    if (tools.isPromise(result)) {\n      setCloseDisabled(true);\n      (result as Promise<any>)\n        .then((res) => {\n          onToastClose && onToastClose();\n        })\n        .catch((error) => {\n          setCloseDisabled(false);\n        });\n      return;\n    }\n    if (result === false) {\n      return;\n    }\n    onToastClose && onToastClose();\n  };\n\n  /**\n   * 点击确认事件\n   */\n  const handleOk = () => {\n    const result = onOk && onOk();\n    if (tools.isPromise(result)) {\n      setOkDisabled(true);\n      (result as Promise<any>)\n        .then((res) => {\n          onToastClose && onToastClose();\n        })\n        .catch((error) => {\n          setOkDisabled(false);\n        });\n      return;\n    }\n    if (result === false) {\n      return;\n    }\n    onToastClose && onToastClose();\n  };\n\n  if (!modalVisible) {\n    return null;\n  }\n  return (\n    <>\n      <div className={styles['mask']} />\n      <div className={className ? styles[className] : styles['modal-wrap']}>\n        <div className={styles['modal']}>\n          <div className={styles['modal-header']}>\n            <img src={rabbit} alt=\"logo\" />\n          </div>\n          <Title title={title} />\n          <div className={styles['modal-content']}>{children}</div>\n          <Footer\n            footer={footer}\n            closeText={closeText}\n            okText={okText}\n            closeVisible={closeVisible}\n            okVisible={okVisible}\n            closeDisabled={closeDisabled}\n            okDisabled={okDisabled}\n            onClose={handleClose}\n            onOk={handleOk}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\n/**\n * 通过Protal插入到Body下的Modal\n */\nexport const Modal: FC<ModalProps> = ({ ...props }) => {\n  return (\n    <Portal>\n      <NoPortalModal {...props} />\n    </Portal>\n  );\n};\n\ninterface TitleProps {\n  title?: React.ReactNode | string;\n}\n\n/**\n * modal的title\n */\nconst Title: FC<TitleProps> = ({ title }): any => {\n  if (typeof title === 'string') {\n    return <div className={styles['modal-title']}>{title}</div>;\n  }\n  return title || null;\n};\n\ninterface FooterProps {\n  footer?: React.ReactNode;\n  closeText?: string;\n  okText?: string;\n  closeVisible?: boolean;\n  okVisible?: boolean;\n  closeDisabled?: boolean;\n  okDisabled?: boolean;\n  onClose?: () => void;\n  onOk?: () => void;\n}\n\n/**\n * modal的Footer\n */\nconst Footer: FC<FooterProps> = ({\n  footer,\n  closeText = '取消',\n  okText = '确认',\n  closeVisible = true,\n  okVisible = true,\n  onClose,\n  onOk,\n  closeDisabled = false,\n  okDisabled = false\n}): any => {\n  if (footer) {\n    return footer;\n  }\n\n  const handleClose = () => {\n    if (closeDisabled) {\n      return false;\n    }\n    onClose && onClose();\n  };\n\n  const handleOk = () => {\n    if (okDisabled) {\n      return false;\n    }\n    onOk && onOk();\n  };\n\n  const buttons = [];\n  if (closeVisible) {\n    buttons.push(\n      <button key={'close'} onClick={handleClose} className={styles['modal-operator-close']}>\n        {closeText}\n      </button>\n    );\n  }\n  if (okVisible) {\n    buttons.push(\n      <button key={'ok'} onClick={handleOk} className={styles['modal-operator-confirm']}>\n        {okText}\n      </button>\n    );\n  }\n  return <div className={styles['modal-operator']}>{buttons}</div>;\n};\n\n/**\n * Portal\n */\nconst Portal: FC = ({ children }) => {\n  const [container] = useState(() => {\n    return document.createElement('div');\n  });\n\n  useEffect(() => {\n    document.body.appendChild(container);\n    return () => {\n      document.body.removeChild(container);\n    };\n  }, []);\n  return ReactDOM.createPortal(children, container);\n};\n","import dayjs from 'dayjs';\n\nimport { appConfig } from '@/config';\nimport { requestUtils, tools } from '@/utils';\nimport { CourseInfo, IDetailProduct, IListProduct } from '@/types';\nimport {\n  IBasePaymentInfo,\n  ICreateOrderInfo,\n  IOrderStatus,\n  IPaymentInfo,\n  IPaymentMethod,\n  IPaymentName,\n  IQRCodePaymentInfo,\n  ISelectMethod\n} from '@/types/payment';\nimport {\n  PAYMENT_CHANNEL,\n  PAYMENT_NAME,\n  PAYMENT_NAME_TEXT,\n  PAYMENT_TYPE,\n  PRODUCT_TYPE\n} from '@/constants';\nimport { IWechatPayOptions } from '@/types/wechat';\n\nconst apiDomain = appConfig.domain.apiDomain;\n\n/**\n * 获取商品信息\n */\nexport const getProductList = (): Promise<{ list: IListProduct[]; now: string }> => {\n  const url = apiDomain.concat('/usercenter/order/pay/product/info');\n  return requestUtils.get(url).then((res) => {\n    return {\n      list: res.data.productInfos as IListProduct[],\n      now: res.data.now as string\n    };\n  });\n};\n\n/**\n * 处理商品详情对象\n * 默认商品 或者 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群\n * 3999课时包的需求, 临时在前端写死\n * @param product 商品对象\n */\nconst processOrderDetail = (product: IDetailProduct) => {\n  // 2019年10月1日\n  const flagTime = dayjs('2019-10-01 00:00:00');\n  // 如果有未支付的订单\n  const createTime = dayjs(product.createTime);\n\n  // 如果没有订单  或者 有未支付的订单\n  if (isNaN(createTime.valueOf()) || createTime > flagTime) {\n    /**\n     * 班级练习群\n     * 3999课时包的需求, 临时在前端写死\n     */\n    let classGroup: CourseInfo | null = {\n      code: 'CLASS_GROUP',\n      name: '班级练习群',\n      count: '2',\n      unit: '期'\n    };\n\n    switch (product.productType) {\n      case PRODUCT_TYPE.INTERNAL_COURSE: // 3999内购课时包  6期\n        classGroup.count = '6';\n        break;\n      case PRODUCT_TYPE.INTERNAL_RISE_BASE_COURSE: // 3999内购升基础  2期\n        classGroup.count = '2';\n        break;\n      case PRODUCT_TYPE.TRAIN_RISE_BASE_COURSE: // 体验升基础 8期\n      case PRODUCT_TYPE.YEAR_COURSE: // 基础课时包  8期\n      case PRODUCT_TYPE.UPGRADE_BIG_COURSE: // 基础升进阶  8期\n        classGroup.count = '8';\n        break;\n      case PRODUCT_TYPE.TWO_YEARS_COURSE: // 进阶课时包  16期\n      case PRODUCT_TYPE.UPGRADE_THREE_YEAR_COURSE: // 进阶升学霸  16期\n        classGroup.count = '16';\n        break;\n      case PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE: // 体验升学霸 升舱包 32期\n      case PRODUCT_TYPE.THREE_YEARS_COURSE: // 学霸课时包  32期\n        classGroup.count = '32';\n        break;\n      default:\n        classGroup = null;\n        break;\n    }\n\n    if (classGroup) {\n      if (!Array.isArray(product.courseList)) {\n        product.courseList = [];\n      }\n      product.courseList.push(classGroup);\n    }\n  }\n};\n\n/**\n * 根据商品Id 获取商品信息\n * @param productId 商品id\n */\nexport const getProductDetail = (productId: string): Promise<IDetailProduct> => {\n  const url = apiDomain.concat('/usercenter/order/product/detail');\n  return requestUtils.get(url, { productId }).then((res) => {\n    const product = res.data as IDetailProduct;\n    // 去除特殊字符\n    product.name = product.name.replace(/【|】/g, '');\n    product.originalPrice = tools.convertPenny(product.originalPrice as number);\n    // 转换金额的单位, 接口返回的金额 单位是分\n    product.shouldPrice = tools.convertPenny(product.shouldPrice as number);\n    // product.couponPrice = tools.convertPenny(product.couponPrice as number);\n\n    // 默认商品 或者 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群\n    processOrderDetail(product);\n\n    return product;\n  });\n};\n\n/**\n * 获取支付方式的参数对象\n */\ninterface IGetPaymentMethodParams {\n  /**\n   * 商品Id 必填\n   */\n  productId: string;\n\n  /**\n   * 订单号, 非必填, 没有订单号不填\n   */\n  orderNo?: string;\n\n  /**\n   * 优惠券id\n   */\n  couponId?: string;\n}\n\n/**\n * 根据订单号 获取支付方式\n * @param params 参数\n */\nexport const getPaymentMethod = (params: IGetPaymentMethodParams): Promise<IPaymentMethod> => {\n  const url = apiDomain.concat('/usercenter/order/pay/order/info');\n  return requestUtils.get(url, params).then((res) => {\n    return handlePaymentMethod(res.data);\n  });\n};\n\n/**\n * 处理支付方式\n * 1. 如果是PC环境, 只支持 微信和支付宝的扫码支付\n * 2. H5环境, 如果是微信浏览器环境, 添加 微信公众号支付\n * 3. H5环境, 非微信浏览器环境, 添加 支付宝h5支付\n * 4. 最后加上接口返回的支付方式, 接口返回其他的分期支付\n */\nconst handlePaymentMethod = (payment: IPaymentMethod): IPaymentMethod => {\n  const paymentMethodList: IPaymentName[] = [];\n\n  // 如果是微信浏览器, 只会显示微信公众号平台支付\n  if (tools.isWeChat()) {\n    // 微信公众号平台支付\n    paymentMethodList.push({\n      paymentName: PAYMENT_NAME.WechatMP,\n      paymentText: PAYMENT_NAME_TEXT[PAYMENT_NAME.WechatMP],\n      noInterest: false, // 利息, 真: 0利息0手续费 ,  假: 什么都不显示\n      orderStages: [],\n      stageType: 'no' // 没有分期\n    });\n  } else {\n    // 如果是普通H5环境\n    if (tools.isWap()) {\n      // 支付宝h5支付\n      paymentMethodList.push({\n        paymentName: PAYMENT_NAME.AlipayWap,\n        paymentText: PAYMENT_NAME_TEXT[PAYMENT_NAME.AlipayWap],\n        noInterest: false, // 利息, 真: 0利息0手续费 ,  假: 什么都不显示\n        orderStages: [],\n        stageType: 'no' // 不需要展开\n      });\n\n      // 添加接口返回的支付方式\n      paymentMethodList.push(...payment.paymentList);\n    } else {\n      // 如果是pc环境\n      // 微信扫码支付\n      paymentMethodList.push({\n        paymentName: PAYMENT_NAME.WechatQR,\n        paymentText: PAYMENT_NAME_TEXT[PAYMENT_NAME.WechatQR],\n        noInterest: false, // 利息, 真: 0利息0手续费 ,  假: 什么都不显示\n        orderStages: [], // 分期信息\n        stageType: 'no'\n      });\n      // 支付宝扫码支付\n      paymentMethodList.push({\n        paymentName: PAYMENT_NAME.AlipayQR,\n        paymentText: PAYMENT_NAME_TEXT[PAYMENT_NAME.AlipayQR],\n        noInterest: false, // 利息, 真: 0利息0手续费 ,  假: 什么都不显示\n        orderStages: [],\n        stageType: 'no' // 没有分期\n      });\n    }\n  }\n\n  // 重置支付方式\n  payment.paymentList = paymentMethodList;\n\n  payment.paymentList.forEach((item) => {\n    // 设置分期的类型\n    if (Array.isArray(item.orderStages) && item.orderStages.length) {\n      item.stageType = 'close';\n    } else {\n      item.stageType = 'no';\n    }\n    // 设置支付方式的中文名称\n    item.paymentText = PAYMENT_NAME_TEXT[item.paymentName];\n  });\n\n  return payment;\n};\n\n/**\n * 创建订单参数\n */\ninterface ICreateOrderParams {\n  productId: string;\n  versionId: number;\n  couponId: string;\n  paymentName: PAYMENT_NAME;\n}\n\n/**\n * 创建订单\n * 接口内部校验: 1. 校验商品版本, 2. 校验优惠券\n * @param params 参数对象\n */\nexport const createOrder = (params: ICreateOrderParams): Promise<ICreateOrderInfo> => {\n  const url = apiDomain.concat('/usercenter/order/pay/create/order');\n  return requestUtils.get(url, params, { trackInOut: true }).then((res) => res.data);\n};\n\n/**\n * 根据订单号 获取支付信息\n * appConfig.resources.payInfoCallbackUrl : 支付结果页的二次跳转地址\n */\nexport const getPaymentInfo = (params: ISelectMethod): Promise<IPaymentInfo> => {\n  // 支付结果页的二次跳转地址\n  params.callbackUrl = appConfig.resources.payInfoCallbackUrl;\n\n  const url = apiDomain.concat('/usercenter/order/pay/info');\n  return requestUtils.get(url, params, { trackInOut: true }).then(\n    (res): IPaymentInfo => {\n      // 接口返回的 支付信息\n      const payInfo = res.data as IPaymentInfo;\n\n      /**\n       * 设置支付结果页url, 使用接口返回的订单号\n       * 1. 普通支付, payInfo.orderNo 是订单号\n       * 2. 分次支付, payInfo.orderNo 是子订单号\n       */\n      payInfo.payResultUrl = getPayResultUrl(params.paymentName, payInfo.orderNo as string);\n      return payInfo;\n    }\n  );\n};\n\n/**\n * 获取二维码支付 的 支付信息\n * @param params 选择的支付方式\n */\nexport const getQRCodePaymentInfo = async (params: ISelectMethod): Promise<IQRCodePaymentInfo> => {\n  return Promise.all<IPaymentMethod, IPaymentInfo>([\n    getPaymentMethod({ productId: params.productId, orderNo: params.orderNo }),\n    getPaymentInfo(params)\n  ]).then(([paymentMethod, paymentInfo]) => {\n    // 整合数据\n    const qrCodePaymentInfo: IQRCodePaymentInfo = {\n      name: paymentMethod.name,\n      paymentPrice: paymentMethod.paymentPrice,\n      ...paymentInfo\n    };\n\n    return qrCodePaymentInfo;\n  });\n};\n\n/**\n * 微信公众号支付的 支付信息,\n * private, 别的地方不会使用\n */\ninterface IWechatPaymentInfo {\n  /**\n   * appId\n   */\n  appId: string;\n  /**\n   * 支付签名随机串\n   */\n  nonceStr: string;\n  /**\n   * 订单号\n   */\n  orderNo: string;\n  /**\n   * (java里 package 是关键字, 不能用作属性, 所以加了 's')\n   */\n  packages: string;\n  /**\n   * 支付签名\n   */\n  paySign: string;\n  /**\n   * 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\n   */\n  signType: string;\n  /**\n   * 支付签名时间戳\n   */\n  timeStamp: string;\n}\n\n/**\n * 根据订单号, 获取微信公众号支付的配置信息\n */\nexport const getWechatPaymentInfo = (params: ISelectMethod): Promise<IWechatPayOptions> => {\n  const url = apiDomain.concat('/usercenter/order/pay/info');\n  return requestUtils.get(url, params, { trackInOut: true }).then(\n    (res): IWechatPayOptions => {\n      // 接口返回的 微信公众号支付的 支付信息\n      const payInfo = res.data as IWechatPaymentInfo;\n\n      return {\n        appId: payInfo.appId,\n        nonceStr: payInfo.nonceStr,\n        orderNo: payInfo.orderNo,\n        /**\n         * 处理接口返回的字段, 兼容微信支付的选项, (java里 package 是关键字, 不能用作属性)\n         */\n        package: payInfo.packages,\n        paySign: payInfo.paySign,\n        signType: payInfo.signType,\n        /**\n         * 处理接口返回的值, 兼容微信支付的选项\n         */\n        timestamp: payInfo.timeStamp,\n        /**\n         * 设置支付结果页url, 使用接口返回的订单号\n         */\n        payResultUrl: getPayResultUrl(params.paymentName, payInfo.orderNo)\n      };\n    }\n  );\n};\n\n/**\n * 查询订单支付状态\n */\nexport const queryOrderStatus = (params: Partial<IBasePaymentInfo>): Promise<IOrderStatus> => {\n  const url = apiDomain.concat('/usercenter/order/pay/query/order');\n  return requestUtils.get(url, params).then((res) => res.data);\n};\n\n/**\n * 发送银联验证码的实体\n */\ninterface IUnionPaySmsBody {\n  /**\n   * 支付方法\n   */\n  paymentName: PAYMENT_NAME;\n  /**\n   * 订单号\n   */\n  orderNo: string;\n  /**\n   * 银行卡号\n   */\n  bankNo: string;\n  /**\n   * 手机号\n   */\n  phoneNo: string;\n}\n\n/**\n * 发送银联验证码\n * @param body 参数\n */\nexport const postUnionSmsCode = (body: IUnionPaySmsBody): Promise<null> => {\n  return requestUtils\n    .post(`${apiDomain}/usercenter/order/unionpay/consume/sms`, body)\n    .then((res) => res.data);\n};\n\n/**\n * 查询用户开通无跳转支付的请求实体\n */\ninterface IQueryUnionPayOpenStatusBody {\n  /**\n   * 订单号\n   */\n  orderNo: string;\n  /**\n   * 支付方法\n   */\n  paymentName: PAYMENT_NAME;\n  /**\n   * 银行卡号\n   */\n  bankNo: string;\n  /**\n   * 分期期数\n   */\n  stageCount: string;\n}\n\n/**\n * 查询用户是否能无跳转下单的响应\n */\nexport interface IQueryUnionPayOpenStatusResponse {\n  /**\n   * 订单号\n   */\n  orderNo: string;\n  /**\n   * 用户在银行的预留手机号\n   */\n  phoneNo: string;\n  /**\n   * 用户未开通时\n   * 银联返回的资料回填的form表单\n   */\n  form: string;\n}\n\n/**\n * 查询银联无跳转支付开通状态\n * @param body 请求实体\n */\nexport const queryUnionPayOpenStatus = (\n  body: IQueryUnionPayOpenStatusBody\n): Promise<IQueryUnionPayOpenStatusResponse> => {\n  return requestUtils\n    .post(`${apiDomain}/usercenter/order/unionpay/openQuery`, body)\n    .then((res) => res.data);\n};\n\ninterface IUnionPayBody {\n  /**\n   * 订单号\n   */\n  orderNo: string;\n  /**\n   * 支付方法\n   */\n  paymentName: PAYMENT_NAME;\n  /**\n   * 分期次数\n   */\n  stageCount: string;\n  bankNo: string;\n  smsCode: string;\n  phoneNo: string;\n  /**\n   * 支付结果页的二次跳转地址\n   */\n  callbackUrl?: string;\n}\n\n/**\n * 根据订单号 获取支付信息\n * appConfig.resources.payInfoCallbackUrl : 支付结果页的二次跳转地址\n */\nexport const unionPay = (params: IUnionPayBody): Promise<IPaymentInfo> => {\n  // 支付结果页的二次跳转地址\n  params.callbackUrl = appConfig.resources.payInfoCallbackUrl;\n  const url = apiDomain.concat('/usercenter/order/union/pay');\n  return requestUtils.get(url, params, { trackInOut: true }).then(\n    (res): IPaymentInfo => {\n      // 接口返回的 支付信息\n      const payInfo = res.data as IPaymentInfo;\n\n      /**\n       * 设置支付结果页url, 使用接口返回的订单号\n       * 1. 普通支付, payInfo.orderNo 是订单号\n       * 2. 分次支付, payInfo.orderNo 是子订单号\n       */\n      payInfo.payResultUrl = getPayResultUrl(params.paymentName, payInfo.orderNo as string);\n      return payInfo;\n    }\n  );\n};\n\n/**\n * 根据 paymentName 转换 channel 和 type\n * @param paymentName 支付方式\n */\nconst getChannelAndType = (\n  paymentName: PAYMENT_NAME\n): { channel: PAYMENT_CHANNEL; type: PAYMENT_TYPE } => {\n  switch (paymentName.toLowerCase()) {\n    case PAYMENT_NAME.AlipayWap.toLowerCase(): // 支付宝wap\n      return {\n        channel: PAYMENT_CHANNEL.ALIPAY,\n        type: PAYMENT_TYPE.WAP\n      };\n      break;\n    case PAYMENT_NAME.AlipayHB.toLowerCase(): // 花呗分期\n      return {\n        channel: PAYMENT_CHANNEL.ALIPAY,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n    case PAYMENT_NAME.AlipayQR.toLowerCase(): // 支付宝二维码\n      return {\n        channel: PAYMENT_CHANNEL.ALIPAY,\n        type: PAYMENT_TYPE.QRCODE\n      };\n      break;\n\n    case PAYMENT_NAME.WechatMP.toLowerCase(): // 微信公众号平台支付\n      return {\n        channel: PAYMENT_CHANNEL.WECHAT,\n        type: PAYMENT_TYPE.MP\n      };\n      break;\n    case PAYMENT_NAME.WechatQR.toLowerCase(): // 微信扫码支付\n      return {\n        channel: PAYMENT_CHANNEL.WECHAT,\n        type: PAYMENT_TYPE.QRCODE\n      };\n      break;\n\n    case PAYMENT_NAME.CmblifeFQ.toLowerCase(): // 招商分期\n      return {\n        channel: PAYMENT_CHANNEL.CMBLIFE,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n    case PAYMENT_NAME.CCB_BLANK_FQ.toLowerCase(): // 建设银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.CCB_BLANK,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n    case PAYMENT_NAME.GNETPG_FQ.toLowerCase(): // 广发银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.GNETPG,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n\n    case PAYMENT_NAME.UNIONPAY_BOC_FQ.toLowerCase(): // 中国银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.UNIONPAY_BOC,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n\n    case PAYMENT_NAME.UNIONPAY_ABOC_FQ.toLowerCase(): // 农业银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.UNIONPAY_ABOC,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n\n    case PAYMENT_NAME.UNIONPAY_HXB_FQ.toLowerCase(): //  华夏银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.UNIONPAY_HXB,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n\n    case PAYMENT_NAME.UNIONPAY_SPDB_FQ.toLowerCase(): // 浦发银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.UNIONPAY_SPDB,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n\n    case PAYMENT_NAME.UNIONPAY_CMBC_FQ.toLowerCase(): // 民生银行信用卡分期\n      return {\n        channel: PAYMENT_CHANNEL.UNIONPAY_CMBC,\n        type: PAYMENT_TYPE.INSTALLMENT\n      };\n      break;\n    default:\n      throw new Error('未知的支付方式');\n      break;\n  }\n};\n\n/**\n * 获取支付结果页\n * @param paymentName 支付方式\n * @param orderNo 订单号\n */\nexport const getPayResultUrl = (paymentName: PAYMENT_NAME, orderNo: string) => {\n  // 支付结果页路径,  老支付结果页: /pay/pay_result, 新支付结果页: /pay/result\n  if (appConfig.resources.payResultPath === '/pay/pay_result') {\n    // 老支付结果页\n    // 转换 channel 和 type\n    const { channel, type } = getChannelAndType(paymentName);\n\n    const url =\n      `${appConfig.resources.websiteDomain + appConfig.resources.payResultPath}?` +\n      `channel=${channel}` +\n      `&type=${type}` +\n      `&order_no=${orderNo}` +\n      `&callback_url=${encodeURIComponent(appConfig.resources.payInfoCallbackUrl)}`;\n    return url;\n  } else {\n    // 新支付结果页\n    const url = `${tools.getFullPath('/pay/result')}` + `?orderNo=${orderNo}`;\n    return url;\n  }\n};\n","import { createContext, Reducer } from 'react';\n\nimport { IOrderDetail, IBaseOrder } from '@/types';\n\n/**\n * action 类型\n */\nexport enum ACTION_TYPE {\n  /**\n   * 订单信息更新\n   */\n  UPDATE_ORDER_INFO = 'UPDATE_ORDER_INFO',\n  /**\n   * 订单列表更新\n   */\n  UPDATE_ORDER_LIST = 'UPDATE_ORDER_LIST',\n  /**\n   * 订单状态更新\n   */\n  UPDATE_ORDER_STATUS = 'UPDATE_ORDER_STATUS'\n}\n\nexport interface IOrderState {\n  orderDetail?: IOrderDetail;\n  orderList?: IBaseOrder[];\n}\nexport interface IReducerAction {\n  type: ACTION_TYPE;\n  payload: IOrderState;\n}\n\n/**\n * 初始值\n */\nexport const InitOrderState: IOrderState = {};\n\nconst initialContext = () => {};\n/**\n * 订单详情Context\n */\nexport const OrderContext = createContext<() => void>(initialContext);\n\n/**\n * reducer\n * @param state 订单详情数据\n * @param action Action\n */\nexport const reducer: Reducer<IOrderState, IReducerAction> = (state, action) => {\n  const {\n    type,\n    payload: { orderDetail, orderList }\n  } = action;\n  switch (type) {\n    case ACTION_TYPE.UPDATE_ORDER_INFO:\n    case ACTION_TYPE.UPDATE_ORDER_STATUS:\n      return {\n        ...state,\n        orderDetail\n      };\n    case ACTION_TYPE.UPDATE_ORDER_LIST:\n      return {\n        ...state,\n        orderList\n      };\n    default:\n      return state;\n  }\n};\n\n/**\n * 加载订单详情\n * @param orderNo 订单号\n */\n// export const useOrder = async (orderNo: string) => {\n//   const [orderInfo, dispatch] = useReducer(reducer, initialState);\n//   console.log(useOrder);\n//   try {\n//     const data = await OrderService.getOrderById(orderNo);\n//     const action: IReducerAction = {\n//       type: ACTION_TYPE.UPDATE_ORDER_INFO,\n//       payload: data\n//     };\n//     dispatch(action);\n//   } catch (error) {\n//     console.log('获取订单详情失败', error);\n//   }\n// };\n","import React, { useEffect, useContext } from 'react';\n\nimport MsToast from '@/components/modal/msToast';\nimport { IPaymentInfo, ISelectMethod } from '@/types/payment';\nimport { PAYMENT_NAME } from '@/constants';\nimport monitor from '@/utils/monitor';\nimport * as ProductService from '@/service/product-service';\n\nimport { OrderContext } from '../../order/model';\nimport styles from '../payment.less';\n\n/**\n * 招商银行 掌上生活 支付\n * 备注: 前端自己跳转支付结果页\n */\nconst useCmblifePay = (paymentInfo: IPaymentInfo, selectMethod: ISelectMethod | null) => {\n  const dispatch = useContext(OrderContext);\n\n  useEffect(() => {\n    if (selectMethod === null) {\n      return;\n    }\n\n    if (paymentInfo && selectMethod.paymentName === PAYMENT_NAME.CmblifeFQ) {\n      let protocol = paymentInfo.payUrl; // 打开掌上生活url串\n      location.href = protocol;\n      const content = (\n        <div className={styles['modal-content']}>\n          <p>1、如果您已经在掌上生活内支付成功，请点击“已完成支付”按钮。</p>\n          <p>2、如果您目前没有安装掌上生活客户端，请点击“取消”并选择其他支付方式付款。</p>\n        </div>\n      );\n      MsToast.modal({\n        content,\n        okText: '已完成支付',\n        onClose: handleClose,\n        onOk: handleOk\n      });\n      monitor.log({ message: `招行分期>选择掌上生活>打开确认提示框,打开招行App地址:${protocol}` });\n      console.log('招商银行-掌上生活 支付');\n    }\n  }, [selectMethod]);\n\n  /**\n   * 关闭钱查询下订单状态\n   */\n  const handleClose = () => {\n    monitor.log({ message: `招行分期>确认提示框>点击取消` });\n    dispatch && dispatch();\n  };\n\n  const handleOk = () => {\n    // `${tools.getFullPath('/pay/result')}` + `?orderNo=${paymentInfo.orderNo}`;\n\n    const url = ProductService.getPayResultUrl(\n      PAYMENT_NAME.CmblifeFQ,\n      paymentInfo.orderNo as string\n    );\n    monitor.log({ message: `招行分期>确认提示框>点击已完成支付,跳转的url:${url}` });\n    // 跳转支付结果页面\n    window.location.href = url;\n  };\n};\n\nexport default useCmblifePay;\n","import React, { FC, useState } from 'react';\nimport classNames from 'classnames';\n\nimport { IPaymentName, IPaymentStage } from '@/types/payment';\nimport styles from './payment.less';\n\ninterface IPaymentMethodItemProps {\n  selected: boolean; // 当前支付方式是否被选中\n  stageCount: string; // 选中的分期方式\n  item: IPaymentName; // 支付方式\n  onSelected: (selectedName: string, stageCount: string) => void; // 选中事件\n}\n\n/**\n * 支付方式, 比如: 微信|支付宝|招商银行信用卡|...\n */\nconst PaymentMethodItem: FC<IPaymentMethodItemProps> = (props) => {\n  const { item, selected, stageCount, onSelected } = props;\n\n  /**\n   * UI状态\n   * 'no' | 'open' | 'close'\n   * 没有分期 | 展开 | 关闭\n   */\n  const [status, setStatus] = useState(() => {\n    // 如果没有分期, 直接返回\n    if (item.stageType === 'no') {\n      return 'no';\n    }\n    // 如果有分期, 并且被默认选中, 则展开\n    if (selected) {\n      return 'open';\n    }\n    // 返回默认值, 关闭  'close'\n    return item.stageType;\n  });\n\n  /**\n   * 点击 支付方式名称\n   * 打开或隐藏 分期支付\n   */\n  const handleClickName = () => {\n    if (status === 'no') {\n      // 没有分期, 直接设置选中状态, 分期次数 使用默认值: '', 空字符串\n      onSelected(item.paymentName, '');\n      return;\n    }\n\n    /**\n     * 如果当前支付方式已选中\n     */\n    if (selected) {\n      if (status === 'open') {\n        setStatus('close');\n      } else {\n        setStatus('open');\n      }\n    } else {\n      /**\n       * 如果未选中, 则打开\n       */\n      if (status === 'close') {\n        setStatus('open');\n      }\n    }\n\n    /**\n     * 点击支付方式名称, 默认选中第一个分期支付\n     */\n    if (!selected) {\n      onSelected(item.paymentName, item.orderStages[0].stageCount);\n    }\n  };\n\n  /**\n   * 点击 分期方式\n   */\n  const handleClickStage = (stage: IPaymentStage) => {\n    onSelected(item.paymentName, stage.stageCount);\n  };\n\n  // 设置选中支付方式的样式\n  let selectClass = '';\n  if (selected) {\n    selectClass = classNames(styles.select, styles.check);\n  } else {\n    selectClass = classNames(styles.select, styles.noCheck);\n  }\n\n  let stageElement = null;\n  // 分期支付, 根据分期数据进行判断\n  if (status === 'open') {\n    stageElement = item.orderStages.map((stage, index) => {\n      // 设置分期方式的选中样式\n      let stageClass = classNames(styles.stage);\n      if (selected && stage.stageCount === stageCount) {\n        stageClass = classNames(styles.stage, styles.selectStage);\n      }\n\n      return (\n        <div key={index} className={stageClass} onClick={handleClickStage.bind(null, stage)}>\n          <span>{stage.stageCount}期</span>\n          <span>\n            每期<i>¥</i>\n            {stage.eachAmount}\n          </span>\n          <div className={styles.total}>\n            总计:\n            <span>\n              <i>¥</i>\n              {stage.totalAmount}\n            </span>\n          </div>\n          <div className={styles.rate}>\n            利率:<span>{stage.interestRate}</span>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  // 0利息0手续费\n  let noInterestElement = null;\n  if (item.noInterest === true) {\n    noInterestElement = <span className={styles.noInterest}>0利息0手续费</span>;\n  }\n\n  return (\n    <div key={item.paymentName} className={styles[item.paymentName]}>\n      <div onClick={handleClickName}>\n        {item.paymentText}\n        {noInterestElement}\n        <span className={selectClass} />\n      </div>\n      {stageElement}\n    </div>\n  );\n};\n\n// 优化组件渲染\nexport default React.memo(PaymentMethodItem, (nextProps, prevProps) => {\n  // return true, 不用重新执行整个函数组件；\n  // return false, 重新执行该组件\n\n  // 如果当前支付方式 发生 选中 或者 取消 事件\n  if (nextProps.selected !== prevProps.selected) {\n    return false;\n  }\n\n  // 如果发生 切换分期 事件, 比如: 同一个支付方式, 从3期切换成6期\n  if (nextProps.selected && nextProps.stageCount !== prevProps.stageCount) {\n    return false;\n  }\n\n  return true;\n});\n","import React, { FC, useState, useCallback, useEffect, useReducer } from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\nimport useAliPay from './hooks/useAliPay';\nimport useUrlPay from './hooks/useUrlPay';\nimport useUnionPay from './hooks/useUnionPay';\nimport useQrCodePay from './hooks/useQrCodePay';\nimport useCmblifePay from './hooks/useCmblifePay';\n\nimport PaymentMethodItem from './payment-method-item';\nimport * as productService from '@/service/product-service';\nimport { useStopBodyScroll } from '@/components/hooks';\nimport { ERROR_CODE, PAYMENT_NAME } from '@/constants';\nimport { IPaymentInfo, IPaymentMethod, IPaymentStage, ISelectMethod } from '@/types/payment';\nimport message from '@/utils/message';\nimport { tools } from '@/utils';\nimport styles from './payment.less';\nimport msToast from '@/components/modal/msToast';\nimport monitor from '@/utils/monitor';\nimport * as localStore from '@/utils/local-store';\n\nexport interface IPaymentMethodProps {\n  shouldPrice: string;\n  versionId?: number;\n  couponId?: string;\n  paymentMethod: IPaymentMethod;\n  onTipMessage: (msg: string, type?: 'reload' | 'redirect') => void; // 提示错误信息\n  onClose: () => void;\n}\n\ninterface IState {\n  selectedName: string; // 选中的支付方式名称\n  stageCount: string; // 选中分期支付的分期次数\n  selectMethod: ISelectMethod | null; // 选择的支付方式\n  paymentInfo: IPaymentInfo | null; // 选择的支付方式 对应的支付信息\n}\n\ninterface IAction {\n  type: 'update';\n  payload: Partial<IState>;\n}\n\n/**\n * 惰性初始化\n * @param paymentMethod 支付方式数据\n */\nfunction init(paymentMethod: IPaymentMethod) {\n  const initState = {\n    selectedName: '',\n    stageCount: '',\n    selectMethod: null,\n    paymentInfo: null\n  };\n\n  if (paymentMethod.paymentList.length > 0) {\n    // 默认使用第一个支付方式\n    const method = paymentMethod.paymentList[0];\n    initState.selectedName = method.paymentName;\n\n    // 如果有分期选项, 默认使用第一个分期选项\n    if (Array.isArray(method.orderStages) && method.orderStages.length > 0) {\n      const stageInfo: IPaymentStage = method.orderStages[0];\n      initState.stageCount = stageInfo.stageCount;\n    }\n  }\n\n  return initState;\n}\n\nfunction reducer(state: IState, action: IAction): IState {\n  switch (action.type) {\n    case 'update':\n      return {\n        ...state,\n        ...action.payload\n      };\n      break;\n    default:\n      return {\n        ...state\n      };\n      break;\n  }\n}\n\n/**\n * 支付方式列表\n */\nconst PaymentMethod: FC<IPaymentMethodProps> = ({\n  shouldPrice,\n  versionId,\n  couponId,\n  paymentMethod,\n  onTipMessage,\n  onClose\n}) => {\n  /**\n   * 容器\n   */\n  const [container] = useState(() => {\n    return document.createElement('div');\n  });\n\n  // 动画样式类名\n  const [animationClass, setAnimationClass] = useState('');\n  const [state, dispatch] = useReducer(reducer, paymentMethod, init);\n  const { selectMethod, paymentInfo } = state;\n\n  /**\n   * 阻止滚动穿透\n   */\n  useStopBodyScroll();\n\n  /**\n   * 支付宝H5支付, 包括: H5唤醒支付宝支付, H5花呗分期唤醒支付宝支付\n   */\n  useAliPay(paymentInfo as IPaymentInfo, selectMethod);\n\n  /**\n   * 招商掌上生活分期支付 打开手机 掌上生活app\n   */\n  useCmblifePay(paymentInfo as IPaymentInfo, selectMethod);\n\n  /**\n   * url支付, 包括: 建设银行信用卡分期 和 广发银行信用卡分期\n   */\n  useUrlPay(paymentInfo as IPaymentInfo, selectMethod);\n\n  /**\n   * 银联支付\n   */\n  useUnionPay(selectMethod);\n\n  /**\n   *  PC环境下, 二维码支付, 包括: 支付宝二维码 | 微信二维码\n   */\n  useQrCodePay(selectMethod);\n\n  /**\n   * 添加 | 卸载 container\n   */\n  useEffect(() => {\n    document.body.appendChild(container);\n\n    return () => {\n      document.body.removeChild(container);\n    };\n  }, []);\n\n  useEffect(() => {\n    const timeout = 200;\n    const timer = setTimeout(() => {\n      // 设置动画样式类\n      setAnimationClass(styles.boxUp);\n    }, timeout);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n\n  /**\n   * 关闭\n   */\n  const handleClose = () => {\n    onClose && onClose();\n  };\n\n  /**\n   * 立即支付\n   */\n  const handleClick = useCallback(\n    tools.throttle(async () => {\n      if (!state.selectedName) {\n        message.error('请选择支付方式');\n        return;\n      }\n\n      const selectPayment = paymentMethod.paymentList.find(\n        (item) => item.paymentName === state.selectedName\n      );\n      if (!selectPayment) {\n        message.error('请选择支付方式');\n        return;\n      }\n\n      // 商品id\n      const productId = paymentMethod.productId;\n      // 支付方式\n      const paymentName = selectPayment.paymentName;\n      // 中文支付方式\n      const paymentText = selectPayment.paymentText;\n      // 订单号\n      const orderNo = paymentMethod.orderNo;\n\n      // 选择的支付方式\n      const selectMethod: ISelectMethod = {\n        productId,\n        orderNo,\n        paymentName,\n        stageCount: state.stageCount\n      };\n\n      /**\n       * 支付信息\n       */\n      let paymentInfo: IPaymentInfo | null = null;\n\n      try {\n        // 开启 loading\n        message.showLoading();\n\n        // 1. 没有订单号, 创建订单\n        if (!orderNo) {\n          const orderInfo = await productService.createOrder({\n            productId,\n            versionId: versionId as number,\n            couponId: couponId as string,\n            paymentName\n          });\n\n          // 设置订单号\n          selectMethod.orderNo = orderInfo.orderNo;\n        }\n\n        // 2. 获取支付信息\n        if (\n          selectMethod.paymentName === PAYMENT_NAME.AlipayWap || // 支付宝wap\n          selectMethod.paymentName === PAYMENT_NAME.AlipayHB || // 花呗分期\n          selectMethod.paymentName === PAYMENT_NAME.CmblifeFQ || // 招商分期\n          selectMethod.paymentName === PAYMENT_NAME.CCB_BLANK_FQ || // 建设银行信用卡分期\n          selectMethod.paymentName === PAYMENT_NAME.GNETPG_FQ // 广发银行分期\n        ) {\n          paymentInfo = await productService.getPaymentInfo(selectMethod);\n        }\n\n        // 关闭 loading\n        message.closeLoading();\n      } catch (error) {\n        // 关闭 loading\n        message.closeLoading();\n\n        // 埋点\n        monitor.error({\n          message: `选择支付方式: ${paymentText}, 点击立即支付, 发生错误, ${JSON.stringify(error)}`\n        });\n        const { code, msg } = error;\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            // message.error('请您重新登录', () => {\n            //   window.location.replace(tools.getLoginUrl());\n            // });\n            msToast.modal({\n              content: '请您重新登录',\n              closeVisible: false,\n              okText: '确定',\n              onOk: () => {\n                window.location.replace(tools.getLoginUrl());\n              }\n            });\n            break;\n          case ERROR_CODE.BIZ_ORDER_PRODUCT_VERSION_CHANGE: // 商品信息变动，点击确定重新加载\n          case ERROR_CODE.BIZ_COUPON_VERSION_MISMATCHING: // 订单信息变化，点击确定重新加载\n          case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n          case ERROR_CODE.BIZ_ORDER_IS_PAID: // 订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_PAID_SUB: // 子订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n          case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n          case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n          case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单状态改为分次支付\n          case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n          case ERROR_CODE.BIZ_ORDER_STATUS_IS_ERROR: // 订单状态异常\n            onTipMessage && onTipMessage(msg, 'reload');\n            break;\n          default:\n            onTipMessage && onTipMessage(msg);\n            break;\n        }\n\n        return;\n      }\n\n      // 埋点\n      monitor.log({\n        eventCode: tools.getEventCodeByPath(),\n        message: `选择支付方式: ${paymentText}, 点击立即支付`\n      });\n\n      // 存储变量 PAYMENT_PAGE\n      localStore.set('PAYMENT_PAGE', tools.getPaymentPage());\n\n      // 设置支付信息 和 选中的支付方式\n      dispatch({\n        type: 'update',\n        payload: {\n          paymentInfo,\n          selectMethod\n        }\n      });\n    }, 1000),\n    [state.selectedName, state.stageCount]\n  );\n\n  /**\n   * 处理选中事件\n   */\n  const handleSelect = (selectedName: string, stageCount: string) => {\n    // 设置选中的支付方式\n    dispatch({\n      type: 'update',\n      payload: {\n        selectedName,\n        stageCount: stageCount || ''\n      }\n    });\n  };\n\n  /**\n   * 支付方式\n   */\n  const methodList = paymentMethod.paymentList.map((item) => {\n    const selected = state.selectedName === item.paymentName;\n    return (\n      <PaymentMethodItem\n        key={item.paymentName}\n        item={item}\n        selected={selected}\n        stageCount={state.stageCount}\n        onSelected={handleSelect}\n      />\n    );\n  });\n\n  /**\n   * 内容\n   */\n  const renderContent = () => {\n    return (\n      <div className={styles.mask}>\n        <div className={classNames(styles.box, animationClass)}>\n          <header>\n            支付方式\n            <span onClick={handleClose}>关闭</span>\n          </header>\n          <div className={styles.content}>{methodList}</div>\n          <footer>\n            <div onClick={handleClick}>\n              立即支付<i>¥</i>\n              {shouldPrice}\n            </div>\n          </footer>\n        </div>\n      </div>\n    );\n  };\n\n  return ReactDOM.createPortal(renderContent(), container as Element);\n};\n\nexport default PaymentMethod;\n","import { useEffect } from 'react';\n\nimport { IWechatPayOptions } from '@/types/wechat';\nimport { chooseWXPay } from '@/utils/wechat-utils';\nimport message from '@/utils/message';\nimport monitor from '@/utils/monitor';\n\n/**\n * 微信公众号支付\n * 备注: 前端自己跳转支付结果页\n */\nconst useWechatPay = (\n  wechatPayOptions: IWechatPayOptions | undefined,\n  onReloadData?: () => void\n) => {\n  useEffect(() => {\n    if (!wechatPayOptions) {\n      return;\n    }\n\n    // 调用JS-SDK 唤起微信公众号支付\n    chooseWXPay({\n      appId: wechatPayOptions.appId,\n      timestamp: wechatPayOptions.timestamp,\n      nonceStr: wechatPayOptions.nonceStr,\n      package: wechatPayOptions.package,\n      signType: wechatPayOptions.signType,\n      paySign: wechatPayOptions.paySign,\n      success: () => {\n        monitor.log({\n          message: `useWechatPay >>> 微信支付成功, 跳转...`\n        });\n        if (wechatPayOptions.payResultUrl) {\n          window.location.replace(wechatPayOptions.payResultUrl);\n        }\n      },\n      cancel: () => {\n        monitor.log({\n          message: `useWechatPay >>> 支付取消`\n        });\n        // 支付取消, 重新加载数据, 防止重复创建订单\n        onReloadData && onReloadData();\n      },\n      fail: ({ msg }) => {\n        monitor.error({\n          message: `useWechatPay >>> 支付失败, ${msg}`\n        });\n        message.error(msg);\n        // 支付取消, 重新加载数据, 防止重复创建订单\n        onReloadData && onReloadData();\n      }\n    });\n  }, [wechatPayOptions]);\n};\n\nexport default useWechatPay;\n","import React, { FC, useCallback, useEffect, useReducer } from 'react';\n\nimport PaymentMethod from '../payment/payment-method';\nimport useWechatPay from '../payment/hooks/useWechatPay';\n\nimport { Modal } from '@/components/modal/modal';\nimport { tools } from '@/utils';\nimport monitor from '@/utils/monitor';\nimport message from '@/utils/message';\nimport * as localStore from '@/utils/local-store';\nimport { IWechatPayOptions } from '@/types/wechat';\nimport { IPaymentMethod, ISelectMethod } from '@/types/payment';\nimport * as productService from '@/service/product-service';\nimport { ERROR_CODE, PAYMENT_NAME } from '@/constants';\nimport msToast from '@/components/modal/msToast';\n\n/**\n * 默认错误信息\n */\nconst defaultErrorMsg = '发生错误, 请您稍后重试';\n\ninterface IPaymentButtonProps {\n  /**\n   * 商品id\n   */\n  productId: string;\n  /**\n   * 商品版本, 商品详情页支付的时候, 商品版本号必填; 订单页支付的时候, 商品版本号为空\n   */\n  versionId?: number;\n  /**\n   * 优惠券Id, 商品详情页支付的时候, 优惠券id必填; 订单号支付的时候, 优惠券id为空\n   */\n  couponId?: string;\n  /**\n   * 订单号, 商品详情页支付的时候, 订单号可能存在; 订单页支付的时候, 订单号必填\n   */\n  orderNo?: string;\n  /**\n   * 待支付金额, 单位:元\n   */\n  shouldPrice?: string;\n  /**\n   * 是否禁用\n   */\n  disabled?: boolean;\n  /**\n   * 重新加载数据\n   * 订单异常时 订单不存在 | 订单已经退单 | 订单已过期 | 订单已关闭 | 订单已支付, 重新加载数据\n   */\n  onReloadData?: () => void;\n\n  /**\n   * 支付按钮文本, 默认是 `立即支付`\n   */\n  buttonText?: string;\n}\n\ninterface IState {\n  modalKey: string;\n  /**\n   * 支付方式信息\n   */\n  paymentMethod?: IPaymentMethod;\n  /**\n   * 微信公众号支付\n   */\n  wechatPayOptions?: IWechatPayOptions;\n  /**\n   * 提示信息\n   */\n  tipMsg: string;\n  /**\n   * 提示类型, 重新加载数据 | 跳转\n   */\n  tipType?: 'reload' | 'redirect';\n}\n\nenum IActionType {\n  paymentMethod = 'paymentMethod', // 显示支付方式\n  close = 'close', // 关闭支付方式\n  wechatPay = 'wechatPay', // 微信公众号支付\n  tipMessage = 'tipMessage' // 错误信息\n}\n\ninterface IAction {\n  type: IActionType;\n  payload?: IPaymentMethod | IWechatPayOptions | { msg: string; type?: 'reload' | 'redirect' };\n}\n\n/**\n * 初始化数据\n */\nconst initState = {\n  modalKey: '',\n  paymentMethod: undefined,\n  wechatPayOptions: undefined,\n  tipMsg: ''\n};\n\n/**\n * reducer\n */\nfunction reducer(state: IState, action: IAction): IState {\n  switch (action.type) {\n    case IActionType.paymentMethod: // 显示支付方式\n      return {\n        ...state,\n        modalKey: 'paymentMethod',\n        paymentMethod: action.payload as IPaymentMethod\n      };\n    case IActionType.close: // 关闭支付方式\n      return {\n        ...state,\n        modalKey: '',\n        paymentMethod: undefined\n      };\n    case IActionType.wechatPay: // 微信公众号支付\n      return {\n        ...state,\n        wechatPayOptions: action.payload as IWechatPayOptions\n      };\n      break;\n    case IActionType.tipMessage:\n      return {\n        ...state,\n        modalKey: IActionType.tipMessage,\n        tipMsg: (action.payload as any).msg as string,\n        tipType: (action.payload as any).type\n      };\n      break;\n    default:\n      return {\n        ...state\n      };\n  }\n}\n\n// 变量节流\nlet payFlag = false;\n// 延迟重置 payFlag\nlet payFlagTimer: NodeJS.Timeout;\n// 延迟时间\nconst timeout = 500;\n\n/**\n * 支付按钮, 封装了所有的支付逻辑\n */\nconst PaymentButton: FC<IPaymentButtonProps> = (props) => {\n  const {\n    productId,\n    versionId,\n    couponId,\n    orderNo,\n    shouldPrice,\n    disabled,\n    onReloadData,\n    buttonText = '立即支付'\n  } = props;\n\n  // 数据\n  const [state, dispatch] = useReducer(reducer, initState);\n\n  /**\n   * 微信公众号支付\n   */\n  useWechatPay(state.wechatPayOptions, onReloadData);\n\n  /**\n   * 清空定时器\n   */\n  useEffect(() => {\n    return () => {\n      if (payFlagTimer) {\n        clearTimeout(payFlagTimer);\n      }\n    };\n  }, []);\n\n  /**\n   * 提示信息\n   */\n  const handleTipMessage = useCallback((msg: string, type?: 'reload' | 'redirect') => {\n    dispatch({\n      type: IActionType.tipMessage,\n      payload: {\n        msg,\n        type\n      }\n    });\n  }, []);\n\n  /**\n   * 关闭支付方式\n   */\n  const handleClose = useCallback(() => {\n    // 关闭\n    dispatch({\n      type: IActionType.close\n    });\n\n    // 重新加载数据\n    onReloadData && onReloadData();\n  }, []);\n\n  /**\n   * 处理错误\n   * @param error 错误信息\n   */\n  const handleError = (error: any) => {\n    // 关闭loading\n    // message.closeLoading();\n    console.error('handleWechatPay', error);\n    const { code, msg } = error;\n    switch (code) {\n      case ERROR_CODE.LOGIN_REQUIRED:\n        // message.error('请您重新登录', () => {\n        //   window.location.replace(tools.getLoginUrl());\n        // });\n        msToast.modal({\n          content: '请您重新登录',\n          closeVisible: false,\n          okText: '确定',\n          onOk: () => {\n            window.location.replace(tools.getLoginUrl());\n          }\n        });\n        break;\n      case ERROR_CODE.BIZ_ORDER_PRODUCT_VERSION_CHANGE: // 商品版本发生变动\n      case ERROR_CODE.BIZ_COUPON_VERSION_MISMATCHING: // 订单信息变化，点击确定重新加载\n      case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n      case ERROR_CODE.BIZ_ORDER_IS_PAID: // 订单已支付\n      case ERROR_CODE.BIZ_ORDER_IS_PAID_SUB: // 子订单已支付\n      case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n      case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n      case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n      case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单状态改为分次支付\n      case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n      case ERROR_CODE.BIZ_ORDER_STATUS_IS_ERROR: // 订单状态异常\n        handleTipMessage(msg, 'reload');\n        break;\n      default:\n        handleTipMessage(msg);\n        break;\n    }\n  };\n\n  /**\n   * 微信公众号支付\n   * 依赖: productId, versionId, couponId, orderNo\n   */\n  const handleWechatPay = useCallback(async () => {\n    // 变量节流, 防止重复点击\n    if (payFlag) {\n      return;\n    }\n\n    payFlag = true;\n\n    try {\n      message.showLoading();\n\n      // 支付方式\n      const paymentName = PAYMENT_NAME.WechatMP;\n\n      // 微信浏览器环境, 构造微信支付参数\n      const selectMethod: ISelectMethod = {\n        productId,\n        orderNo,\n        versionId,\n        paymentName\n      };\n\n      // 1. 没有订单号, 创建订单\n      if (!selectMethod.orderNo) {\n        const orderInfo = await productService.createOrder({\n          productId,\n          versionId: versionId as number,\n          couponId: couponId as string,\n          paymentName\n        });\n        // 设置订单号\n        selectMethod.orderNo = orderInfo.orderNo;\n      }\n\n      // 2. 获取微信公众号支付的配置信息\n      const wechatPayOptions = await productService.getWechatPaymentInfo(selectMethod);\n\n      // 埋点\n      monitor.log({\n        eventCode: tools.getEventCodeByPath(),\n        message: `点击 '${buttonText}', 选择微信公众号支付`\n      });\n\n      // 存储变量 PAYMENT_PAGE\n      localStore.set('PAYMENT_PAGE', tools.getPaymentPage());\n\n      // 关闭loading\n      message.closeLoading();\n\n      // 3. 更新数据\n      dispatch({\n        type: IActionType.wechatPay,\n        payload: wechatPayOptions\n      });\n    } catch (error) {\n      // 关闭loading\n      message.closeLoading();\n      // 埋点\n      monitor.error({\n        message: `点击 '${buttonText}', 选择微信公众号支付, 发生错误, ${JSON.stringify(error)}`\n      });\n      handleError(error);\n    } finally {\n      // // 关闭loading\n      // message.closeLoading();\n      // 延迟状态重置\n      payFlagTimer = setTimeout(() => {\n        payFlag = false;\n      }, timeout);\n    }\n  }, [productId, versionId, couponId, orderNo]);\n\n  /**\n   * 显示支付方式\n   * @param productId 商品Id, 必填\n   * @param orderNo 订单号, 选填\n   * @param versionId 版本号, 订单号为空时 必填\n   * @param dispatch dispatch\n   */\n  const handleShowPaymentMethod = useCallback(async () => {\n    // 变量节流, 防止重复点击\n    if (payFlag) {\n      return;\n    }\n\n    payFlag = true;\n\n    let paymentMethod: IPaymentMethod;\n\n    try {\n      message.showLoading();\n\n      // 根据商品Id, 订单号? 获取支付方式\n      paymentMethod = await productService.getPaymentMethod({\n        productId,\n        orderNo,\n        couponId\n      });\n\n      // 3. 显示支付方式\n      dispatch({\n        type: IActionType.paymentMethod,\n        payload: paymentMethod\n      });\n\n      // 关闭loading\n      message.closeLoading();\n\n      // 埋点\n      monitor.log({\n        message: `点击 '${buttonText}', 打开支付方式`\n      });\n    } catch (error) {\n      // 关闭loading\n      message.closeLoading();\n\n      // 埋点\n      monitor.error({\n        message: `点击 '${buttonText}', 打开支付方式, 发生错误, ${JSON.stringify(error)}`\n      });\n\n      handleError(error);\n    } finally {\n      // // 关闭loading\n      // message.closeLoading();\n      // 延迟状态重置\n      payFlagTimer = setTimeout(() => {\n        payFlag = false;\n      }, timeout);\n    }\n  }, [productId, couponId, orderNo]);\n\n  // 模态框元素\n  let modalElement = null;\n  switch (state.modalKey) {\n    case IActionType.paymentMethod: // 支付方式\n      modalElement = (\n        <PaymentMethod\n          shouldPrice={shouldPrice as string}\n          versionId={versionId}\n          couponId={couponId}\n          paymentMethod={state.paymentMethod as IPaymentMethod}\n          onTipMessage={handleTipMessage}\n          onClose={handleClose}\n        />\n      );\n      break;\n    case IActionType.tipMessage: // 显示错误消息模态框, 并 跳转到订单列表页 或 重新加载数据\n      modalElement = (\n        <Modal\n          visible={true}\n          closeVisible={false}\n          onOk={() => {\n            // 关闭模态框\n            dispatch({\n              type: IActionType.close\n            });\n\n            switch (state.tipType) {\n              case 'redirect': // 跳转到订单列表页\n                // 如果当前已经是订单列表页 则重新加载数据\n                if (/\\/order$/.test(location.pathname)) {\n                  onReloadData && onReloadData();\n                  return;\n                }\n                // 跳转到订单列表页\n                window.location.href = tools.getFullPath('/order');\n                break;\n              case 'reload': // 重新加载数据\n                // 重新加载数据\n                onReloadData && onReloadData();\n                break;\n            }\n          }}\n        >\n          {state.tipMsg || defaultErrorMsg}\n        </Modal>\n      );\n      break;\n  }\n\n  let handleClick;\n  if (disabled) {\n    handleClick = tools.noop;\n  } else {\n    if (tools.isWeChat()) {\n      handleClick = handleWechatPay;\n    } else {\n      handleClick = handleShowPaymentMethod;\n    }\n  }\n\n  return (\n    <>\n      <div onClick={handleClick}>{buttonText}</div>\n      {modalElement}\n    </>\n  );\n};\n\nexport default PaymentButton;\n","import React, { FC } from 'react';\n\nimport styles from './loading.less';\nimport loadingImg from '../../public/images/loading.gif';\n\nconst Loading: FC = () => {\n  return (\n    <div className={styles.box}>\n      <div className={styles.loading}>\n        <div className={styles.imgBox}>\n          <img src={loadingImg} />\n        </div>\n        <div>加载中...</div>\n      </div>\n    </div>\n  );\n};\n\nexport { Loading };\n","import React, { FC } from 'react';\n\nimport { tools } from '@/utils';\nimport defaultPhoto from '../../public/images/common/photo.png';\nimport styles from './user-info.less';\n\nexport interface IUserInfoProps {\n  studentId?: number;\n  studentName?: string;\n  phone?: string;\n  photo?: string;\n}\n\n/**\n * 跳转到登录页, 切换账号\n */\nconst handleChangeAccount = () => {\n  window.location.replace(tools.getLoginUrl());\n};\n\n/**\n * 用户信息\n */\nexport const UserInfo: FC<IUserInfoProps> = ({ studentId, studentName, phone }) => {\n  return (\n    <div className={styles.box}>\n      <div className={styles.photo}>\n        <img src={defaultPhoto} />\n      </div>\n      <div className={styles.change} onClick={handleChangeAccount}>\n        切换账号\n      </div>\n      <div className={styles.row}>\n        <div className={styles.nickName}>{studentName}</div>\n        <div className={styles.id}>ID:{studentId}</div>\n      </div>\n      <div className={styles.row}>\n        <div className={styles.phone}>手机号: {phone}</div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, FC, useCallback } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport CountDown from '@/views/product/count-down';\nimport ProductDetail from '@/views/product/product-detail';\nimport PaymentButton from '@/views/payment/payment-button';\n\nimport { Loading } from '@/components/loading';\nimport { UserInfo } from '@/components/user/user-info';\nimport message from '@/utils/message';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport { EVENT_CODE, ERROR_CODE } from '@/constants';\nimport useViewEvent from '@/components/hooks/useViewEvent';\n\nimport * as productService from '@/service/product-service';\nimport { IDetailProduct } from '@/types';\nimport styles from './product.less';\nimport { tools } from '@/utils';\nimport useWechatSdk from '@/components/hooks/useWechatSdk';\nimport { shareConfig } from '@/config';\nimport EmptyPage from '@/views/components/empty-page';\nimport monitor from '@/utils/monitor';\n\nconst defaultShareOptions = shareConfig.default;\n\n/**\n * 有未支付的订单\n */\nconst UNPAID_STATUS = 'UNPAID';\n\ninterface IUrlParams {\n  /**\n   * 商品id\n   */\n  productId: string;\n}\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 商品详情\n */\nconst Product: FC<RouteComponentProps<IUrlParams>> = ({ match }) => {\n  const { productId } = match.params;\n\n  const [product, setProduct] = useState<IDetailProduct | null>(null);\n\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 加载数据\n   */\n  const loadData = useCallback(\n    (isInit = false) => {\n      // loading, 初始化加载数据时, 不显示 message.loading\n      !isInit && message.showLoading();\n\n      /**\n       * 初始化, 获取商品信息\n       */\n      productService\n        .getProductDetail(productId)\n        .then((product) => {\n          setProduct(product);\n          // close loading\n          !isInit && message.closeLoading();\n        })\n        .catch((error) => {\n          monitor.error({\n            message: `获取商品信息失败, ${JSON.stringify(error)}`\n          });\n          const { code, msg } = error;\n          switch (code) {\n            case ERROR_CODE.LOGIN_REQUIRED:\n              message.error('请您重新登录', () => {\n                window.location.replace(tools.getLoginUrl());\n              });\n              break;\n            default:\n              !isInit && message.error(msg || '发生错误');\n              isInit && updateError({ isError: true, message: msg || '发生错误' });\n              break;\n          }\n        });\n    },\n    [productId]\n  );\n\n  /**\n   * 初始化\n   */\n  useEffect(() => {\n    loadData(true);\n  }, [productId]);\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_PRODUCT_DETAIL,\n    message: '浏览商品详情页'\n  });\n\n  if (error.isError) {\n    return <EmptyPage describe={error.message} />;\n  }\n\n  // loading\n  if (product === null) {\n    return <Loading />;\n  }\n\n  let countDownElement = null;\n  // 待支付\n  // && product.now && product.expiredTime\n  if (product.status === UNPAID_STATUS && product.expiredTime) {\n    countDownElement = (\n      <>\n        <div className={styles.payTip}>剩余支付时间</div>\n        <CountDown endTime={product.expiredTime} currentTime={product.now} onFinish={loadData} />\n      </>\n    );\n  }\n\n  return (\n    <div className={styles.box}>\n      <UserInfo\n        studentId={product.studentId}\n        studentName={product.studentName}\n        phone={product.phone}\n      />\n      <ProductDetail product={product} />\n      <div className={styles.payBar}>\n        {countDownElement}\n        <div className={styles.pay}>\n          <PaymentButton\n            productId={product.productId}\n            versionId={product.versionId}\n            couponId={product.couponId}\n            orderNo={product.orderNo}\n            shouldPrice={product.shouldPrice as string}\n            onReloadData={loadData}\n            buttonText=\"立即购买\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Product);\n","import React, { useState, FC, ReactElement } from 'react';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\n\nimport { IListProduct } from '@/types';\nimport styles from './product-list.less';\nimport { tools } from '@/utils';\nimport monitor from '@/utils/monitor';\nimport { EVENT_CODE } from '@/constants';\n\nexport interface IListItemProps {\n  // 商品\n  product: IListProduct;\n  now: string;\n}\n\n// 基础课时包 productId\nconst BASICS_PRODUCT_ID = 9;\n\n// 进阶课时包 productId\nconst ADVANCED_PRODUCT_ID = 14;\n\n/**\n * 返回权益数据\n */\nfunction renderRights(show: boolean, product: IListProduct): ReactElement {\n  const className = show ? classNames(styles.rights, styles.showRights) : styles.rights;\n\n  // 权益项\n  const elements = product.rightFormats.map((right) => {\n    // 权益项的详细描述\n    const desc = right.value.map((val, index) => {\n      return <p key={index}>{val}</p>;\n    });\n    // 名称\n    const name =\n      right.name.length > 2 ? (\n        <div className={styles.subject}>\n          <p>{right.name.substr(0, 3)}</p>\n          <p>{right.name.substr(3, right.name.length)}</p>\n        </div>\n      ) : (\n        <div className={styles.subject}>{right.name}</div>\n      );\n    return (\n      <div key={right.name} className={styles.item}>\n        {name}\n        <div className={styles.desc}>{desc}</div>\n      </div>\n    );\n  });\n\n  return <div className={className}>{elements}</div>;\n}\n\n/**\n * 商品列表页的商品\n * @param product 商品信息\n */\nconst ProductListItem: FC<IListItemProps> = ({ product, now }) => {\n  // // 进阶课时包 课时包 默认展开\n  const initValue = product.name === '进阶课时包';\n\n  const [show, setShow] = useState<boolean>(initValue);\n\n  let unit = '';\n  switch (product.expireUnit) {\n    case 'DAY':\n      unit = '天';\n      break;\n    case 'MONTH':\n      unit = '个月';\n      break;\n    case 'YEAR':\n      unit = '年';\n      break;\n  }\n\n  // 有效期\n  let expireTime = null;\n  // 如果有效期是大于0的整数\n  if (/^([1-9][0-9]*)$/.test(product.expireTime)) {\n    expireTime = (\n      <div className={styles.expireTime}>\n        <i>(</i>\n        {`有效期${parseInt(product.expireTime, 10)}${unit}`}\n        <i>)</i>\n      </div>\n    );\n  }\n\n  // 总课时*节\n  let classHour: ReactElement | string = (\n    <>\n      <span>(总课时</span>\n      <i>{product.count}</i>\n      <span>节)</span>\n    </>\n  );\n\n  // 现在时间 / 设置有效期\n  const nowTime = dayjs(now).valueOf();\n  const fixedTime = dayjs('2019-10-01 00:00:00').valueOf();\n\n  /**\n   * 10月份的课包对应训练营文案进行改变\n   * 基础课时包后不展示任何文案，其他展示待下架\n   */\n  if (nowTime > fixedTime) {\n    classHour = product.productId === BASICS_PRODUCT_ID ? '' : <span>(待下架)</span>;\n  }\n\n  /**\n   * 切换\n   */\n  function handleToggle(): void {\n    setShow(!show);\n  }\n\n  function handleClick() {\n    monitor.log({\n      eventCode: EVENT_CODE.CLICK_PRODUCT_DETAIL,\n      message: `点击 '立即购买', 浏览商品详情页`\n    });\n    window.location.href = tools.getFullPath(`/product/${product.productId}`);\n  }\n\n  return (\n    <div\n      className={classNames(styles.product, {\n        [styles.advanced]: product.productId === ADVANCED_PRODUCT_ID\n      })}\n    >\n      <div className={styles.switch}>\n        <div className={styles.title}>\n          {product.name}\n          {classHour}\n          {expireTime}\n        </div>\n        <div className={styles.toggle}>\n          <span onClick={handleToggle}>{show ? '点击收起权益' : '点击查看权益'}</span>\n        </div>\n      </div>\n      {renderRights(show, product)}\n      {product.deductibleAmountStr && (\n        <div className={styles.elevenTip}>{product.deductibleAmountStr}</div>\n      )}\n      <div className={styles.buy} onClick={handleClick}>\n        立即购买\n      </div>\n    </div>\n  );\n};\n\nexport default ProductListItem;\n","import React, { FC, useEffect, useState } from 'react';\n\nimport ProductListItem from './product-list-item';\nimport { Loading } from '@/components/loading';\nimport * as productService from '@/service/product-service';\nimport { IListProduct } from '@/types';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport useViewEvent from '@/components/hooks/useViewEvent';\nimport { EVENT_CODE, ERROR_CODE } from '@/constants';\nimport EmptyPage from '@/views/components/empty-page';\n\nimport styles from './product-list.less';\nimport message from '@/utils/message';\nimport { tools } from '@/utils';\nimport useWechatSdk from '@/components/hooks/useWechatSdk';\nimport { shareConfig } from '@/config';\nimport monitor from '@/utils/monitor';\n\nconst defaultShareOptions = shareConfig.default;\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 商品列表页\n */\nconst ProductList: FC = () => {\n  const [data, setData] = useState<IListProduct[] | null>(null);\n  const [now, setNow] = useState<string>('');\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 加载数据\n   */\n  useEffect(() => {\n    productService\n      .getProductList()\n      .then(({ list, now }) => {\n        setData(list);\n        setNow(now);\n      })\n      .catch((error) => {\n        monitor.error({\n          message: `商品列表加载失败, ${JSON.stringify(error)}`\n        });\n        const { code, msg } = error;\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            message.error('请您重新登录', () => {\n              window.location.replace(tools.getLoginUrl());\n            });\n            break;\n          default:\n            // message.error(msg || '发生错误');\n            updateError({ isError: true, message: msg || '发生错误' });\n            break;\n        }\n      });\n  }, []);\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_PRODUCT_LIST,\n    message: '浏览商品列表页'\n  });\n\n  // 错误页\n  if (error.isError) {\n    return <EmptyPage describe={error.message} />;\n  }\n  // loading\n  if (!data) {\n    return <Loading />;\n  }\n\n  const listItems = data.map((product) => {\n    return <ProductListItem key={product.productId} product={product} now={now} />;\n  });\n\n  return <div className={styles.box}>{listItems}</div>;\n};\n\nexport default ProductList;\n","import React, { FC, useEffect, useState } from 'react';\nimport queryString from 'query-string';\nimport QRCode from 'qrcode.react';\n\nimport { Loading } from '@/components/loading';\nimport * as productService from '@/service/product-service';\nimport { IOrderStatus, IQRCodePaymentInfo } from '@/types/payment';\nimport message from '@/utils/message';\nimport { ERROR_CODE, EVENT_CODE, ORDER_PAY_STATUS, PAYMENT_NAME } from '@/constants';\nimport { tools } from '@/utils';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport msToast from '@/components/modal/msToast';\nimport useViewEvent from '@/components/hooks/useViewEvent';\n\nimport styles from './qrcode-pay.less';\nimport { shareConfig } from '@/config';\nimport useWechatSdk from '@/components/hooks/useWechatSdk';\nimport monitor from '@/utils/monitor';\nimport EmptyPage from '@/views/components/empty-page';\n\nconst defaultShareOptions = shareConfig.default;\n\n/**\n * setInterval 间隔时间\n */\nconst delay = 4000;\n\n/**\n * url 参数\n */\ninterface IUrlParams {\n  /**\n   * 商品id, 必须\n   */\n  productId: string;\n\n  /**\n   * 订单号, 必须\n   */\n  orderNo: string;\n\n  /**\n   * 支付方法, 必须\n   */\n  method: PAYMENT_NAME;\n}\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 二维码支付\n */\nconst QrCodePay: FC = () => {\n  // 支付信息\n  const [paymentInfo, setPaymentInfo] = useState<IQRCodePaymentInfo | null>(null);\n  // 二维码\n  const [dataUrl, setDataUrl] = useState('');\n  // 错误\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 初始化数据\n   */\n  useEffect(() => {\n    // 从 url 获取 商品id, 版本号?, 订单号?, 支付方法\n    const { productId, orderNo, method } = queryString.parse(window.location.search) as IUrlParams;\n\n    productService\n      .getQRCodePaymentInfo({ productId, orderNo, paymentName: method })\n      .then((paymentInfo) => {\n        // 埋点\n        monitor.log({\n          message: `支付方式: ${method}, 获取二维码支付链接成功`\n        });\n        setPaymentInfo(paymentInfo);\n      })\n      .catch((error) => {\n        const { code, msg } = error;\n\n        // 埋点\n        monitor.error({\n          message: `支付方式: ${method}, 获取二维码支付链接失败, code: ${JSON.stringify(error)}`\n        });\n        // 如果以弹框的形式，弹出错误，则背景页不显示内容\n        updateError({ isError: true, message: null });\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            // message.error('请您重新登录', () => {\n            //   window.location.replace(tools.getLoginUrl());\n            // });\n            msToast.modal({\n              content: '请您重新登录',\n              closeVisible: false,\n              okText: '确定',\n              onOk: () => {\n                window.location.replace(tools.getLoginUrl());\n              }\n            });\n            break;\n          case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n          case ERROR_CODE.BIZ_ORDER_IS_PAID: // 订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_PAID_SUB: // 子订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n          case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n          case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n          case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单状态改为分次支付\n          case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n          case ERROR_CODE.BIZ_ORDER_STATUS_IS_ERROR: // 订单状态异常\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了',\n              onOk: () => {\n                window.location.replace(tools.getFullPath('/order'));\n              }\n            });\n            break;\n          default:\n            updateError({ isError: true, message: msg || '发生错误' });\n            break;\n        }\n      });\n  }, []);\n\n  /**\n   * 轮询, 查询支付状态, 时间间隔: 4秒\n   */\n  useEffect(() => {\n    if (!paymentInfo) {\n      return;\n    }\n\n    const timer = setInterval(() => {\n      productService\n        .queryOrderStatus({\n          orderNo: paymentInfo.orderNo,\n          paymentName: paymentInfo.paymentName\n        })\n        .then((orderStatus: IOrderStatus) => {\n          // TODO 记录日志\n          switch (orderStatus.status) {\n            /**\n             * 未支付\n             */\n            case ORDER_PAY_STATUS.BIZ_ORDER_NOT_PAID:\n              console.log('订单未支付, 继续查询...');\n              break;\n            /**\n             * 已支付成功\n             */\n            case ORDER_PAY_STATUS.BIZ_ORDER_ALREADY_PAID:\n              // 埋点\n              monitor.log({\n                message: `轮询查询支付结果: 已支付成功`\n              });\n              // 清空定时器\n              clearInterval(timer);\n              // 跳转\n              window.location.replace(paymentInfo.payResultUrl as string);\n              break;\n            /**\n             * 登录状态过期\n             */\n            case ORDER_PAY_STATUS.LOGIN_REQUIRED:\n              clearInterval(timer);\n              message.error('请您重新登录', () => {\n                window.location.replace(tools.getLoginUrl());\n              });\n              break;\n            /**\n             * 其他错误\n             */\n            default:\n              clearInterval(timer);\n              message.error(orderStatus.statusText || '发生错误');\n              break;\n          }\n        })\n        .catch((error) => {\n          // 埋点\n          monitor.error({\n            message: `轮询查询支付结果: 发生异常: ${JSON.stringify(error)}`\n          });\n          // 清空定时器\n          clearInterval(timer);\n          message.error((error && error.msg) || '发生错误');\n        });\n    }, delay);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [paymentInfo]);\n\n  /**\n   * 转换 canvas to base64\n   */\n  useEffect(() => {\n    if (!paymentInfo) {\n      return;\n    }\n    const canvas = window.document.getElementsByTagName('canvas')[0];\n    if (!canvas) {\n      return;\n    }\n    const imgDataUrl = canvas.toDataURL('image/png');\n    setDataUrl(imgDataUrl);\n  }, [paymentInfo]);\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_QRCODE_PAY,\n    message: '浏览二维码支付页'\n  });\n\n  // 二维码图片\n  let imgElement = null;\n  if (dataUrl) {\n    imgElement = (\n      <>\n        <img src={dataUrl} alt=\"二维码\" />\n        <div className={styles.desc}>(扫码支付)</div>\n      </>\n    );\n  }\n\n  let headerElement = null; // 标题\n  let headerClass = ''; // 标题样式\n  if (paymentInfo) {\n    console.log('paymentInfo', paymentInfo);\n    let type = null;\n    switch (paymentInfo.paymentName.toLowerCase()) {\n      case PAYMENT_NAME.WechatQR.toLowerCase():\n        type = <span>微信支付</span>;\n        headerClass = styles.wechat;\n        break;\n      case PAYMENT_NAME.AlipayQR.toLowerCase():\n        type = <span>支付宝</span>;\n        headerClass = styles.alipay;\n        break;\n    }\n    headerElement = <header className={headerClass}>{type}购买课程</header>;\n  }\n\n  if (error.isError) {\n    if (error.message) {\n      return <EmptyPage describe={error.message} />;\n    }\n    return null;\n  }\n\n  // loading\n  if (paymentInfo === null) {\n    return <Loading />;\n  }\n\n  return (\n    <div className={styles.box}>\n      <div className={styles.pay}>\n        {headerElement}\n        <div className={styles.price}>\n          <i>¥</i>\n          {tools.convertPenny(paymentInfo.paymentPrice)}\n        </div>\n        <p>\n          课程\n          <span>{paymentInfo.name}</span>\n        </p>\n        <p>\n          订单号\n          <span>{paymentInfo.orderNo}</span>\n        </p>\n        <p>\n          收款方\n          <span>北京魔力耳朵科技有限公司</span>\n        </p>\n        <hr />\n        <div className={styles.qrBox}>\n          {imgElement}\n          {paymentInfo.payUrl ? <QRCode value={paymentInfo.payUrl} level={'H'} /> : null}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QrCodePay;\n","import dayjs from 'dayjs';\n\nimport { appConfig } from '../config';\nimport { requestUtils } from '../utils';\nimport { IBaseOrder, IOrderDetail, IAgreement, IOrder, ICourse } from '../types';\nimport { PRODUCT_TYPE } from '@/constants';\n\nconst apiDomain = appConfig.domain.apiDomain;\n\n/**\n * 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群,  3999课时包的需求, 临时在前端写死\n * @param orderInfo 订单详情页 的 订单对象\n */\nconst processOrderDetail = (orderInfo: IOrderDetail) => {\n  // 2019年10月1日\n  const flagTime = dayjs('2019-10-01 00:00:00');\n  // 如果有未支付的订单\n  const createTime = dayjs(orderInfo.createTime);\n\n  /**\n   * 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群\n   * 3999课时包的需求, 临时在前端写死\n   */\n  if (!isNaN(createTime.valueOf()) && createTime > flagTime) {\n    /**\n     * 班级练习群\n     * 3999课时包的需求, 临时在前端写死\n     */\n    let classGroup: ICourse | null = {\n      code: 'CLASS_GROUP',\n      name: '班级练习群',\n      count: 2,\n      unit: '期'\n    };\n\n    switch (orderInfo.productType) {\n      case PRODUCT_TYPE.INTERNAL_COURSE: // 3999内购课时包  6期\n        classGroup.count = '6';\n        break;\n      case PRODUCT_TYPE.INTERNAL_RISE_BASE_COURSE: // 3999内购升基础  2期\n        classGroup.count = '2';\n        break;\n      case PRODUCT_TYPE.TRAIN_RISE_BASE_COURSE: // 体验升基础 8期\n      case PRODUCT_TYPE.YEAR_COURSE: // 基础课时包  8期\n      case PRODUCT_TYPE.UPGRADE_BIG_COURSE: // 基础升进阶  8期\n        classGroup.count = '8';\n        break;\n      case PRODUCT_TYPE.TWO_YEARS_COURSE: // 进阶课时包  16期\n      case PRODUCT_TYPE.UPGRADE_THREE_YEAR_COURSE: // 进阶升学霸  16期\n        classGroup.count = '16';\n        break;\n      case PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE: // 体验升学霸 升舱包 32期\n      case PRODUCT_TYPE.THREE_YEARS_COURSE: // 学霸课时包  32期\n        classGroup.count = '32';\n        break;\n      default:\n        classGroup = null;\n        break;\n    }\n\n    if (classGroup) {\n      // 课程信息\n      if (!Array.isArray(orderInfo.giveCourseList)) {\n        orderInfo.giveCourseList = [];\n      }\n      orderInfo.giveCourseList.push(classGroup);\n    }\n  }\n};\n\n/**\n * 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群,  3999课时包的需求, 临时在前端写死\n * @param orderInfo 订单列表页 的 订单对象\n */\nconst processOrder = (orderInfo: IOrder) => {\n  // 2019年10月1日\n  const flagTime = dayjs('2019-10-01 00:00:00');\n  // 如果有未支付的订单\n  const createTime = dayjs(orderInfo.createTime);\n\n  /**\n   * 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群\n   * 3999课时包的需求, 临时在前端写死\n   */\n  if (!isNaN(createTime.valueOf()) && createTime > flagTime) {\n    /**\n     * 班级练习群\n     * 3999课时包的需求, 临时在前端写死\n     */\n    let classGroup: ICourse | null = {\n      code: 'CLASS_GROUP',\n      name: '班级练习群',\n      count: 2,\n      unit: '期'\n    };\n\n    switch (orderInfo.productType) {\n      case PRODUCT_TYPE.INTERNAL_COURSE: // 3999内购课时包  6期\n        classGroup.count = '6';\n        break;\n      case PRODUCT_TYPE.INTERNAL_RISE_BASE_COURSE: // 3999内购升基础  2期\n        classGroup.count = '2';\n        break;\n      case PRODUCT_TYPE.TRAIN_RISE_BASE_COURSE: // 体验升基础 8期\n      case PRODUCT_TYPE.YEAR_COURSE: // 基础课时包  8期\n      case PRODUCT_TYPE.UPGRADE_BIG_COURSE: // 基础升进阶  8期\n        classGroup.count = '8';\n        break;\n      case PRODUCT_TYPE.TWO_YEARS_COURSE: // 进阶课时包  16期\n      case PRODUCT_TYPE.UPGRADE_THREE_YEAR_COURSE: // 进阶升学霸  16期\n        classGroup.count = '16';\n        break;\n      case PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE: // 体验升学霸 升舱包 32期\n      case PRODUCT_TYPE.THREE_YEARS_COURSE: // 学霸课时包  32期\n        classGroup.count = '32';\n        break;\n      default:\n        classGroup = null;\n        break;\n    }\n\n    if (classGroup && orderInfo.activityAndCourse) {\n      // 课程信息\n      if (!Array.isArray(orderInfo.activityAndCourse.giveCourseList)) {\n        orderInfo.activityAndCourse.giveCourseList = [];\n      }\n      orderInfo.activityAndCourse.giveCourseList.push(classGroup);\n    }\n  }\n};\n\n/**\n * 获取订单列表\n * @param wxToken 微信token\n * @param passToken passtoken\n */\nexport const getOrderList = (): Promise<IBaseOrder[]> => {\n  const url = apiDomain.concat('/usercenter/order/list');\n  return requestUtils.get(url).then((res) => {\n    return res.data.map((item: IBaseOrder) => {\n      let orderList = item.orderList;\n      if (Array.isArray(orderList)) {\n        orderList = orderList.map((sonOrder: IOrder) => {\n          // 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群,  3999课时包的需求, 临时在前端写死\n          processOrder(sonOrder);\n\n          return {\n            ...sonOrder,\n            name: sonOrder.name.replace(/【|】/g, '')\n          };\n        });\n      }\n      return {\n        ...item,\n        orderName: item.orderName.replace(/【|】/g, ''),\n        orderList\n      };\n    });\n  });\n};\n\n/**\n * 根据订单号获取订单详情\n * @param orderNo 订单号\n * @param wxToken 微信token\n * @param passToken passtoken\n */\nexport const getOrderById = (orderNo: string): Promise<IOrderDetail> => {\n  const url = apiDomain.concat('/usercenter/order/detail');\n  const params = {\n    orderNo\n  };\n  return requestUtils.get(url, params).then((res) => {\n    const orderInfo = res.data;\n    if (orderInfo && orderInfo.name) {\n      orderInfo.name = orderInfo.name.replace(/【|】/g, '');\n    }\n\n    // 订单创建时间在 2019年10月1日之后的课包, 显示 班级练习群,  3999课时包的需求, 临时在前端写死\n    processOrderDetail(orderInfo);\n\n    return orderInfo;\n  });\n};\n\n/**\n * 根据订单创建时间获取用户协议\n */\nexport const getAgreement = (id: number | string): Promise<IAgreement> => {\n  const url = apiDomain.concat('/usercenter/order/agreement');\n  const params = { id };\n  return requestUtils.get(url, params).then((res) => {\n    return res.data;\n  });\n};\n\n/**\n * 根据订单创建时间获取用户协议\n */\nexport const getNewAgreement = (): Promise<IAgreement> => {\n  const url = apiDomain.concat('/usercenter/order/uc/agreement');\n  return requestUtils.get(url).then((res) => {\n    return res.data;\n  });\n};\n/**\n * 同意开包协议\n */\nexport const agreementConfirm = (): Promise<IOrderDetail> => {\n  const url = apiDomain.concat(`/usercenter/confirm/protocol`);\n  return requestUtils.get(url).then((res) => res.data || {});\n};\n\n/**\n * 用户是否同意接口\n */\nexport const protocolStatus = () => {\n  const url = apiDomain.concat(`/usercenter/confirm/protocol/status`);\n  return requestUtils.get(url).then((res) => res.data || {});\n};\n","import React, { FC } from 'react';\n\nimport { tools } from '@/utils';\nimport { useCountDown } from '@/components/hooks';\nimport styles from './order.less';\n\ninterface ICountDownProps {\n  currentTime: string;\n  endTime: string;\n  className?: string;\n  onFinish?: () => void;\n}\n\n/**\n * 倒计时组件\n */\nconst CountDown: FC<ICountDownProps> = ({ currentTime, endTime, onFinish, className }) => {\n  const countDownTime = useCountDown(currentTime, endTime, onFinish);\n  return <div className={className || styles.payTime}>{tools.formatDiffTime(countDownTime)}</div>;\n};\n\nexport default CountDown;\n","import React, { FC, useContext } from 'react';\nimport classNames from 'classnames';\n\nimport { tools } from '@/utils';\nimport { ORDER_STATUS } from '@/constants/order';\nimport PaymentButton from '../payment/payment-button';\nimport CountDown from './count-down';\nimport { OrderContext } from './model';\n\nimport styles from './order-payment.less';\n\ninterface IOrderPaymentProps {\n  isFixed?: boolean;\n  status: ORDER_STATUS; // 订单状态\n  endTime: string; // 结束时间\n  currentTime: string; // 服务器当前时间\n  orderNo: string; // 订单好\n  shouldPrice: number | string; // 支付价格\n  onCountDownFinish: () => void; // 回调事件\n}\n/**\n * 订单支付按钮\n */\nconst OrderPayment: FC<IOrderPaymentProps> = ({\n  isFixed = true,\n  status,\n  endTime,\n  currentTime,\n  orderNo,\n  shouldPrice,\n  onCountDownFinish\n}) => {\n  const dispatch = useContext(OrderContext);\n  if (status !== ORDER_STATUS.UNPAID) {\n    return null;\n  }\n\n  // 如果已经过了支付时间\n  const expires = endTime < currentTime;\n  const clsPayTime = classNames(styles.payTime, {\n    [styles['disabled-payTime']]: expires\n  });\n\n  /**\n   * 倒计时, 当前商品用户已下单, 订单有效并且未支付\n   */\n  let countDownElement = null;\n  if (endTime) {\n    countDownElement = (\n      <>\n        <div className={styles.payTip}>剩余支付时间</div>\n        <CountDown\n          endTime={endTime}\n          currentTime={currentTime}\n          onFinish={onCountDownFinish}\n          className={clsPayTime}\n        />\n      </>\n    );\n  }\n\n  // Fixed\n  const clsPaybar = isFixed ? styles.payBarFixed : styles.payBar;\n  const clsPay = classNames(styles.pay, { [styles['disabled-pay']]: expires });\n  return (\n    <div className={clsPaybar}>\n      <div className={styles.payContent}>\n        {countDownElement}\n        <div className={clsPay}>\n          <PaymentButton\n            productId={''}\n            disabled={expires}\n            orderNo={orderNo}\n            shouldPrice={tools.convertPennyToDollar(shouldPrice) as string}\n            onReloadData={dispatch}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderPayment;\n","import React, { FC } from 'react';\nimport classNames from 'classnames';\n\nimport { tools } from '@/utils';\nimport { getFullPath } from '@/utils/tools';\nimport monitor from '@/utils/monitor';\nimport { IBaseOrder, IOrder, IOrderDetail, IActivity, ICourse } from '@/types/order';\nimport { ORDER_STATUS, ORDER_STATUS_TEXT, PRODUCT_TYPE } from '@/constants';\nimport CoursePackIcon from '@/views/components/course-pack-icon';\nimport OrderPayment from './order-payment';\n\nimport styles from './order.less';\n\ninterface IUnPaidOrderProps {\n  orderInfo: IOrder;\n  now: string;\n  isPayFixed?: boolean;\n  onCountDownFinish: () => void; // 倒计时结束时的回调函数\n}\n\ninterface IUnpaidOrderDetailProps {\n  orderInfo: IOrderDetail;\n  now: string;\n  isPayFixed?: boolean;\n  onCountDownFinish: () => void; // 倒计时结束时的回调函数\n}\n\n/**\n * 待付款课时包\n */\nexport const UnPaidOrder: FC<IUnPaidOrderProps | IUnpaidOrderDetailProps> = ({\n  orderInfo,\n  now,\n  isPayFixed = true,\n  onCountDownFinish\n}) => {\n  /**\n   * 渲染活动列表\n   * @param activityList 活动列表\n   */\n  const renderActivity = (activityList: IActivity[]) => {\n    return activityList.map((item) => {\n      return (\n        <div key={item.id} className={styles.promotion}>\n          <div className={styles.ptname}>\n            <span className={styles.pattern}>赠送</span>\n            {item.activityName}\n            <span className={styles.price}>\n              <i>¥</i>\n              {tools.convertPennyToDollar(item.price)}\n            </span>\n          </div>\n          <div className={styles.package}>{renderPgitem(item.giveCourseList)}</div>\n        </div>\n      );\n    });\n  };\n\n  /**\n   * 渲染课程包列表\n   * @param courseList 课程包列表\n   */\n  const renderPgitem = (courseList: ICourse[]) => {\n    return courseList.map((t, index) => {\n      return (\n        <p key={index}>\n          {t.name}\n          <span>\n            <i>x</i>\n            {t.count}\n            {t.unit}\n          </span>\n        </p>\n      );\n    });\n  };\n\n  /**\n   * 订单支付了部分\n   * @param actualPrice 已付金额\n   * @param status 订单状态\n   */\n  const renderAlready = (actualPrice: number, status: ORDER_STATUS) => {\n    if (actualPrice && status === ORDER_STATUS.UNPAID) {\n      return (\n        <div className={styles.row}>\n          已付款:\n          <span className={styles.favourablePrice}>\n            <i>¥</i>\n            {tools.convertPennyToDollar(orderInfo.actualPrice)}\n          </span>\n        </div>\n      );\n    }\n  };\n\n  /**\n   * 显示付款金额\n   */\n  const renderFooter = () => {\n    if (orderInfo.status === ORDER_STATUS.UNPAID) {\n      return (\n        <div className={styles.footer}>\n          待付款: <span>￥{tools.convertPennyToDollar(orderInfo.shouldPrice)}</span>\n        </div>\n      );\n    } else {\n      return (\n        <div className={styles.footer}>\n          付款金额: <span>￥{tools.convertPennyToDollar(orderInfo.actualPrice)}</span>\n        </div>\n      );\n    }\n  };\n\n  const renderPayButton = () => {\n    return (\n      <OrderPayment\n        isFixed={isPayFixed}\n        orderNo={orderInfo.orderNo}\n        status={orderInfo.status}\n        endTime={orderInfo.expiredTime}\n        currentTime={now}\n        shouldPrice={orderInfo.shouldPrice}\n        onCountDownFinish={onCountDownFinish}\n      />\n    );\n  };\n\n  let giveCourseList: ICourse[] = [];\n  let activityList: IActivity[] = [];\n  if ((orderInfo as IOrder).activityAndCourse) {\n    giveCourseList = (orderInfo as IOrder).activityAndCourse.giveCourseList;\n    activityList = (orderInfo as IOrder).activityAndCourse.activityList;\n  }\n  if ((orderInfo as IOrderDetail).giveCourseList) {\n    giveCourseList = (orderInfo as IOrderDetail).giveCourseList;\n    activityList = (orderInfo as IOrderDetail).activityList;\n  }\n\n  let internalCourseElement = null;\n  if (orderInfo.productType === PRODUCT_TYPE.INTERNAL_COURSE) {\n    // 3999 内购课时包\n    internalCourseElement = (\n      <div className={styles.tip}>此课时包为内部亲友购课专享，一经购课，不办理退费</div>\n    );\n  } else if (orderInfo.productType === PRODUCT_TYPE.UPGRADE_TRAIN_TO_HEGEMONY_COURSE) {\n    // 【体验升学霸】升舱包\n    internalCourseElement = (\n      <div className={styles.tip}>双11特惠课时包（内部亲友），不可同享其他活动赠品</div>\n    );\n  }\n\n  /**\n   * 优惠券\n   */\n  let couponElement = null;\n  if (orderInfo.coupons.length) {\n    couponElement = orderInfo.coupons.map((item, index) => {\n      return (\n        <div key={`order-${index}`} className={styles.row}>\n          {item.couponName}:\n          {item.deductibleAmount && (\n            <span className={styles.favourablePrice}>\n              <i>-</i>\n              <i>¥</i>\n              {tools.convertPennyToDollar(item.deductibleAmount)}\n            </span>\n          )}\n        </div>\n      );\n    });\n  }\n\n  return (\n    <div className={styles.order}>\n      <div className={styles.title}>\n        {orderInfo.name}\n        <span>{ORDER_STATUS_TEXT[orderInfo.status]}</span>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.name}>\n          {orderInfo.name}\n          <span>\n            <i>¥</i>\n            {tools.convertPennyToDollar(orderInfo.originalPrice)}\n          </span>\n          <CoursePackIcon type={orderInfo.productType} />\n        </div>\n        {internalCourseElement}\n        <div className={styles.package}>{renderPgitem(giveCourseList)}</div>\n        <hr className={styles.hr_solid} />\n        {renderActivity(activityList)}\n        <hr className={styles.hr_dotted} />\n        <div className={styles.row}>\n          课程价格:\n          <span>\n            <i>¥</i>\n            {tools.convertPennyToDollar(orderInfo.originalPrice)}\n          </span>\n        </div>\n        {couponElement}\n        <div className={styles.row}>\n          订单金额:\n          <span className={styles.favourablePrice}>\n            <i>¥</i>\n            {tools.convertPennyToDollar(orderInfo.orderPrice)}\n          </span>\n        </div>\n        {renderAlready(orderInfo.actualPrice as number, orderInfo.status)}\n      </div>\n      {renderFooter()}\n      {renderPayButton()}\n    </div>\n  );\n};\n\ninterface IFinishOderPorps {\n  status: ORDER_STATUS;\n  orderNo: string;\n  orderName?: string;\n  payTime?: string;\n}\n\n/**\n * 跳转订单详情\n * @param orderNo 订单号\n */\nconst handleJumpDetail = (orderNo: string) => {\n  console.log('跳转到订单详情', orderNo);\n  monitor.log({ message: `订单列表>点击查看详情，订单号:${orderNo}` });\n  window.location.href = getFullPath('/order/' + orderNo);\n};\n\n/**\n * 已完成普通课时包订单\n */\nexport const FinishOrder: FC<IFinishOderPorps> = ({ status, orderNo, orderName, payTime }) => {\n  return (\n    <div className={styles.finishOrder} onClick={handleJumpDetail.bind(null, orderNo)}>\n      <div className={styles.title}>\n        {orderName}\n        <span>{ORDER_STATUS_TEXT[status]}</span>\n      </div>\n      <div className={styles.paymentTime}>\n        付款时间：<span>{payTime}</span>\n        <em className={styles.guide} />\n      </div>\n    </div>\n  );\n};\n\ninterface ISuperOrderProps {\n  orderInfo: IBaseOrder;\n}\n\n/**\n * 已完成学霸课时包订单\n */\nexport const SuperOrder: FC<ISuperOrderProps> = ({ orderInfo }) => {\n  const orderItem = (orderList: IOrder[]) => {\n    const orderListlen = orderList.length;\n    return orderList.map((p, index) => {\n      const classname = classNames(styles.timeline_item, {\n        [styles.timeline_item_last]: orderListlen === index + 1\n      });\n      return (\n        <li key={p.orderNo} className={classname}>\n          <div className={styles.timeline_item_tail} />\n          <div className={styles.timeline_item_head}>\n            <div className={styles.timeline_item_hard_inner} />\n          </div>\n          <div\n            className={styles.timeline_item_content}\n            onClick={handleJumpDetail.bind(null, p.orderNo)}\n          >\n            <div className={styles.name}>{p.name}</div>\n            <div className={styles.paymentTime}>\n              付款时间：<span>{p.payTime}</span>\n              <em className={styles.guide} />\n            </div>\n          </div>\n        </li>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.superOrder}>\n      <div className={styles.title}>\n        {orderInfo.orderName}\n        <span>{ORDER_STATUS_TEXT[orderInfo.baseStatus]}</span>\n      </div>\n      <div className={styles.orderDetail}>\n        <ul className={styles.timeline}>{orderItem(orderInfo.orderList)}</ul>\n      </div>\n    </div>\n  );\n};\n","import React, { FC, useEffect, useReducer, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { shareConfig } from '@/config';\nimport * as orderService from '@/service/order-service';\nimport { ORDER_STATUS, EVENT_CODE } from '@/constants';\nimport { Loading } from '@/components/loading';\nimport { useWechatSdk } from '@/components/hooks';\nimport { tools } from '@/utils';\nimport { OrderContext, reducer, InitOrderState, ACTION_TYPE } from './model';\nimport { FinishOrder, SuperOrder, UnPaidOrder } from './list-item';\nimport EmptyPage from '../components/empty-page';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport useViewEvent from '@/components/hooks/useViewEvent';\n\nimport styles from './order.less';\nimport message from '@/utils/message';\nimport monitor from '@/utils/monitor';\n\nconst defaultShareOptions = shareConfig.default;\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 我的订单列表\n */\nconst OrderList: FC = () => {\n  const [state, dispatch] = useReducer(reducer, InitOrderState);\n  const [loading, setLoading] = useState(true);\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n  const { orderList } = state;\n\n  useEffect(() => {\n    loadOrderList(true);\n  }, []);\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_ORDER_LIST,\n    message: '浏览订单列表页'\n  });\n\n  /**\n   * 加载数据\n   */\n  const loadOrderList = async (isInit = false) => {\n    try {\n      !isInit && message.showLoading();\n      const data = await orderService.getOrderList();\n      dispatch({\n        type: ACTION_TYPE.UPDATE_ORDER_LIST,\n        payload: {\n          ...state,\n          orderList: data\n        }\n      });\n    } catch (error) {\n      monitor.error({\n        message: `获取订单列表发生错误, ${JSON.stringify(error)}`\n      });\n      const { code, msg } = error;\n      switch (code) {\n        case 'LOGIN_REQUIRED':\n          message.error('请您重新登录', () => {\n            window.location.replace(tools.getLoginUrl());\n          });\n          break;\n        default:\n          console.log(`code: ${code}, msg: ${msg}`);\n          !isInit && message.error(msg);\n          isInit && updateError({ isError: true, message: msg || '发生错误' });\n          break;\n      }\n    } finally {\n      isInit && setLoading(false);\n      !isInit && message.closeLoading();\n    }\n  };\n  /**\n   * 计时器结束后回调\n   */\n  const handleCountDownFinish = () => {\n    loadOrderList();\n  };\n\n  /**\n   * 渲染订单列表\n   */\n  const renderOrderList = () => {\n    if (!orderList) {\n      return;\n    }\n    return orderList.map((item) => {\n      switch (item.baseStatus) {\n        case ORDER_STATUS.UNPAID:\n          // 待支付订单\n          return item.orderList.map((order) => {\n            return (\n              <UnPaidOrder\n                isPayFixed={false}\n                key={order.orderNo}\n                orderInfo={order}\n                now={item.now}\n                onCountDownFinish={handleCountDownFinish}\n              />\n            );\n          });\n        default:\n          // orderList >1 是进阶/学霸课时包订单\n          return item.orderList && item.orderList.length > 1 ? (\n            <SuperOrder key={item.orderNo} orderInfo={item} />\n          ) : (\n            <FinishOrder\n              key={item.orderNo}\n              orderNo={item.orderNo}\n              orderName={item.orderName}\n              status={item.baseStatus}\n              payTime={item.paidTime}\n            />\n          );\n      }\n    });\n  };\n\n  // useVisibilityChange(\n  //   function() {\n  //     console.log('我进入了后台', Date.now());\n  //   },\n  //   function() {\n  //     console.log('我进入了页面', Date.now());\n  //   }\n  // );\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (error.isError) {\n    return <EmptyPage describe={error.message} />;\n  }\n\n  if (!orderList || !orderList.length) {\n    return <EmptyPage describe={'暂无订单～'} />;\n  }\n\n  return (\n    <OrderContext.Provider value={loadOrderList}>\n      <div className={styles.box}>{renderOrderList()}</div>\n    </OrderContext.Provider>\n  );\n};\n\nexport default withRouter(OrderList);\n","import React, { useState, useEffect, FC, useReducer } from 'react';\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { shareConfig } from '@/config';\nimport { IPayInfo } from '@/types';\nimport message from '@/utils/message';\nimport MsToast from '@/components/modal/msToast';\nimport { getFullPath, getLoginUrl, convertPennyToDollar } from '@/utils/tools';\n\nimport { PAYMENT_TEXT, ORDER_STATUS, ORDER_ERROR_CODE } from '@/constants/order';\nimport { useWechatSdk, useStopBodyScroll } from '@/components/hooks';\nimport { Loading } from '@/components/loading';\nimport * as orderService from '@/service/order-service';\nimport { UnPaidOrder } from './list-item';\nimport { OrderContext, reducer, InitOrderState, ACTION_TYPE } from './model';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport useViewEvent from '@/components/hooks/useViewEvent';\nimport { EVENT_CODE } from '@/constants';\n\nimport styles from './order.less';\nimport EmptyPage from '@/views/components/empty-page';\nimport monitor from '@/utils/monitor';\n\nconst defaultShareOptions = shareConfig.default;\nconst switchUrl = `/user/login?callback=/shop/order`;\n\ninterface IUrlParams {\n  orderNo: string;\n}\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 订单详情\n */\nconst OrderDetails: FC<RouteComponentProps<IUrlParams>> = ({ match }) => {\n  const { orderNo } = match.params;\n  const [state, dispatch] = useReducer(reducer, InitOrderState);\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n  const [loading, updateLoading] = useState(true);\n  const { orderDetail } = state;\n\n  /**\n   * 查询订单详情数据\n   */\n  useEffect(() => {\n    loadData(true);\n  }, []);\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_ORDER_DETAIL,\n    message: '浏览订单详情页'\n  });\n\n  /**\n   * 加载数据\n   * 如果状态是已经完成则处理开包状态\n   */\n  const loadData = async (isInit = false) => {\n    try {\n      !isInit && message.showLoading();\n      const data = await orderService.getOrderById(orderNo);\n      if (data.status === ORDER_STATUS.FINISH) {\n        getStatus();\n      }\n      dispatch({\n        type: ACTION_TYPE.UPDATE_ORDER_INFO,\n        payload: {\n          ...state,\n          orderDetail: data\n        }\n      });\n    } catch (error) {\n      monitor.error({\n        message: `获取订单信息发生错误, ${JSON.stringify(error)}`\n      });\n\n      // tslint:disable-next-line\n      let { code, data, msg } = error || {\n        code: '',\n        data: {},\n        msg: '发生错误'\n      };\n      data = data || {};\n      // 如果以弹框的形式，弹出错误，则背景页不显示内容\n      updateError({ isError: true, message: null });\n      switch (code) {\n        case ORDER_ERROR_CODE.LOGIN_REQUIRED:\n          message.error('请您重新登录', () => {\n            window.location.replace(getLoginUrl());\n          });\n          break;\n        case ORDER_ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH:\n          const content = (\n            <div>\n              <p style={{ marginBottom: '.2666rem' }}>当前登录账号和订单号不匹配</p>\n              <p>当前账号：{data.phone}</p>\n            </div>\n          );\n          MsToast.modal({\n            content,\n            closeVisible: false,\n            footer: (\n              <div className={styles['switch-account']}>\n                <span onClick={handleSwitchAccount}>切换账号</span>\n              </div>\n            )\n          });\n          break;\n        case ORDER_ERROR_CODE.BIZ_ORDER_NOT_EXIST:\n          MsToast.modal({\n            content: '订单号不存在',\n            closeVisible: false,\n            okText: '我知道了',\n            onOk: () => {\n              window.location.replace(getFullPath('/order'));\n            }\n          });\n          break;\n        case ORDER_ERROR_CODE.BIZ_ORDER_INFO_ERROR:\n          MsToast.modal({\n            content: '订单信息错误',\n            closeVisible: false,\n            okText: '我知道了',\n            onOk: () => {\n              window.location.replace(getFullPath('/order'));\n            }\n          });\n          break;\n        default:\n          console.log(`code: ${code}, msg: ${msg}`);\n          !isInit && message.error(msg);\n          isInit && updateError((state) => ({ ...state, message: msg || '发生错误' }));\n          break;\n      }\n    } finally {\n      isInit && updateLoading(false);\n      !isInit && message.closeLoading();\n    }\n  };\n  /**\n   * 获取开包协议状态\n   */\n  const getStatus = async () => {\n    try {\n      const data = await orderService.protocolStatus();\n      if (!data.confirm) {\n        MsToast.modal({\n          className: 'noTouch',\n          content: (\n            <div>\n              <div\n                className={styles['agreement']}\n                dangerouslySetInnerHTML={{ __html: data.protocolHeader }}\n              />\n              <div\n                className={styles['agreement-detail']}\n                dangerouslySetInnerHTML={{ __html: data.protocolContent }}\n              />\n            </div>\n          ),\n          okText: '我同意',\n          closeText: '关闭',\n          onOk: async () => {\n            try {\n              await orderService.agreementConfirm();\n              message.success('同意成功');\n              monitor.log({\n                message: '开包协议同意',\n                eventCode: 'client_protocol_agree'\n              });\n            } catch (error) {\n              message.error((error && error.msg) || '同意开包协议出错');\n              monitor.log({\n                errCode: error && error.code,\n                message: '用户同意开包协议接口错误'\n              });\n            }\n          },\n          onClose: () => {\n            monitor.log({\n              message: '开包协议关闭',\n              eventCode: 'client_protocol_close'\n            });\n          }\n        });\n      }\n    } catch (error) {\n      message.error((error && error.msg) || '发生错误');\n      monitor.log({\n        message: error && error.msg,\n        errCode: error && error.code\n      });\n    }\n  };\n\n  /**\n   * 计时器结束后回调\n   */\n  const handleCountDownFinish = () => {\n    loadData();\n  };\n\n  /**\n   * 切换账号\n   */\n  const handleSwitchAccount = () => {\n    window.location.replace(switchUrl);\n  };\n\n  /**\n   * render订单信息\n   */\n  const renderOrderInfo = () => {\n    if (orderDetail && orderDetail.status === ORDER_STATUS.FINISH) {\n      return (\n        <OrderInfo\n          orderNo={orderDetail.orderNo}\n          createTime={orderDetail.createTime}\n          payTime={orderDetail.payTime}\n          title={orderDetail.title}\n          payInfos={orderDetail.payInfoList}\n          agreeId={orderDetail.agreeId}\n          expiredTimeNum={orderDetail.expiredTimeNum}\n        />\n      );\n    }\n  };\n\n  // loading\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (error.isError) {\n    if (error.message) {\n      return <EmptyPage describe={error.message} />;\n    }\n    return null;\n  }\n\n  if (!orderDetail) {\n    return <EmptyPage />;\n  }\n  const cls = classNames(styles.box, {\n    [styles.boxPaddingBm]: orderDetail.status === ORDER_STATUS.UNPAID\n  });\n\n  return (\n    <OrderContext.Provider value={loadData}>\n      <div className={cls}>\n        <UnPaidOrder\n          orderInfo={orderDetail}\n          now={orderDetail.now}\n          onCountDownFinish={handleCountDownFinish}\n        />\n        {renderOrderInfo()}\n      </div>\n    </OrderContext.Provider>\n  );\n};\n\nexport default withRouter(OrderDetails);\n\n/* 订单详情组件 */\ninterface IOrderInfoProps {\n  orderNo: string;\n  createTime: string;\n  payTime: string;\n  title: string;\n  payInfos: IPayInfo[];\n  agreeId: number;\n  expiredTimeNum: number; // 课程有效期\n}\n\n/**\n * 订单信息\n */\nconst OrderInfo: FC<IOrderInfoProps> = (props) => {\n  const { orderNo, createTime, title, payInfos, agreeId, expiredTimeNum } = props;\n  const [payDetail, setPayDetail] = useState(false);\n\n  /**\n   * 显示支付明细\n   */\n  const handleShowPayDetail = () => {\n    setPayDetail(true);\n  };\n\n  /**\n   * 关闭支付明细\n   */\n  const handleClosePayDetail = () => {\n    setPayDetail(false);\n  };\n  let expired = '无有效期';\n  if (expiredTimeNum && expiredTimeNum > 0) {\n    expired = `${expiredTimeNum}个月（开包后生效）`;\n  }\n  return (\n    <>\n      <div className={styles.orderInfo}>\n        <h3>订单信息</h3>\n        <div className={styles.row}>\n          课程有效期<span>{expired}</span>\n        </div>\n        <div className={styles.row}>\n          订单编号<span>{orderNo}</span>\n        </div>\n        <div className={styles.row}>\n          下单时间<span>{createTime}</span>\n        </div>\n        <div className={styles.row} onClick={handleShowPayDetail}>\n          付款信息\n          <span className={styles.payroll}>支付明细</span>\n        </div>\n        <div className={styles.row}>\n          购课协议\n          <span className={styles.protocol}>\n            <Link to={`/agreement?id=${agreeId}`}>{title}</Link>\n          </span>\n        </div>\n      </div>\n      <PayDetail showPayDetail={payDetail} onClose={handleClosePayDetail} payInfos={payInfos} />\n    </>\n  );\n};\n\ninterface IPayDetailProps {\n  showPayDetail: boolean;\n  onClose: () => void;\n  payInfos: IPayInfo[];\n}\n\n/**\n * 支付明细\n */\nconst PayDetail: FC<IPayDetailProps> = ({ showPayDetail, onClose, payInfos = [] }) => {\n  let pdclassName = styles.paydetail;\n  let popupmask: React.ReactNode;\n\n  /**\n   * 阻止滚动穿透\n   */\n  useStopBodyScroll(showPayDetail);\n\n  if (showPayDetail) {\n    pdclassName = classNames(styles.paydetail, styles.poput_warp);\n    popupmask = <div className={styles.popup_mask} onClick={onClose} />;\n  }\n\n  /**\n   * 展示支付明细列表\n   */\n  const renderPayList = () => {\n    return payInfos.map((item, index) => {\n      return (\n        <section key={index}>\n          <div className={styles.row}>\n            付款时间<span>{item.subPayTime}</span>\n          </div>\n          <div className={styles.row}>\n            付款方式<span>{PAYMENT_TEXT[item.subPayment]}</span>\n          </div>\n          <div className={styles.row}>\n            付款金额\n            <span>\n              <i>¥</i>\n              {convertPennyToDollar(item.subActualPrice)}\n            </span>\n          </div>\n        </section>\n      );\n    });\n  };\n\n  return (\n    <>\n      {popupmask}\n      <div className={pdclassName}>\n        <header>\n          支付明细\n          <span onClick={onClose}>关闭</span>\n        </header>\n        <div className={styles.content}>{renderPayList()}</div>\n      </div>\n    </>\n  );\n};\n","import { createContext, Dispatch, Reducer } from 'react';\nimport { PAYMENT_NAME } from '@/constants';\n\nexport enum PAGE_TYPE {\n  /**\n   * 银行卡界面\n   */\n  BANK = 'BANK',\n  /**\n   * 验证码界面\n   */\n  SMS_CODE = 'SMS_CODE',\n  /**\n   * 其他界面\n   */\n  NONE = 'none'\n}\n\nexport interface IUnionPayState {\n  /**\n   * 页面类型\n   */\n  readonly pageType?: PAGE_TYPE;\n\n  /**\n   * 订单号\n   */\n  readonly orderNo?: string;\n  /**\n   * 支付方法\n   */\n  readonly paymentName?: PAYMENT_NAME;\n  /**\n   * 分期次数\n   */\n  readonly stageCount?: string;\n  /**\n   * 银行卡号\n   */\n  readonly bankNo?: string;\n  /**\n   * 手机号\n   */\n  readonly phoneNo?: string;\n  /**\n   * 验证码\n   */\n  readonly smsCode?: string;\n\n  /**\n   * 分发状态\n   */\n  dispatch?: Dispatch<IReducerAction>;\n}\n\n/**\n * 初始值\n */\nexport const unionPayInitState: IUnionPayState = {\n  pageType: PAGE_TYPE.BANK\n};\n\n/**\n * Context\n */\nexport const Context = createContext<IUnionPayState>(unionPayInitState);\n\nexport enum ACTION_TYPE {\n  // 更新手机号\n  UPDATE_PHONE = 'UPDATE_PHONE',\n  // 更新银行卡\n  UPDATE_BANK_NO = 'UPDATE_BANK_NO',\n  // 更新验证码\n  UPDATE_SMS_CODE = 'UPDATE_SMS_CODE',\n  // 更新订单信息\n  UPDATE_ORDER_INFO = 'UPDATE_ORDER_INFO',\n  // 更新页面类型\n  UPDATE_PAGE_TYPE = 'UPDATE_PAGE_TYPE'\n}\n\nexport interface IReducerAction {\n  type: ACTION_TYPE;\n  payload: IUnionPayState;\n}\n\n/**\n * reduce\n * @param state 原状态\n * @param action 一个action\n */\nexport const reducer: Reducer<IUnionPayState, IReducerAction> = (state, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case ACTION_TYPE.UPDATE_PHONE:\n    case ACTION_TYPE.UPDATE_BANK_NO:\n    case ACTION_TYPE.UPDATE_SMS_CODE:\n    case ACTION_TYPE.UPDATE_ORDER_INFO:\n    case ACTION_TYPE.UPDATE_PAGE_TYPE:\n      return {\n        ...state,\n        ...payload\n      };\n    default:\n      return state;\n  }\n};\n","import React, { FC, useState, useCallback, useContext, useRef } from 'react';\nimport { Button } from 'antd-mobile';\nimport useSimpleCountDown from '@/components/hooks/useSimpleCountDown';\nimport { ERROR_CODE, SMS_CODE } from '@/constants';\nimport { postUnionSmsCode } from '@/service/product-service';\nimport { Context, IUnionPayState } from './model';\nimport message from '@/utils/message';\nimport { tools } from '@/utils';\nimport msToast from '@/components/modal/msToast';\nimport monitor from '@/utils/monitor';\n\ninterface ISmsCodeButtonProps {\n  className?: string;\n  time?: number;\n}\n\n/**\n * 获取手机验证码 按钮\n * @param className 类名属性\n * @param time 时间\n */\nconst SmsCodeButton: FC<ISmsCodeButtonProps> = ({ className, time = SMS_CODE.TIME }) => {\n  const { orderNo, paymentName, bankNo, phoneNo }: IUnionPayState = useContext(Context);\n\n  // 发送验证码 按钮 disabled属性状态控制\n  const [disabled, updateDisabled] = useState<boolean>(false);\n  // 发送验证码 按钮 loading属性状态控制\n  const [loading, updateLoading] = useState<boolean>(false);\n\n  /**\n   * 统计倒计时的次数\n   */\n  const ref = useRef<number>(0);\n\n  /**\n   * 处理倒计时结束时的回调\n   */\n  const handleCountdownFinish = useCallback(() => {\n    updateDisabled(false);\n  }, []);\n\n  /**\n   * 倒计时副作用\n   * countdownTime 当前时间\n   * updateCountdownActive  开启倒计时方法\n   */\n  const [countdownTime, updateCountdownActive] = useSimpleCountDown(time, handleCountdownFinish);\n\n  /**\n   * 发送验证码按钮的点击回调\n   */\n  const handleBtnClick = useCallback(async () => {\n    try {\n      updateDisabled(true);\n      updateLoading(true);\n      if (!orderNo || !bankNo || !paymentName || !phoneNo) {\n        monitor.log({\n          message: `[发送银联验证码API]，参数错误。参数 => ${JSON.stringify({\n            orderNo,\n            bankNo,\n            paymentName,\n            phoneNo\n          })}`\n        });\n        message.error('参数有误');\n        return;\n      }\n      const bankStr = bankNo.replace(/\\s+/g, '');\n      monitor.log({\n        message: `[发送银联验证码API]，调用前。参数 => ${JSON.stringify({\n          orderNo,\n          bankNo: bankStr,\n          paymentName,\n          phoneNo\n        })}`\n      });\n      await postUnionSmsCode({ orderNo, bankNo: bankStr, phoneNo, paymentName });\n      // 统计倒计时次数\n      ref.current = ref.current + 1;\n      monitor.log({\n        message: `[发送银联验证码API]，调用后。第${ref.current}次倒计时`\n      });\n      // 开启倒计时\n      updateCountdownActive(true);\n    } catch (error) {\n      monitor.error({\n        message: `[发送银联验证码API]，错误 => ${JSON.stringify(error)}`\n      });\n      updateDisabled(false);\n      const { code, msg } = error;\n      switch (code) {\n        case ERROR_CODE.LOGIN_REQUIRED:\n          // message.error('请您重新登录', () => {\n          //   window.location.replace(tools.getLoginUrl());\n          // });\n          msToast.modal({\n            content: '请您重新登录',\n            closeVisible: false,\n            okText: '确定',\n            onOk: () => {\n              window.location.replace(tools.getLoginUrl());\n            }\n          });\n          break;\n        default:\n          msToast.modal({\n            content: msg || '发生错误',\n            closeVisible: false,\n            okText: '我知道了'\n          });\n          break;\n      }\n    } finally {\n      updateLoading(false);\n    }\n  }, []);\n\n  let text = '获取手机验证码';\n  if (countdownTime >= 0 && countdownTime <= time && disabled) {\n    text = `${countdownTime}s后重新获取`;\n  }\n  if (loading) {\n    text = '发送中...';\n  }\n\n  return (\n    <Button type=\"primary\" className={className} disabled={disabled} onClick={handleBtnClick}>\n      {text}\n    </Button>\n  );\n};\n\nexport default SmsCodeButton;\n","import { useState, useRef } from 'react';\nimport useInterval from '@/components/hooks/useInterval';\nimport { queryOrderStatus } from '@/service/product-service';\nimport { ORDER_PAY_STATUS } from '@/constants';\nimport { IOrderStatus } from '@/types/payment';\nimport message from '@/utils/message';\nimport { getLoginUrl } from '@/utils/tools';\nimport monitor from '@/utils/monitor';\nimport msToast from '@/components/modal/msToast';\nimport { tools } from '@/utils';\n\n/**\n * 轮询涉及state\n */\ninterface IPollingOrderState {\n  active: boolean;\n  payResultUrl: string; // 跳转结果页\n}\n\n/**\n * 轮询时间间隔\n */\nconst POLLING_TIME = 4000;\n\n/**\n * 轮询订单\n * @param orderNo 订单号\n */\nconst usePollingOrder = (orderNo?: string) => {\n  const [{ active, payResultUrl }, updatePollingState] = useState<IPollingOrderState>({\n    active: false,\n    payResultUrl: ''\n  });\n\n  /**\n   * 轮询次数统计\n   */\n  const ref = useRef<number>(0);\n\n  useInterval(async () => {\n    if (!orderNo || !payResultUrl) {\n      updatePollingState((state) => ({\n        ...state,\n        active: false\n      }));\n      return;\n    }\n    if (ref.current > 3) {\n      // 兜底逻辑，轮询第4次时，停止，抛出错误\n      updatePollingState((state) => ({\n        ...state,\n        active: false\n      }));\n      message.closeLoading();\n      msToast.modal({\n        content: '支付异常，请联系中教老师',\n        closeVisible: false,\n        okText: '我知道了',\n        onOk: () => {\n          window.location.replace(tools.getFullPath('/order'));\n        }\n      });\n      monitor.log({\n        message: `[轮询订单API]，第${ref.current}次。停止轮询`\n      });\n      return;\n    }\n    try {\n      // 统计轮询次数\n      ref.current = ref.current + 1;\n      monitor.log({\n        message: `[轮询订单API]，第${ref.current}次，调用前。参数 => ${JSON.stringify({\n          orderNo\n        })}`\n      });\n\n      const orderStatus: IOrderStatus = await queryOrderStatus({ orderNo });\n\n      monitor.log({\n        message: `[轮询订单API]，第${ref.current}次，调用后。结果 => ${JSON.stringify(orderStatus)}`\n      });\n\n      switch (orderStatus.status) {\n        /**\n         * 未支付\n         */\n        case ORDER_PAY_STATUS.BIZ_ORDER_NOT_PAID:\n          console.log('订单未支付, 继续查询...');\n          break;\n        /**\n         * 已支付成功\n         */\n        case ORDER_PAY_STATUS.BIZ_ORDER_ALREADY_PAID:\n          // 清空定时器\n          updatePollingState((state) => ({\n            ...state,\n            active: false\n          }));\n          // 设置支付结果页url\n          window.location.replace(payResultUrl);\n          break;\n        /**\n         * 登录状态过期\n         */\n        case ORDER_PAY_STATUS.LOGIN_REQUIRED:\n          updatePollingState((state) => ({\n            ...state,\n            active: false\n          }));\n          message.error('请您重新登录', () => {\n            window.location.replace(getLoginUrl());\n          });\n          break;\n        /**\n         * 其他错误\n         */\n        default:\n          updatePollingState((state) => ({\n            ...state,\n            active: false\n          }));\n          message.error(orderStatus.statusText || '发生错误');\n          break;\n      }\n    } catch (error) {\n      monitor.error({\n        message: `[轮询订单API]，第${ref.current}次，错误 => ${JSON.stringify(error)}`\n      });\n      // 清空定时器\n      updatePollingState((state) => ({\n        ...state,\n        active: false\n      }));\n      const errorMessage = (error && error.msg) || '发生错误, 请您稍后重试';\n      message.error(errorMessage);\n    }\n  }, (active && POLLING_TIME) || null);\n\n  return updatePollingState;\n};\n\nexport default usePollingOrder;\n","import React, { FC, SyntheticEvent, useCallback, useContext, useState } from 'react';\nimport { Button, InputItem, List } from 'antd-mobile';\nimport { ERROR_CODE, SMS_CODE } from '@/constants';\nimport classNames from 'classnames';\nimport SmsCodeButton from './smscode-button';\nimport styles from './union-pay.less';\nimport { ACTION_TYPE, Context, IUnionPayState, PAGE_TYPE } from './model';\nimport message from '@/utils/message';\nimport usePollingOrder from './use-polling-order';\nimport { unionPay } from '@/service/product-service';\nimport { tools } from '@/utils';\nimport msToast from '@/components/modal/msToast';\nimport monitor from '@/utils/monitor';\n\n/**\n * 验证码的正则\n */\nconst smsCodePattern = /^([0-9]){1}(\\d{5})$/;\n\n/**\n * 校验 验证码的正确性\n * @param smsCodeValue 验证码\n */\nconst verifySmsCode = (smsCodeValue?: string): boolean => {\n  if (!smsCodeValue) {\n    message.error('请输入短信验证码');\n    return false;\n  }\n  if (!smsCodePattern.test(smsCodeValue)) {\n    message.error('请输入正确的验证码');\n    return false;\n  }\n  return true;\n};\n\n/**\n * 发送验证码页面\n *\n * ref： https://open.unionpay.com/tjweb/acproduct/list?apiservId=449\n *\n */\nconst UnionPay: FC = () => {\n  const {\n    dispatch,\n    pageType,\n    phoneNo,\n    orderNo,\n    bankNo,\n    smsCode: smsCodeValue,\n    stageCount,\n    paymentName\n  }: IUnionPayState = useContext(Context);\n\n  // 确认支付 按钮 disabled属性状态控制\n  const [disabled, updateDisabled] = useState<boolean>(true);\n  // 确认支付 按钮 loading属性状态控制\n  const [loading, updateLoading] = useState<boolean>(false);\n\n  /**\n   * 轮询订单状态\n   */\n  const updatePollingState = usePollingOrder(orderNo);\n\n  /**\n   * 验证码输入框的change事件回调\n   */\n  const handleInputChange = useCallback((value: string): void => {\n    if (smsCodePattern.test(value)) {\n      updateDisabled(false);\n    } else {\n      updateDisabled(true);\n    }\n    dispatch &&\n      dispatch({\n        type: ACTION_TYPE.UPDATE_SMS_CODE,\n        payload: {\n          smsCode: value\n        }\n      });\n  }, []);\n\n  const handlePayClick = useCallback(\n    async (e: SyntheticEvent): Promise<any> => {\n      e.preventDefault();\n      // 校验 验证码\n      const verifyResult = verifySmsCode(smsCodeValue);\n      if (!verifyResult) {\n        return;\n      }\n      try {\n        updateDisabled(true);\n        updateLoading(true);\n        if (!paymentName || !bankNo || !smsCodeValue || !phoneNo || !orderNo || !stageCount) {\n          monitor.log({\n            message: `[银联支付API]，参数错误。参数 => ${JSON.stringify({\n              paymentName,\n              bankNo,\n              smsCodeValue,\n              phoneNo\n            })}`\n          });\n          return;\n        }\n        const bankStr = bankNo.replace(/\\s+/g, '');\n        monitor.log({\n          message: `[银联支付API]，调用前。参数 => ${JSON.stringify({\n            orderNo,\n            paymentName,\n            bankNo: bankStr,\n            stageCount,\n            smsCode: smsCodeValue,\n            phoneNo\n          })}`\n        });\n        // 支付\n        const { payResultUrl } = await unionPay({\n          orderNo,\n          paymentName,\n          bankNo: bankStr,\n          stageCount,\n          smsCode: smsCodeValue,\n          phoneNo\n        });\n        monitor.log({ message: `[银联支付API]，调用后。结果 => ${payResultUrl}` });\n        message.showLoading('交易处理中');\n        // 开启轮询，查询订单状态，并跳转结果页\n        updatePollingState({ active: true, payResultUrl: payResultUrl || '' });\n      } catch (error) {\n        monitor.error({ message: `[银联支付API]，错误 => ${JSON.stringify(error)}` });\n        const { code, msg } = error;\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            // message.error('请您重新登录', () => {\n            //   window.location.replace(tools.getLoginUrl());\n            // });\n            msToast.modal({\n              content: '请您重新登录',\n              closeVisible: false,\n              okText: '确定',\n              onOk: () => {\n                window.location.replace(tools.getLoginUrl());\n              }\n            });\n            break;\n          case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n          case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n          case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n          case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n          case ERROR_CODE.BIZ_ORDER_IS_PAID: // 订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_PAID_SUB: // 子订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单已经改为分次支付了\n          case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n          case ERROR_CODE.BIZ_ORDER_STATUS_IS_ERROR: // 订单状态异常\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了',\n              onOk: () => {\n                window.location.replace(tools.getFullPath('/order'));\n              }\n            });\n            break;\n          default:\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了'\n            });\n            break;\n        }\n      } finally {\n        updateLoading(false);\n        updateDisabled(false);\n      }\n    },\n    [smsCodeValue]\n  );\n\n  if (pageType !== PAGE_TYPE.SMS_CODE || !orderNo) {\n    return null;\n  }\n\n  return (\n    <div className={styles.smsCodeContainer}>\n      <List>\n        <InputItem\n          type=\"number\"\n          placeholder=\"短信验证码\"\n          prefixListCls=\"bank\"\n          maxLength={SMS_CODE.LENGTH}\n          onChange={handleInputChange}\n          value={smsCodeValue}\n          extra={<SmsCodeButton className={classNames(styles.btn, styles.smsBtn)} />}\n        />\n      </List>\n      <Button className={styles.btn} type=\"primary\" disabled={disabled} onClick={handlePayClick}>\n        {(loading && '支付中...') || '确认支付'}\n      </Button>\n    </div>\n  );\n};\n\nexport default UnionPay;\n","import React, { FC, SyntheticEvent, useCallback, useContext, useState } from 'react';\nimport { Button, InputItem, List } from 'antd-mobile';\nimport { ERROR_CODE, UNION_BANK_CARD } from '@/constants';\nimport styles from './union-pay.less';\nimport { ACTION_TYPE, Context, IUnionPayState, PAGE_TYPE } from './model';\nimport message from '@/utils/message';\nimport { queryUnionPayOpenStatus } from '@/service/product-service';\nimport { tools } from '@/utils';\nimport msToast from '@/components/modal/msToast';\nimport monitor from '@/utils/monitor';\n\n/**\n * antd-mobile的input每4位，加一个空格\n */\nconst BANK_INPUT_MAX_LENGTH = UNION_BANK_CARD.MAX_LENGTH + ~~(UNION_BANK_CARD.MAX_LENGTH / 4);\n\n/**\n * 银行卡的正则\n */\nconst bankPattern = /^([1-9]{1})(\\d{12,18})$/;\n\n/**\n * 校验银行卡\n * @param bankNo 银行卡\n */\nconst verifyBankCard = (bankNo?: string): string => {\n  if (!bankNo) {\n    message.error('请输入信用卡卡号哦~');\n    return '';\n  }\n  const bankStr = bankNo.replace(/\\s+/g, '');\n  if (!bankPattern.test(bankStr)) {\n    message.error('请输入正确的信用卡卡号');\n    return '';\n  }\n  return bankStr;\n};\n\n/**\n * 处理form表单\n * @param form form表单\n */\nconst handleForm = (form?: string) => {\n  if (!form) {\n    message.error('接口未返回表单');\n    return;\n  }\n  monitor.log({ message: '用户未开通无跳转支付，即将前往银联页面，开通无跳转支付' });\n  const div = document.createElement('div');\n  div.innerHTML = decodeURIComponent(form);\n  document.body.appendChild(div);\n\n  // 获取所有的子元素\n  const forms = div.childNodes;\n  const $form = Array.prototype.find.call(forms, (item: { id: string }) => item.id === 'pay_form');\n  // 自动提交表单\n  $form && $form.submit && $form.submit();\n};\n\n/**\n * 银行卡页面\n * ref： https://open.unionpay.com/tjweb/acproduct/list?apiservId=449\n */\nconst BankCard: FC = () => {\n  const {\n    dispatch,\n    pageType,\n    orderNo,\n    stageCount,\n    bankNo,\n    paymentName\n  }: IUnionPayState = useContext(Context);\n\n  // 立即购买 按钮 disabled属性状态控制\n  const [disabled, updateDisabled] = useState<boolean>(!!bankNo);\n  // 立即购买 按钮 loading属性状态控制\n  const [loading, updateLoading] = useState<boolean>(false);\n\n  /**\n   * 银行卡input的chang事件回调\n   */\n  const handleBankChange = useCallback((value: string): void => {\n    if (bankPattern.test(value.replace(/\\s+/g, ''))) {\n      updateDisabled(false);\n    } else {\n      updateDisabled(true);\n    }\n    if (!dispatch) {\n      return;\n    }\n    dispatch({\n      type: ACTION_TYPE.UPDATE_BANK_NO,\n      payload: {\n        bankNo: value\n      }\n    });\n  }, []);\n\n  /**\n   * 立即购买按钮 点击事件回调\n   */\n  const handlePayClick = useCallback(\n    async (e: SyntheticEvent): Promise<undefined> => {\n      e.preventDefault();\n      // 校验银行卡\n      const bankStr = verifyBankCard(bankNo);\n      if (!bankStr) {\n        monitor.log({ message: `银行卡校验未通过 => bankNo: ${bankNo}; bankStr: ${bankStr}` });\n        return;\n      }\n      try {\n        updateDisabled(true);\n        updateLoading(true);\n        // 查询用户是否开通无跳转支付\n        if (!orderNo || !stageCount || !paymentName) {\n          monitor.log({\n            message: `[查询银联是否开通无跳转支付API]，参数有误。参数 => ${JSON.stringify({\n              stageCount,\n              paymentName\n            })}`\n          });\n          message.error('参数有误');\n          return;\n        }\n        monitor.log({\n          message: `[查询银联是否开通无跳转支付API]，调用前。参数 => ${JSON.stringify({\n            orderNo,\n            bankNo: bankStr,\n            stageCount,\n            paymentName\n          })}`\n        });\n        const result = await queryUnionPayOpenStatus({\n          orderNo,\n          bankNo: bankStr,\n          stageCount,\n          paymentName\n        });\n        monitor.log({\n          message: `[查询银联是否开通无跳转支付API], 调用后。结果 => ${JSON.stringify(result)}`\n        });\n        if (result && result.form) {\n          // 用户未开通无跳转支付\n          // 直接跳转\n          handleForm(result.form);\n          // msToast.modal({\n          //   content: '您未开通无跳转支付业务',\n          //   onOk: () => {\n          //     handleForm(result.form);\n          //   },\n          //   okText: '开通',\n          //   closeText: '不开通'\n          // });\n          return;\n        }\n        // // 处理服务端返回结果\n        dispatch &&\n          dispatch({\n            type: ACTION_TYPE.UPDATE_ORDER_INFO,\n            payload: {\n              // 更新订单号(用户自主下单时)\n              orderNo: result.orderNo,\n              // 更新银行预留手机号\n              phoneNo: result.phoneNo,\n              // 显示验证码页面\n              pageType: PAGE_TYPE.SMS_CODE\n            }\n          });\n      } catch (error) {\n        monitor.error({\n          message: `[查询银联是否开通无跳转支付API]，错误 => ${JSON.stringify(error)}`\n        });\n        const { code, msg } = error;\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            // message.error('请您重新登录', () => {\n            //   window.location.replace(tools.getLoginUrl());\n            // });\n            msToast.modal({\n              content: '请您重新登录',\n              closeVisible: false,\n              okText: '确定',\n              onOk: () => {\n                window.location.replace(tools.getLoginUrl());\n              }\n            });\n            break;\n          case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n          case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n          case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n          case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n          case ERROR_CODE.BIZ_ORDER_IS_PAID: // 订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_PAID_SUB: // 子订单已支付\n          case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单已经改为分次支付了\n          case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n          case ERROR_CODE.BIZ_ORDER_STATUS_IS_ERROR: // 订单状态异常\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了',\n              onOk: () => {\n                window.location.replace(tools.getFullPath('/order'));\n              }\n            });\n            break;\n          default:\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了'\n            });\n            break;\n        }\n      } finally {\n        updateLoading(false);\n        updateDisabled(false);\n      }\n    },\n    [bankNo]\n  );\n\n  if (pageType !== PAGE_TYPE.BANK) {\n    return null;\n  }\n\n  return (\n    <div className={styles.bankCardContainer}>\n      <List>\n        <InputItem\n          type=\"bankCard\"\n          placeholder=\"请输入信用卡卡号哦~\"\n          prefixListCls=\"bank\"\n          maxLength={BANK_INPUT_MAX_LENGTH}\n          onChange={handleBankChange}\n          value={bankNo}\n        />\n      </List>\n      <Button className={styles.btn} type=\"primary\" disabled={disabled} onClick={handlePayClick}>\n        {(loading && '提交中...') || '立即购买'}\n      </Button>\n    </div>\n  );\n};\n\nexport default BankCard;\n","import React, { FC, useEffect, useReducer } from 'react';\nimport styles from './union-pay.less';\nimport { ACTION_TYPE, Context, IUnionPayState, reducer, unionPayInitState } from './model';\nimport queryString from 'query-string';\n\nimport SmsCode from './sms-code';\nimport BankCard from './bank-card';\nimport { EVENT_CODE, PAYMENT_NAME, PAYMENT_TEXT } from '@/constants';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport msToast from '@/components/modal/msToast';\nimport useViewEvent from '@/components/hooks/useViewEvent';\nimport monitor from '@/utils/monitor';\nimport useWechatSdk from '@/components/hooks/useWechatSdk';\nimport { shareConfig } from '@/config';\nimport { getFullPath } from '@/utils/tools';\nimport classNames from 'classnames';\n\nconst defaultShareOptions = shareConfig.default;\n\ninterface IUrlParams {\n  /**\n   * 订单号\n   */\n  readonly orderNo?: string;\n  /**\n   * 支付方法\n   */\n  readonly method?: PAYMENT_NAME;\n  /**\n   * 分期次数\n   */\n  readonly stageCount?: string;\n  /**\n   * 银行卡号\n   * @description 用户未开通无跳转支付业务时，前端通过form，跳转到银联页面开通业务。之后，回跳到本页面时，带有bankNo参数\n   */\n  readonly bankNo?: string;\n}\n\n/**\n * 银联支付\n * ref： https://open.unionpay.com/tjweb/acproduct/list?apiservId=449\n */\nconst UnionPay: FC = () => {\n  const [state, dispatch] = useReducer(reducer, unionPayInitState);\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  useEffect(() => {\n    // 从 url 获取 订单号, 支付渠道, 支付类型, 课包versionId\n    const orderInfo: IUrlParams = queryString.parse(window.location.search);\n    if (!orderInfo || !orderInfo.orderNo || !orderInfo.method || !orderInfo.stageCount) {\n      monitor.log({ message: `银联支付页参数不全 => ${JSON.stringify(orderInfo)}` });\n      msToast.modal({\n        content: '参数错误',\n        okText: '我知道了',\n        closeVisible: false,\n        onOk: () => {\n          window.location.replace(getFullPath('/order'));\n        }\n      });\n      return;\n    }\n    let bankNoOfUrlParams = '';\n    if (orderInfo.bankNo) {\n      bankNoOfUrlParams = orderInfo.bankNo.replace(/\\D/g, '').replace(/(....)(?=.)/g, '$1 ');\n    }\n    // 更新订单信息\n    dispatch({\n      type: ACTION_TYPE.UPDATE_ORDER_INFO,\n      payload: {\n        ...orderInfo,\n        paymentName: orderInfo.method,\n        bankNo: bankNoOfUrlParams\n      }\n    });\n  }, []);\n\n  /**\n   * 前端埋点, 记录浏览事件\n   */\n  useViewEvent({\n    eventCode: EVENT_CODE.VIEW_UNION_PAY,\n    message: '浏览银联支付页'\n  });\n\n  useEffect(() => {\n    monitor.log({ message: `浏览银联支付相关页面 => ${state.pageType}` });\n  }, [state.pageType]);\n\n  const contextValue: Partial<IUnionPayState> = { ...state, dispatch };\n\n  let paymentText = null;\n  let paymentName = '';\n  if (state.paymentName) {\n    paymentName = (state.paymentName as string).toUpperCase();\n    paymentText = PAYMENT_TEXT[paymentName as keyof typeof PAYMENT_TEXT];\n  }\n\n  return (\n    <Context.Provider value={contextValue}>\n      <div className={styles.bankContainer}>\n        {/* 银联名称 */}\n        {state.paymentName && (\n          <div className={classNames(styles.bankName, styles.bankIcon, styles[paymentName])}>\n            {paymentText}付款\n          </div>\n        )}\n        {/* 银行卡页面 */}\n        <BankCard />\n        {/* 短信验证码 */}\n        <SmsCode />\n      </div>\n    </Context.Provider>\n  );\n};\n\nexport default UnionPay;\n","import React, { FC, useEffect, useState } from 'react';\nimport queryString from 'query-string';\n\nimport * as productService from '@/service/product-service';\nimport { ERROR_CODE, ORDER_PAY_STATUS } from '@/constants';\nimport { IOrderStatus } from '@/types/payment';\nimport styles from './result.less';\nimport useSimpleCountDown from '@/components/hooks/useSimpleCountDown';\nimport { tools } from '@/utils';\nimport useCheckWechatAuth from '@/components/hooks/useCheckWechatAuth';\nimport msToast from '@/components/modal/msToast';\nimport monitor from '@/utils/monitor';\nimport useWechatSdk from '@/components/hooks/useWechatSdk';\nimport { shareConfig } from '@/config';\n\nimport loadingImg from '@/public/images/common-loading.gif';\nimport EmptyPage from '@/views/components/empty-page';\n\nconst defaultShareOptions = shareConfig.default;\n\n/**\n * url 参数\n */\ninterface IUrlParams {\n  /**\n   * 订单号\n   */\n  orderNo: string;\n}\n\ninterface IErrorState {\n  isError: boolean;\n  message: string | null;\n}\n\n/**\n * 支付结果页\n */\nconst Result: FC<{}> = () => {\n  const [loading, setLoading] = useState(true);\n  const [poll, setPoll] = useState(false);\n  const [orderStatus, setOrderStatus] = useState<IOrderStatus | null>(null);\n  // 错误\n  const [error, updateError] = useState<IErrorState>({ isError: false, message: null });\n\n  const { orderNo } = queryString.parse(window.location.search) as IUrlParams;\n\n  /**\n   * 检查用户的微信授权\n   */\n  useCheckWechatAuth({ support: 'all' });\n\n  /**\n   * 配置微信JS-SDK, 同时设置微信分享\n   */\n  useWechatSdk({ shareStatus: true, shareOptions: defaultShareOptions });\n\n  /**\n   * 倒计时副作用\n   * countdownTime 当前时间\n   * updateCountdownActive  开启倒计时方法\n   */\n  const [countdownTime, updateCountdownActive] = useSimpleCountDown(\n    5,\n    () => {\n      // 关闭loading\n      setLoading(false);\n      // 关闭轮询\n      setPoll(false);\n    },\n    false\n  );\n\n  /**\n   * 倒计时结束, 跳转到订单详情页\n   * orderStatus.parentOrderNo, 永远返回的都是父订单号\n   * 普通订单, 返回的就是普通订单号\n   * 分次支付订单, 返回的就是父订单号\n   */\n  const handleRedirect = () => {\n    let url = tools.getFullPath(`/order`);\n    if (orderStatus) {\n      url = tools.getFullPath(`/order/${(orderStatus as IOrderStatus).parentOrderNo}`);\n    }\n    window.location.href = url;\n  };\n\n  /**\n   * 查询数据\n   * isInit: 是否是初始化加载\n   */\n  const queryOrderStatus = (isInit = false) => {\n    productService\n      .queryOrderStatus({\n        orderNo\n      })\n      .then((orderStatus: IOrderStatus) => {\n        // 设置订单状态\n        setOrderStatus(orderStatus);\n\n        const success = orderStatus.status === ORDER_PAY_STATUS.BIZ_ORDER_ALREADY_PAID;\n\n        // 如果支付成功\n        if (success) {\n          // 关闭loading\n          setLoading(false);\n          // 关闭轮询\n          setPoll(false);\n        }\n\n        // 如果是第一次查询, 并且支付状态不是 '支付成功', 则开启轮询\n        if (isInit && !success) {\n          setPoll(true);\n        }\n\n        // 埋点\n        monitor.log({\n          eventCode: tools.getEventCodeByPaymentPage(success),\n          message: `支付结果页: ${success ? '支付成功' : orderStatus.status}`\n        });\n      })\n      .catch((error: any) => {\n        const { code, msg } = error;\n\n        // 关闭loading\n        setLoading(false);\n        // 关闭轮询\n        setPoll(false);\n\n        // 埋点\n        monitor.error({\n          message: `支付结果页: 发生错误, ${JSON.stringify(error)}`\n        });\n        // 如果以弹框的形式，弹出错误，则背景页不显示内容\n        updateError({ isError: true, message: null });\n        switch (code) {\n          case ERROR_CODE.LOGIN_REQUIRED:\n            msToast.modal({\n              content: '请您重新登录',\n              closeVisible: false,\n              okText: '确定',\n              onOk: () => {\n                window.location.replace(tools.getLoginUrl());\n              }\n            });\n            break;\n          case ERROR_CODE.BIZ_ORDER_NOT_EXIST: // 订单不存在\n          case ERROR_CODE.BIZ_ORDER_IS_REFUND: // 订单已经退单\n          case ERROR_CODE.BIZ_ORDER_EXPIRYTIME_OVER: // 订单已过期\n          case ERROR_CODE.BIZ_ORDER_IS_CLOSE: // 订单已关闭\n          case ERROR_CODE.BIZ_ORDER_IS_SUB: // 订单状态改为分次支付\n          case ERROR_CODE.BIZ_ORDER_NO_USER_ID_NOT_MATCH: // 订单与用户下单ID不匹配\n            msToast.modal({\n              content: msg || '发生错误',\n              closeVisible: false,\n              okText: '我知道了',\n              onOk: () => {\n                window.location.replace(tools.getFullPath('/order'));\n              }\n            });\n            break;\n          default:\n            updateError({ isError: true, message: msg || '发生错误' });\n            break;\n        }\n      });\n  };\n\n  /**\n   * 开启倒计时\n   */\n  useEffect(() => {\n    updateCountdownActive(true);\n  }, []);\n\n  /**\n   * 页面加载完 先查询查询订单状态\n   */\n  useEffect(() => {\n    queryOrderStatus(true);\n  }, []);\n\n  /**\n   * 如果第一次查询, 订单状态不是支付完成, 则开启定时器\n   */\n  useEffect(() => {\n    if (!poll) {\n      return;\n    }\n\n    const timer = setInterval(() => {\n      queryOrderStatus();\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [poll]);\n\n  if (error.isError) {\n    if (error.message) {\n      return <EmptyPage describe={error.message} />;\n    }\n    return null;\n  }\n\n  let content = null;\n  if (loading) {\n    content = (\n      <>\n        <div className={styles.loading}>\n          <img src={loadingImg} />\n        </div>\n        <p>支付结果确认中 {countdownTime}秒</p>\n      </>\n    );\n  } else {\n    // 是否支付成功\n    let success = false;\n    let statusText = '支付确认失败';\n    // 是否继续支付\n    let isContinue = false;\n\n    if (orderStatus) {\n      success = orderStatus.status === ORDER_PAY_STATUS.BIZ_ORDER_ALREADY_PAID ? true : false;\n      statusText = orderStatus.statusText;\n      isContinue = orderStatus.isContinue;\n    }\n\n    content = (\n      <>\n        <div className={success ? styles.success : styles.fail}>\n          <div />\n          <p>{success ? '支付成功' : statusText}</p>\n        </div>\n        <button onClick={handleRedirect}>{isContinue ? '继续支付' : '立即前往查看订单'}</button>\n      </>\n    );\n  }\n\n  return (\n    <div className={styles.result}>\n      <div className={styles.content}>{content}</div>\n    </div>\n  );\n};\n\nexport default Result;\n","import React, { FC, useEffect, useState } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport qs from 'query-string';\n\nimport { Loading } from '@/components/loading';\nimport EmptyPage from '@/views/components/empty-page';\n\nimport * as orderService from '@/service/order-service';\nimport monitor from '@/utils/monitor';\nimport { EVENT_CODE } from '@/constants/events';\n\ninterface IQuerySearch {\n  id?: string;\n  // 页面来源  空 => 订单详情进入    preview => 预览进入\n  source?: 'preview';\n}\n\nconst initialData = {\n  htmlContent: '',\n  loading: true,\n  isError: false,\n  errorMessage: ''\n};\n/**\n * 用户协议\n */\nconst Agreement: FC<RouteComponentProps> = (props) => {\n  const [state, setState] = useState(() => {\n    return initialData;\n  });\n  const { loading, isError, errorMessage } = state;\n  const { id, source }: IQuerySearch = qs.parse(location.search) || {};\n\n  /**\n   * 页面浏览埋点\n   */\n  useEffect(() => {\n    if (source === 'preview') {\n      monitor.log({\n        eventCode: EVENT_CODE.VIEW_AGREEMENT_DETAIL__PREVIEW,\n        message: '浏览协议详情页面(预览)'\n      });\n    } else {\n      monitor.log({\n        eventCode: EVENT_CODE.VIEW_AGREEMENT_DETAIL__ORDER,\n        message: '浏览协议详情页面(订单详情)'\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    // if (!id) {\n    //   setState((state) => ({ ...state, isError: true, errorMessage: '参数错误: id' }));\n    //   return;\n    // }\n    // 创建iframe的内存DOM\n    const $iframe: HTMLIFrameElement = document.createElement('iframe');\n    const $root = document.getElementById('root') as HTMLDivElement;\n    // iframe 样式\n    $iframe.style.minHeight = '100%';\n    $iframe.style.width = '100%';\n    $iframe.style.border = 'none';\n    // 挂载到dom上\n    if ($root) {\n      $root.appendChild($iframe);\n    }\n    const agreementPromise = id ? orderService.getAgreement(id) : orderService.getNewAgreement();\n\n    agreementPromise\n      .then((data) => {\n        let content = '';\n        if (data) {\n          content = data.htmlContent || '';\n        }\n        if (content && $iframe.contentDocument) {\n          $iframe.contentDocument.write(buildPreviewHtml(content));\n        }\n        setState({\n          ...state,\n          htmlContent: content,\n          loading: false\n        });\n      })\n      .catch((error) => {\n        $root.removeChild($iframe);\n        const { msg } = error || {\n          msg: '发生错误'\n        };\n        setState({\n          ...state,\n          isError: true,\n          errorMessage: msg,\n          loading: false\n        });\n      });\n    return () => {\n      if ($root) {\n        $root.removeChild($iframe);\n      }\n    };\n  }, []);\n\n  if (loading) {\n    return <Loading />;\n  }\n  if (isError) {\n    return <EmptyPage describe={errorMessage} />;\n  }\n  return null;\n  // return <div dangerouslySetInnerHTML={{ __html: buildPreviewHtml(htmlContent) }} />;\n};\n\nexport default withRouter(Agreement);\n\nconst buildPreviewHtml = (html: string) => {\n  return `\n    <!Doctype html>\n    <html>\n      <head>\n      <title>魔力耳朵用户协议</title>\n      <style>\n        html,body{\n          height: 100%;\n          margin: 0;\n          padding: 0;\n          overflow: auto;\n          background-color: #f1f2f3;\n          -webkit-overflow-scrolling: touch;\n        }\n        .container{\n          box-sizing: border-box;          \n          max-width: 100%;\n          min-height: 100%;\n          margin: 0 auto;\n          padding: 30px 20px;\n          background-color: #fff;\n          border-right: solid 1px #eee;\n          border-left: solid 1px #eee;\n        }\n        .container img,\n        .container audio,\n        .container video{\n          max-width: 100%;\n          height: auto;\n        }\n        .container p{\n          white-space: pre-wrap;\n          min-height: 1em;\n        }\n        .container pre{\n          padding: 15px;\n          background-color: #f1f1f1;\n          border-radius: 5px;\n        }\n        .container blockquote{\n          margin: 0;\n          padding: 15px;\n          background-color: #f1f1f1;\n          border-left: 3px solid #d1d1d1;\n        }\n      </style>\n      <body>\n          <div class=\"container\">${html}</div>\n      </body>\n    </html>\n  `;\n};\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Product from '@/views/product/product';\nimport ProductList from '@/views/product/product-list';\nimport QrCodePay from '@/views/payment/qrcode-pay';\nimport OrderList from '@/views/order/list';\nimport OrderDetail from '@/views/order/details';\nimport UnionPay from '@/views/payment/union-pay';\nimport Result from '@/views/payment/result';\nimport Agreement from '@/views/agreement/agreement';\n\nconst route = (\n  <Switch>\n    <Route key=\"Product\" path=\"/product/:productId\" component={Product} />,\n    <Route key=\"ProductList\" path=\"/product\" component={ProductList} />,\n    <Route key=\"OrderDetail\" path=\"/order/:orderNo\" component={OrderDetail} />,\n    <Route key=\"OrderList\" path=\"/order\" component={OrderList} />,\n    <Route key=\"QrCodePay\" path=\"/pay/qrcode\" component={QrCodePay} />,\n    <Route key=\"UnionPay\" path=\"/pay/unionpay\" component={UnionPay} />\n    <Route key=\"Result\" path=\"/pay/result\" component={Result} />,\n    <Route key=\"agreement\" path=\"/agreement\" component={Agreement} />,\n    <Route key=\"default\" path=\"*\" component={ProductList} />\n  </Switch>\n);\n\nexport default route;\n","import React, { FC, useEffect } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Monitor from '@mmears/monitor';\n\nimport * as tools from '@/utils/tools';\nimport ErrorBoundary from '@/components/error-boundary';\nimport router from './router';\n\nimport { appConfig } from './config';\n\n// 性能监控实例\nconst monitor = new Monitor();\n\nconst App: FC = () => {\n  /**\n   * 异步加载eruda脚本\n   */\n  useEffect(() => {\n    /**\n     * 非生产环境, 移动端才加载调试工具\n     */\n    if (appConfig.env !== 'production' && tools.isWap()) {\n      const script = document.createElement('script');\n      script.src = '//cdn.bootcss.com/eruda/1.5.7/eruda.min.js';\n      document.body.appendChild(script);\n      script.onload = () => {\n        (window as any).eruda && (window as any).eruda.init();\n      };\n    }\n\n    // 开启性能监控\n    monitor.init();\n\n    return () => {\n      // 卸载事件\n      monitor.destroy();\n    };\n  }, []);\n\n  // 通过命令行 配置项目运行的目录\n  const basename = appConfig.basename;\n\n  return (\n    <ErrorBoundary>\n      <Router basename={basename}>{router}</Router>\n    </ErrorBoundary>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n// html font-size 计算\nimport './public/js/flexible';\n// 样式重置\nimport './public/css/reset.less';\n// 全局样式\nimport './public/css/main.less';\n// ms-toast 样式\nimport './public/css/ms-toast.less';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bankContainer\":\"bankContainer--2xlET\",\"btn\":\"btn--2llRN\",\"smsCodeContainer\":\"smsCodeContainer--38af9\",\"smsBtn\":\"smsBtn--1wYyt\",\"bankName\":\"bankName--3h36i\",\"bankIcon\":\"bankIcon--S0xwr\",\"Wechat\":\"Wechat--1eWJy\",\"WechatMP\":\"WechatMP--1MQa9\",\"WechatQR\":\"WechatQR--3PvEM\",\"Alipay\":\"Alipay--YuOny\",\"AlipayQR\":\"AlipayQR--2IccJ\",\"AlipayWap\":\"AlipayWap--2_LoQ\",\"AlipayHB\":\"AlipayHB--2Ev3A\",\"CmblifeFQ\":\"CmblifeFQ--3sUSK\",\"CCB_BLANK_FQ\":\"CCB_BLANK_FQ--G-oMX\",\"GNETPG_FQ\":\"GNETPG_FQ--2jOBC\",\"UNIONPAY_BOC_FQ\":\"UNIONPAY_BOC_FQ--11zPf\",\"UNIONPAY_ABOC_FQ\":\"UNIONPAY_ABOC_FQ--2Q0Op\",\"UNIONPAY_HXB_FQ\":\"UNIONPAY_HXB_FQ--1v7SV\",\"UNIONPAY_SPDB_FQ\":\"UNIONPAY_SPDB_FQ--362iJ\",\"UNIONPAY_CMBC_FQ\":\"UNIONPAY_CMBC_FQ--3QslP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-wrap\":\"modal-wrap--QFx2a\",\"modal\":\"modal--3WR7P\",\"modal-header\":\"modal-header--3ln1t\",\"modal-title\":\"modal-title--2bHMr\",\"modal-content\":\"modal-content--aQnMP\",\"modal-operator\":\"modal-operator--pJc6y\",\"modal-operator-close\":\"modal-operator-close--LQdtM\",\"modal-operator-confirm\":\"modal-operator-confirm--3xKSd\",\"mask\":\"mask--4NU4H\",\"noTouch\":\"noTouch--1It5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--3HTtI\",\"row\":\"row--ix959\",\"nickName\":\"nickName--3W7Nw\",\"id\":\"id--AUFD8\",\"phone\":\"phone--1uwwS\",\"photo\":\"photo--1MPbz\",\"change\":\"change--D8uZL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"payBarFixed\":\"payBarFixed--2OYUr\",\"payBar\":\"payBar--1W244\",\"payContent\":\"payContent--F6KTj\",\"payTip\":\"payTip--3_tYd\",\"payTime\":\"payTime--33Nm-\",\"disabled-payTime\":\"disabled-payTime--2Yguf\",\"pay\":\"pay--AKZV2\",\"disabled-pay\":\"disabled-pay--ygS2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"box--2aZ9H\",\"pay\":\"pay--3uxXM\",\"wechat\":\"wechat--bYawh\",\"alipay\":\"alipay--Dzb8Z\",\"price\":\"price--1m8xP\",\"qrBox\":\"qrBox--Jo4k1\",\"desc\":\"desc--2s8Ua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"result\":\"result--1RZzf\",\"content\":\"content--nh2XT\",\"loading\":\"loading--2ZaOT\",\"success\":\"success--3hFUl\",\"fail\":\"fail--3O2Y7\"};"],"sourceRoot":""}